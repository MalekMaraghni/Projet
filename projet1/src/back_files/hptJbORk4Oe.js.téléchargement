if (self.CavalryLogger) { CavalryLogger.start_js(["2OICM"]); }

__d("MWComposerXacDisclosureRelayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],b=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],c={kind:"InlineFragment",selections:[{documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3987561491294147",metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPaymentEligibilityQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"fbids"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"PeerToPeerPaymentAccount",kind:"LinkedField",name:"peer_to_peer_payments",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"fbids",variableName:"fbids"}],concreteType:"PeerToPeerPaymentUserEligibility",kind:"LinkedField",name:"can_send_to",plural:!0,selections:[{alias:null,args:null,concreteType:"P2PPaymentUserFacingError",kind:"LinkedField",name:"exception",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatComposerP2PPaymentEligibilityQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatComposerP2PPaymentEligibilityQuery",selections:b},params:{id:"2858925340888348",metadata:{},name:"MWChatComposerP2PPaymentEligibilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatComposerP2PPopoverQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3493411087448570",metadata:{},name:"MWChatComposerP2PPopoverQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:"2353962864732251",metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2229218363872708",metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:"2533792060016176",metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2480352425341129",metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2260280317411482",metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMessengerUnsendNUXQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],b=[{kind:"Variable",name:"nux_id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"3302322696546660",metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometProfilePhoto_EXPERIMENTAL.react",["CometBadgeContainer.react","CometImage.react","CometImageContainer.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={photo:{display:"a8c37x1j",maxWidth:"d2edcug0",minHeight:"sn7ne77z",objectFit:"bixrwtb6"}};function a(a){var c=a.alt,d=a.badge,e=a.badgeAlign,f=a.disabled;f=f===void 0?!1:f;var i=a.shape;i=i===void 0?"square":i;var j=a.size;a=a.source;j=g.jsx(b("CometImageContainer.react"),babelHelpers["extends"]({},j==="fill"?{aspectRatio:1}:{size:j},{disabled:f,shape:i,children:g.jsx(b("CometImage.react"),{alt:c,src:a,xstyle:h.photo})}));return d!=null?g.jsx(b("CometBadgeContainer.react"),{badge:d,badgeAlign:e,children:j}):j}}),null);
__d("CometFacepilePhoto.react",["BaseView.react","CometBadgeContainer.react","CometProfilePhoto_EXPERIMENTAL.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={item:{position:"pmk7jnqg"},moreItem:{alignItems:"bp9cbjyn",backgroundColor:"tdjehn4e",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m",justifyContent:"taijpn5t"},moreItemFontWeight:{fontWeight:"lrazzd5p"},moreItemInsetBorder:{borderTopStartRadius:"n00je7tq",borderTopEndRadius:"arfg74bv",borderBottomEndRadius:"qs9ysxi8",borderBottomStartRadius:"k77z8yql",bottom:"i09qtzwb",boxShadow:"oaz4zybt",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"}},j={40:{height:"qypqp5cg",width:"q676j6op"},60:{height:"cb02d2ww",width:"ljni7pan"},72:{height:"rdkrh8wx",width:"orwu60u2"},80:{height:"pioscnbf",width:"etr7akla"}},k={1:{height:"datstx6m",width:"k4urcfbm"},2:{height:"fbtcaa4l",width:"obxclzj5"},3:{height:"h8rzmyi8",width:"aunhd4fo"},4:{height:"h8rzmyi8",width:"aunhd4fo"}},l={0:{borderTopColor:"np69z8it",borderEndColor:"et4y5ytx",borderBottomColor:"j7g94pet",borderStartColor:"b74d5cxt",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",borderTopStyle:"goun2846",borderEndStyle:"ccm00jje",borderBottomStyle:"s44p3ltw",borderStartStyle:"mk2mc5f4",borderTopWidth:"qxh1up0x",borderEndWidth:"qtyiw8t4",borderBottomWidth:"tpcyxxvw",borderStartWidth:"k0bpgpbk",bottom:"i09qtzwb",boxSizing:"cjfnh4rs",marginTop:"hop8lmos",marginEnd:"nkwizq5d",marginBottom:"scwd0bx6",marginStart:"roh60bw9",start:"j9ispegn",zIndex:"tkr6xdv7"},1:{end:"n7fi1qx3",top:"kr520xx4"}},m={0:{left:"pzli0o6b",top:"hmalg0qr",transform:"cj5g2342"},1:{bottom:"rwy7c4ue",start:"mmfdhihy"},2:{bottom:"rwy7c4ue",end:"tdcub1r8"}},n={0:{start:"mmfdhihy",top:"hmalg0qr"},1:{bottom:"rwy7c4ue",start:"mmfdhihy"},2:{end:"tdcub1r8",top:"hmalg0qr"},3:{bottom:"rwy7c4ue",end:"tdcub1r8"}};function a(a){var c=a.badge,d=a.badgeAlign,e=a.expanding;e=e===void 0?!1:e;var f=a.size,o=a.sources;a=a.totalItems;var p=a>o.length||o.length>4,q=Math.min(o.length+(p?1:0),4);o=o.slice(0,p?q-1:q).map(function(a){return h.jsx(b("CometProfilePhoto_EXPERIMENTAL.react"),babelHelpers["extends"]({},typeof a==="object"?a:{source:a},{shape:"circle",size:"fill"}))});if(p){p=h.jsxs(b("BaseView.react"),{xstyle:i.moreItem,children:[h.jsx(b("TetraText.react"),{color:"secondary",type:"meta4",children:h.jsxs("span",{className:(g||(g=b("stylex")))(i.moreItemFontWeight),children:["+",a-q+1]})}),h.jsx(b("BaseView.react"),{xstyle:i.moreItemInsetBorder})]},"more");q===4?o.splice(-1,0,p):o.push(p)}a=h.jsx(b("BaseView.react"),{xstyle:j[f],children:o.map(function(a,c){return h.jsx(b("BaseView.react"),{xstyle:[i.item,k[q],q===4&&n[c]||q===3&&m[c]||q===2&&l[c]],children:a},c)})});return c!=null?h.jsx(b("CometBadgeContainer.react"),{badge:c,badgeAlign:d,expanding:e,children:a}):a}}),null);
__d("CometFixedHScroll.react",["fbt","ix","BaseScrollableAreaContext","CometScreenReaderText.react","CometTrackingNodeProvider.react","ExecutionEnvironment","Locale","React","TetraCircleButton.react","fbicon","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k={buttonContainer:{position:"l9j0dhe7",zIndex:"du4w35lb"},buttonWrapper:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",boxShadow:"eh3q2ans",display:"a8c37x1j",opacity:"pedkr2u6",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",top:"zt5pkwcz",transform:"ke6wolob",transitionDuration:"dpja2al7",transitionProperty:"art1omkt",transitionTimingFunction:"nw2je8n7",zIndex:"tkr6xdv7"},buttonWrapperLeft:{left:"lj4ofo3z"},buttonWrapperLeftPeek:{left:"qew7ijjg"},buttonWrapperRight:{right:"p07qh01q"},buttonWrapperRightPeek:{right:"samo6ylo"},card:{alignItems:"gs1a9yip",boxSizing:"rq0escxv",display:"j83agx80",flexShrink:"pfnyh3mw",marginEnd:"cgat1ltu",marginStart:"kkf49tns",scrollSnapAlign:"qdtcsgvi",whiteSpace:"l3itjdph"},container:{MsOverflowStyle:"q5bimw55",WebkitOverflowScrolling:"gvuykj2m",boxSizing:"rq0escxv",display:"j83agx80",marginBottom:"nvd5e08m",marginEnd:"dlv3wnog",marginStart:"rl04r1d5",overflowX:"d76ob5m9",overflowY:"eg9m0zos",paddingBottom:"tu1s4ah4",paddingTop:"cxgpxx05",scrollPadding:"rx6hrq12",scrollSnapType:"tu18w1b4",scrollbarWidth:"ofs802cu",whiteSpace:"g0qnabr5",width:"g2wf7z4h","::-webkit-scrollbar":{height:"dkue75c7",width:"mb9wzai9"}},containerNoPeek:{scrollPadding:"qxpqh6jt"},containerNoScroll:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},hidden:{opacity:"b5wmifdl",pointerEvents:"hzruof5a"},root:{marginBottom:"c8r2yrt7",marginTop:"o7xrwllt",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingBottom:"dy7m38rt",paddingTop:"jktsbyx5",position:"l9j0dhe7",width:"k4urcfbm"}},l=4,m=g._("Articles suivants"),n=g._("Articles pr\u00e9c\u00e9dents");c=b("ExecutionEnvironment").canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)");var o=c&&c.matches,p=document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,q=function(a,b){typeof a.scrollTo==="function"?p?a.scrollTo({behavior:o?"auto":"smooth",left:b,top:0}):a.scrollTo(b,0):a.scrollLeft=b},r=b("Locale").isRTL(),s=function(a){return Math.floor(a)};function t(a){var c=a.children,d=a.style;a=a.xstyle;var e=j.useState(!1),f=e[0],g=e[1];e=b("useVisibilityObserver")({onHidden:function(){return g(!1)},onVisible:function(){return g(!0)}});return j.jsx("div",{"aria-hidden":!f,className:(i||(i=b("stylex")))(a),ref:e,style:d,children:c})}function a(a){var c=a.accessibilityLabel,d=a.cardWidth,e=a.children,f=a.disableScrolling;f=f===void 0?!1:f;var g=a.hideArrows;g=g===void 0?!1:g;var o=a.nextButtonLabel;o=o===void 0?m:o;var p=a.prevButtonLabel;p=p===void 0?n:p;var u=a.onPressNext,v=a.peek,w=v===void 0?!1:v;v=a.peekPaddingEnd;v=v===void 0?w?44:0:v;a=a.peekPaddingStart;a=a===void 0?w?44:0:a;var x=j.useContext(b("BaseScrollableAreaContext")),y=j.useState(r?null:!0),z=y[0],A=y[1];y=j.useState(r?!0:null);var B=y[0],C=y[1],D=j.useRef(null),E=function(){var a=D.current;if(a==null)return;var b=a.clientWidth,c=a.scrollLeft;a=a.scrollWidth;A(c<=l);C(a-b-c<=l)};y=function(){E()};var F=j.useCallback(function(a){var b=D.current;if(b==null)return;var c=b.clientWidth,e=b.scrollLeft;c=w?c-48:c;c=s(c/d);e=s(e/d);e=e+c*a;c=e*d+(w?48:4);q(b,c)},[d,w]),G=j.useRef(e.length);j.useEffect(function(){G.current!==e.length&&B===!0&&(G.current=e.length,F(0))},[G,e.length,B,F]);var H=function(){return F(-1)},I=function(){F(1),u&&u()},J=j.useMemo(function(){return[].concat(x,[{getDOMNode:function(){return D.current}}])},[x]);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.buttonContainer),children:[j.jsx("div",{"aria-hidden":g||!!z,className:i(k.buttonWrapper,k.buttonWrapperLeft,w&&k.buttonWrapperLeftPeek,(g||!!z)&&k.hidden),style:z==null?{maxWidth:48,minWidth:0,width:"calc(("+e.length*(d+8)+"px - 100%) * 9999)"}:{},children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:r?420:419,children:j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(h("492488"),20),label:r?o:p,onPress:H,size:48,type:"overlay"})})}),j.jsxs("div",{className:i(k.root),children:[j.jsx(b("CometScreenReaderText.react"),{text:c}),j.jsxs("div",{className:i(k.container,!w&&k.containerNoPeek,f&&k.containerNoScroll),onScroll:y,ref:D,children:[w&&j.jsx("div",{style:{minWidth:a}}),j.jsx(b("BaseScrollableAreaContext").Provider,{value:J,children:e.map(function(a,b){return j.jsx(t,{style:{width:d},xstyle:k.card,children:a},b)})}),w&&j.jsx("div",{style:{minWidth:v}})]})]}),j.jsx("div",{"aria-hidden":g||!!B,className:i(k.buttonWrapper,k.buttonWrapperRight,w&&k.buttonWrapperRightPeek,(g||!!B)&&k.hidden),style:B==null?{maxWidth:48,minWidth:0,width:"calc(("+e.length*(d+8)+"px - 100%) * 9999)"}:{},children:j.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:r?419:420,children:j.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(h("492536"),20),label:r?p:o,onPress:I,size:48,type:"overlay"})})})]})}}),null);
__d("composerAudioClipReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,b){return babelHelpers["extends"]({},a,{audioClip:b.audioClip})}function h(a,b){return babelHelpers["extends"]({},a,{audioClip:void 0})}function a(a,b){switch(b.type){case"SET_AUDIO_CLIP":return g(a,b);case"REMOVE_AUDIO_CLIP":return h(a,b)}return a}}),null);
__d("useControlledComposerViewStateDispatcher",["React","ReactDOMComet","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("ReactDOMComet").unstable_flushControlled;function a(){var a=b("useComposerViewStateDispatcher")();return g.useCallback(function(b){h!=null?h(function(){return a(b)}):a(b)},[a])}}),null);
__d("MWLSAttachmentAttribution.bs",["bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.X,d=a.Y;if(c!==void 0&&d!==void 0)return{id:b("bs_int64").to_string(c),iconUrl:a.Z,name:d}}f.get=a}),null);
__d("MWLSAttachmentCta.bs",["SkytaleDB","SkytaleDBQuery.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c={a:b("bs_caml_int64").zero,b:"",c:b("bs_caml_int64").zero,d:b("bs_caml_int64").zero,e:"",f:"",g:"fallback",h:void 0,i:void 0,j:void 0,k:void 0,l:void 0,m:void 0,n:void 0,o:void 0};function a(a,c){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"attachment_ctas").asc,{hd:c,tl:0})}f.empty=c;f.getById=a}),null);
__d("MWLSAttachmentItem.bs",["MWLSAttachmentCta.bs","SkytaleDB","SkytaleDBExec.bs","SkytaleDBQuery.bs","bs_belt_Array","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return{attachmentItem:a,defaultCta:c,callToActions:b("bs_belt_Array").keepMap(d,function(a){return a})}}function a(a,c){return b("SkytaleDBExec.bs").toArray(b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"attachment_items").asc,{hd:c,tl:0}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.t,void 0,function(c){return b("SkytaleDBExec.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("bs_belt_Array").keepMap([c.A,c.D,c.G],function(a){return a}).map(function(c){return b("SkytaleDBExec.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))});return g(c,d,e)}))}f.project=g;f.getForAttachment=a}),null);
__d("XLightSpeedSecureMessageWebStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/lightspeed/securemessage/web/sticker/",{sticker_id:{type:"FBID",required:!0},width:{type:"Int"},height:{type:"Int"},scale:{type:"Float"},media_type:{type:"String"}})}),null);
__d("bs_caml_splice_call",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c,d;d=b.length;var e=[];for(c=0;c<d-1;++c)e.push(b[c]);b=b[d-1];for(c=0;c<b.length;++c)e.push(b[c]);return a.apply(null,e)};b=function(a,b,c){var d,e;e=c.length;var f=[];for(d=0;d<e-1;++d)f.push(c[d]);c=c[e-1];for(d=0;d<c.length;++d)f.push(c[d]);return a[b].apply(a,f)};f.spliceApply=a;f.spliceObjApply=b}),null);
__d("MWLSAttachment.bs",["FBID.bs","MWLSAttachmentCta.bs","MWLSAttachmentItem.bs","MessagingAttachmentType.bs","SkytaleDB","SkytaleDBExec.bs","SkytaleDBQuery.bs","XLightSpeedSecureMessageWebStickerController","bs_belt_Array","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_splice_call","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h={a:(g=b("bs_caml_int64")).zero,b:g.zero,c:"",d:void 0,e:"",f:g.zero,g:void 0,h:void 0,i:void 0,j:!1,k:!1,l:!1,m:void 0,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:void 0,K:void 0,L:void 0,M:void 0,N:void 0,O:void 0,P:void 0,Q:void 0,R:void 0,S:void 0,T:void 0,U:void 0,V:void 0,W:void 0,X:void 0,Y:void 0,Z:void 0,ba:void 0,bb:void 0,bc:void 0,bd:void 0,be:g.zero,bf:void 0,bg:void 0,bh:void 0,bi:void 0,bj:void 0,bk:void 0,bl:void 0,bm:void 0,bn:void 0,bo:void 0,bp:void 0,bq:void 0,br:void 0,bs:void 0,bt:void 0,bu:void 0,bv:void 0,bw:void 0,bx:void 0,by:void 0,bz:void 0,bA:void 0,bB:void 0,bC:void 0,bD:void 0,bE:void 0,bF:void 0,bG:void 0,bH:void 0,bI:void 0,bJ:void 0,bK:void 0,bL:void 0,bM:void 0,bN:void 0,bO:void 0,bP:void 0,bQ:void 0,bR:void 0,bS:void 0,bT:void 0,bU:g.zero,bV:void 0,bW:void 0,bX:void 0,bY:void 0},i=[],j=[],k=[];g={attachment:h,defaultCta:void 0,callToActions:i,attachmentItems:j,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:k};function l(a){return b("bs_belt_Option").map(b("FBID.bs").ofString(a),function(a){return b("XLightSpeedSecureMessageWebStickerController").getURIBuilder().setFBID("sticker_id",a).setString("media_type","image/webp").getURI().toString()})}function a(a,b){return b}function c(a,c){return b("bs_caml_format").caml_int64_of_string(c)}function m(a,c,d,e){return{attachment:a,defaultCta:c,callToActions:d,attachmentItems:e,listItemsId:a.bl,listItemsDescriptionText:a.bm,listItemsSecondaryDescriptionText:a.bn,listItems:b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.bo,a.bp,a.bq,a.br,a.bs,a.bt],[a.bv,a.bw,a.bx,a.by,a.bz,a.bA],[a.bC,a.bD,a.bE,a.bF,a.bG,a.bH]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})])}}function n(a){var c=function(a){return a},d=b("bs_caml_format").caml_int64_of_string,e=a.a,f=b("bs_caml_obj").caml_obj_dup(h),g=a.n;f.bi=g!==void 0?a.l:void 0;return{attachment:(f.be=a.f,f.bd=b("bs_belt_Option").map(a.q,d),f.L=b("bs_belt_Option").map(a.p,d),f.K=b("bs_belt_Option").map(a.o,d),f.J=b("bs_belt_Option").map(a.s,function(b){return"data:"+(a.k+(";base64,"+b))}),f.F=a.h,f.D=a.k,f.A=a.h,f.j=!0,f.i=b("bs_belt_Option").map(a.i,d),f.h=b("bs_belt_Option").map(a.j,c),f.f=b("bs_caml_format").caml_int64_of_string(a.g),f.e=a.b,f.d=a.e,f.c=a.d,f.b=a.c,f.a=e,f),defaultCta:void 0,callToActions:i,attachmentItems:j,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:k}}function d(a){var c=a.p,d=a.a,e=function(a){return a};c=b("bs_belt_Option").map(c,e);e=c!==void 0?c:(b("recoverableViolation")("Secure Sticker has no fbid "+a.c,"messenger_privacy_web"),"");c=b("bs_caml_obj").caml_obj_dup(h);return{attachment:(c.C=b("bs_caml_int64").one,c.B=l(e),c.A=l(e),c.j=!0,c.f=b("MessagingAttachmentType.bs").sticker,c.e=e,c.c=a.c,c.b=a.b,c.a=d,c),defaultCta:void 0,callToActions:i,attachmentItems:j,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:k}}function e(a,c){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"attachments").asc,{hd:c,tl:0}),function(c){var d=b("bs_belt_Option").mapWithDefault(c.o,void 0,function(c){return b("SkytaleDBExec.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),e=b("bs_belt_Array").keepMap(b("bs_belt_Array").keepMap([c.r,c.u,c.x],function(a){return a}),function(c){return b("SkytaleDBExec.bs").first(b("MWLSAttachmentCta.bs").getById(a,c))}),f=b("MWLSAttachmentItem.bs").getForAttachment(a,c.e);return m(c,d,e,f)})}function o(a,c){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"secure_attachments").index("threadKeyMessageIdAttachmentId").asc,{hd:c,tl:0}),n)}f.emptyAttachmentRow=h;f.emptyAttachment=g;f._secureStickerPlayableUrl=l;f._makeDecryptString=a;f._makeDecryptInt64=c;f._projectOpen=m;f._projectOtherSecureAttachment=n;f._projectSecureSticker=d;f.getForOpen=e;f.getForSecure=o}),null);
__d("MWLSParserUtils.bs",["LSMessageReplySourceTypeV2.bs","bs_belt_Option","bs_caml_int64","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.message.t;if(a!==void 0&&b("bs_caml_int64").neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function c(a){a=a.message.t;if(a!==void 0&&b("bs_caml_int64").eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function d(a){a=b("bs_belt_Option").map(a.defaultCta,function(a){return a.g});if(a!==void 0)return a;else{b("recoverableViolation")("XMA Attachment has unknown CTA Type","messenger_privacy_web");return"fallback"}}function e(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.isReplyToSomething=a;f.isForwarded=c;f.getXmaType=d;f.getBlobUrl=e}),null);
__d("MNLSXMALayoutType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=b("bs_caml_int64").mk(2,0);f.single=a;f.hscroll=c;f.xcenter=d}),null);
__d("MWLSXmaIconParser.bs",["ix","URI","bs_caml_option","bs_curry","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky"||a==="honey"||a==="emerald")return"gray";else{b("recoverableViolation")("Unknown Icon color: "+a,"messenger_privacy_web");return"gray"}}function j(a){if(a==="airplane")return b("bs_caml_option").some(b("fbicon")._(g("571771"),20));else if(a==="calendar-add")return b("bs_caml_option").some(b("fbicon")._(g("640913"),20));else if(a==="camcorder")return b("bs_caml_option").some(b("fbicon")._(g("493174"),20));else if(a==="camcorder-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096148"),20));else if(a==="camcorder-missed")return b("bs_caml_option").some(b("fbicon")._(g("662989"),20));else if(a==="camcorder-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096150"),20));else if(a==="camcorder-plus")return b("bs_caml_option").some(b("fbicon")._(g("662993"),20));else if(a==="checkmark-circle")return b("bs_caml_option").some(b("fbicon")._(g("498146"),20));else if(a==="currency-thai-baht")return b("bs_caml_option").some(b("fbicon")._(g("876716"),20));else if(a==="currency-usd")return b("bs_caml_option").some(b("fbicon")._(g("847056"),20));else if(a==="document-complete")return b("bs_caml_option").some(b("fbicon")._(g("728245"),20));else if(a==="phone")return b("bs_caml_option").some(b("fbicon")._(g("558161"),20));else if(a==="phone-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096151"),20));else if(a==="phone-missed")return b("bs_caml_option").some(b("fbicon")._(g("847457"),20));else if(a==="phone-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096154"),20));else{b("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_privacy_web");return}}function a(a){if(a.startsWith("https"))return{TAG:1,_0:a};if(!a.startsWith("ls"))return;var c=new(h||(h=b("URI")))(a.replace("ls","http")).getQueryData();a=function(a){return c[a]};var d=j(b("bs_curry")._1(a,"icon"));a=i(b("bs_curry")._1(a,"circleColor"));if(d!==void 0)return{TAG:0,_0:{icon:b("bs_caml_option").valFromOption(d),color:a}}}f.getColor=i;f.getIcon=j;f.parse=a}),null);
__d("MWLSXmaParser.bs",["FBID.bs","MNLSXMALayoutType.bs","MWLSXmaIconParser.bs","XCometMessengerControllerRouteBuilder","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=a.g,d;if(c==="xma_rtc_audio"||c==="xma_rtc_missed_audio"||c==="xma_rtc_ended_audio")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!1}},_1:void 0};else if(c==="xma_rtc_video"||c==="xma_rtc_missed_video"||c==="xma_rtc_ended_video")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!0}},_1:void 0};else if(c==="xma_postback")d={TAG:1,_0:a.f,_1:a.h,_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else if(c==="xma_p2p_payment_details"||c==="xma_p2p_request_pay"||c==="xma_p2p_payment_details_receive_money"||c==="xma_p2p_verify_info"){var e=a.o;e!==void 0?d={TAG:4,_0:{TAG:21,_0:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(e))),currentStatus:null}},_1:void 0}:(b("recoverableViolation")("P2P Transaction encounterd without txn id","messenger_privacy_web"),d=void 0)}else if(c==="xma_live_location_sharing"&&a.j===void 0&&b("gkx")("1539348"))d={TAG:4,_0:{TAG:8,_0:{titleString:a.f,messageId:a.e}},_1:void 0};else if(c==="xma_live_location_sharing"&&a.j!==void 0&&b("gkx")("1597362"))d={TAG:4,_0:{TAG:9,_0:{msgId:a.e}},_1:void 0};else if(c==="xma_poll_details_button"||c==="xma_poll_details_card")d={TAG:5,_0:b("bs_belt_Option").getExn(a.o),_1:b("bs_belt_Option").getExn(a.l)};else if(c==="xma_p2m_checkout"||c==="xma_p2m_payment_details")d={TAG:0,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d))}),_1:"_blank",_2:void 0};else if(c==="xma_direct_send"){e=a.l;e!==void 0?d={TAG:4,_0:{TAG:6,_0:JSON.parse(e)},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected pii_form data but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_feedback_send"){e=a.l;e!==void 0?d={TAG:4,_0:{TAG:5,_0:{feedbackFormId:e}},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected Feedback info but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_account_link"){e=a.i;e!==void 0?d={TAG:4,_0:{TAG:3,_0:e},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected an account link url but didn't get any","messenger_web_product"),d=void 0)}else if(c==="xma_open_joinable_call_invite_url")d={TAG:4,_0:{TAG:24,_0:{linkUrl:b("bs_belt_Option").getExn(a.i)}},_1:void 0};else if(c==="xma_montage_share")d=void 0;else if(c==="marketplace_xma_call_function"){e=a.l;d=e!==void 0?{TAG:4,_0:{TAG:26,_0:{messageId:a.e,attachmentFbid:a.b,targetId:b("bs_belt_Option").getExn(a.o),actionType:e}},_1:void 0}:void 0}else if(c==="xma_ctm_in_thread_multiphoto_reply_image"){e=a.l;if(e!==void 0){try{e=b("bs_caml_option").some(JSON.parse(e))}catch(a){e=void 0}if(e!==void 0){e=b("bs_js_json").classify(b("bs_caml_option").valFromOption(e));if(typeof e==="number"||e.TAG!==2)d=void 0;else{e=e._0;var f=b("bs_js_dict").get(e,"action_prefill"),g=b("bs_js_dict").get(e,"reply_image_uri");if(f!==void 0&&g!==void 0){f=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(f));g=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(g));if(f!==void 0&&g!==void 0){var h='{"in_thread_multiphoto_xma_reply": true}',i=a.h,j=b("bs_js_dict").get(e,"ad_id");if(j!==void 0){j=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(j));j=j!==void 0?b("FBID.bs").ofString(j.toString()):void 0}else j=void 0;var k=b("bs_js_dict").get(e,"customer_id");if(k!==void 0){k=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(k));k=k!==void 0?b("FBID.bs").ofString(k.toString()):void 0}else k=void 0;var l=b("bs_js_dict").get(e,"index");e=b("bs_js_dict").get(e,"page_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;d={TAG:4,_0:{TAG:25,_0:{message:f,image:g,platformToken:i!==void 0&&i!==""?i:h,loggingDetails:{ad_id:j,consumer_id:k,index:l!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(l)):void 0,page_id:e}}},_1:void 0}}else d=void 0}else d=void 0}}else d=void 0}else d=void 0}else if(c==="xma_open_native"){f=a.i;g=a.l;if(g!==void 0)d={TAG:3,_0:g};else if(f!==void 0)d={TAG:0,_0:f,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else{i=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("No Url found while parsing Open Native XMA "+i,"messenger_privacy_web");d=void 0}}else{h=a.i;j=a.l;k=a.m;l=0;var m;if(j!==void 0)d={TAG:3,_0:j};else if(h!==void 0)if(k!==void 0&&k){d={TAG:4,_0:{TAG:14,_0:{actionLink:h,pageID:(e=b("bs_int64")).to_string(a.d),userID:b("FBID.bs").ofString(e.to_string(a.d)),sourceTitle:b("bs_js_null_undefined").fromOption(a.f)}},_1:{pageId:e.to_string(a.d),ctaId:e.to_string(a.a)}}}else m=h,l=1;else{g=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("Unknown CTA encountered while parsing XMA. "+g,"messenger_privacy_web");d=void 0}l===1&&(d={TAG:0,_0:m,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}})}return b("bs_belt_Option").map(d,function(b){return{title:a.f,action:b}})}function h(a,c,d,e,f,g,h,i,j,k,l){c=b("bs_belt_Option").mapWithDefault(c,0,b("bs_caml_int64").to_int32);d=b("bs_belt_Option").mapWithDefault(d,0,b("bs_caml_int64").to_int32);a=b("bs_belt_Option").isNone(a)?j:c===d;if(g!==void 0)if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("gif")}))return{TAG:0,_0:g,_1:{expand:a}};else if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("video")}))return{TAG:1,_0:g,_1:b("FBID.bs").ofStringExn(i),_2:{height:d,width:c,expand:a},_3:b("bs_belt_Option").getWithDefault(k,!1)};else return;if(e===void 0)return;return l!==void 0&&f!==void 0&&l===1?{TAG:0,_0:f,_1:{expand:a}}:{TAG:0,_0:e,_1:{expand:a}}}function i(a,c,d){var e=b("bs_belt_Array").keepMap(c.callToActions,g),f=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(c.defaultCta,g),function(a){return a.action});if(f!==void 0)f={_0:f};else{var i=c.attachment.Q;f=i!==void 0?{_0:{TAG:0,_0:i,_1:"_blank",_2:void 0}}:void 0}return{preview:h(c.attachment.M,c.attachment.K,c.attachment.L,c.attachment.F,c.attachment.bY,c.attachment.A,c.attachment.D,c.attachment.e,a,c.attachment.bX,d),title:c.attachment.R,description:c.attachment.S,headerIcon:b("bs_belt_Option").flatMap(c.attachment.bL,b("MWLSXmaIconParser.bs").parse),headerTitle:c.attachment.bP,icon:b("bs_belt_Option").flatMap(c.attachment.bf,b("MWLSXmaIconParser.bs").parse),defaultAction:f,action:e.length!==0?{_0:e}:void 0,canForward:c.attachment.k,listItemsId:c.listItemsId,listItemsDescriptionText:c.listItemsDescriptionText,listItemsSecondaryDescriptionText:c.listItemsSecondaryDescriptionText,listItems:c.listItems}}function j(a,c,d,e){var f=e.attachmentItem;a=a!==void 0?a:!1;c=c!==void 0?b("bs_caml_option").valFromOption(c):void 0;var i=b("bs_belt_Array").keepMap(e.callToActions,g),j=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(e.defaultCta,g),function(a){return a.action});return{preview:h(e.attachmentItem.s,e.attachmentItem.q,e.attachmentItem.r,e.attachmentItem.m,e.attachmentItem.M,e.attachmentItem.h,e.attachmentItem.k,e.attachmentItem.a,a,d.attachment.bX,c),title:f.f,description:f.g,headerIcon:b("bs_belt_Option").flatMap(d.attachment.bL,b("MWLSXmaIconParser.bs").parse),headerTitle:d.attachment.bP,icon:b("bs_belt_Option").flatMap(f.J,b("MWLSXmaIconParser.bs").parse),defaultAction:j!==void 0?{_0:j}:void 0,action:i.length!==0?{_0:i}:void 0,canForward:d.attachment.k,listItemsId:d.listItemsId,listItemsDescriptionText:d.listItemsDescriptionText,listItemsSecondaryDescriptionText:d.listItemsSecondaryDescriptionText,listItems:d.listItems}}function a(a,c,d,e,f){d=f.attachmentItems;e=f.attachment;var g=e.Z,h=e.Y;h=g!==void 0&&h!==void 0?{name:h,icon:g}:void 0;g=e.m;var k=d.length;if(k!==1)if(k!==0)k=2;else{if(g===void 0)return{TAG:8,_0:{TAG:1,_0:i(!0,f,c),_1:h,_2:a}};k=2}else{var l=d[0];if(g===void 0)return{TAG:8,_0:{TAG:1,_0:j(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};if(b("bs_caml_int64").eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:j(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};k=2}if(k===2&&g!==void 0){if(b("bs_caml_int64").eq(g,b("MNLSXMALayoutType.bs").hscroll)){var m=b("bs_caml_option").some(c);return{TAG:8,_0:{TAG:0,_0:d.map(function(a){return j(void 0,m,f,a)}),_1:h,_2:a}}}l=d.length;if(l!==1){if(l===0&&b("bs_caml_int64").eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:i(!0,f,c),_1:h,_2:a}}}else{k=d[0];if(b("bs_caml_int64").eq(g,b("MNLSXMALayoutType.bs").xcenter))return{TAG:8,_0:{TAG:2,_0:j(!0,b("bs_caml_option").some(c),f,k),_1:h,_2:a}}}}l="n Attachment Items: "+String(d.length);c="Layout: "+b("bs_belt_Option").mapWithDefault(g,"na",b("bs_int64").to_string);k="Attachment Type: "+b("bs_int64").to_string(e.f);h=[l,c,k].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+h,"messenger_privacy_web")}f.parseAttachment=i;f.parserForAttachment=a}),null);
__d("MWLSAttachmentParser.bs",["fbt","FBID.bs","MWLSAttachmentAttribution.bs","MWLSParserUtils.bs","MWLSXmaParser.bs","MessagingAttachmentType.bs","StickerConstants","URI","bs_belt_Array","bs_belt_Option","bs_caml_exceptions","bs_caml_format","bs_caml_int64","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;c=b("bs_caml_exceptions").create("MWLSAttachmentParser.MessageMarkedAsAttachmentButNoAttachmentFound");function i(a,c,d){var e=d.attachment;a=e.bY;d=c!==void 0&&a!==void 0&&c===1?a:e.F;if(d!==void 0)c=d;else{a=e.f;if(b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").animatedImage)){d=e.h;d!==void 0?c=d:(b("recoverableViolation")("Gif Attachment has no preview_url "+e.e,"messenger_privacy_web"),c=void 0)}else b("recoverableViolation")("Photo Attachment has no preview_url "+e.e,"messenger_privacy_web"),c=void 0}return b("bs_belt_Option").map(c,function(a){return{isGIF:b("bs_caml_int64").eq(e.f,b("MessagingAttachmentType.bs").animatedImage),previewUrl:a,previewHeight:void 0,previewWidth:void 0,appAttribution:b("MWLSAttachmentAttribution.bs").get(e),photoFbid:b("FBID.bs").ofString(e.e),blurredImageUri:void 0,decryptionKey:e.bi}})}function j(a,c,d){return b("bs_belt_Option").map(i(a,c,d),function(a){return{TAG:1,_0:a}})}function k(a,c){a=c.attachment;c=a.A;if(c!==void 0)c=c;else{var d=a.F;d!==void 0?c=d:(b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url"+a.e,"messenger_privacy_web"),c=void 0)}return{TAG:0,_0:{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.bj,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:a.e,url:c,width:b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),height:b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32)}}}function l(a,c,d){a=b("bs_belt_Array").keepMap(a,function(a){return i(c,d,a)});if(a.length!==0)return{TAG:2,_0:a}}function m(a,c){a=c.attachment;c=a.A;if(c!==void 0){var d=b("MWLSParserUtils.bs").getBlobUrl(c);d=d!==void 0?new(h||(h=b("URI")))(d):new(h||(h=b("URI")))(c)}else b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),d=new(h||(h=b("URI")))("");return{TAG:4,_0:{fileName:a.h,url:d}}}function n(a,c){a=c.attachment;c=a.A;if(c!==void 0){var d=b("MWLSParserUtils.bs").getBlobUrl(c);d=d!==void 0?new(h||(h=b("URI")))(d):new(h||(h=b("URI")))(c)}else b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),d=new(h||(h=b("URI")))("");return{TAG:6,_0:{duration:b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_float),0),url:d,decryptionKey:a.bi}}}function o(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32);var d=b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),e=a.A,f=a.A;return{TAG:7,_0:{height:c!==void 0?c:(b("recoverableViolation")("Video Attachment has no preview_height"+a.e,"messenger_privacy_web"),0),width:d!==void 0?d:(b("recoverableViolation")("Video Attachment has no preview_width"+a.e,"messenger_privacy_web"),0),previewUrl:e!==void 0?e:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),fbid:b("FBID.bs").ofString(a.e),render_as_sticker:!1,dimensions:void 0,duration:b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_int32),large_size:void 0,large_preview:void 0,inbox_size:void 0,inbox_preview:void 0,url:f!==void 0?f:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),decryptionKey:a.bi}}}function p(a,c){a=c.attachment;c=b("bs_belt_Option").map(a.L,b("bs_caml_int64").to_int32);var d=b("bs_belt_Option").map(a.K,b("bs_caml_int64").to_int32),e=a.A,f=a.A;return{TAG:7,_0:{height:c!==void 0?c:(b("recoverableViolation")("Video Attachment has no preview_height"+a.e,"messenger_privacy_web"),0),width:d!==void 0?d:(b("recoverableViolation")("Video Attachment has no preview_width"+a.e,"messenger_privacy_web"),0),previewUrl:e!==void 0?e:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),fbid:b("FBID.bs").ofString(a.e),render_as_sticker:!0,dimensions:void 0,duration:b("bs_belt_Option").map(a.bd,b("bs_caml_int64").to_int32),large_size:void 0,large_preview:void 0,inbox_size:void 0,inbox_preview:void 0,url:f!==void 0?f:(b("recoverableViolation")("Attachment has no playable_url "+a.e,"messenger_privacy_web"),""),decryptionKey:a.bi}}}function q(a,b){b=b.attachment;return{TAG:8,_0:{TAG:1,_0:{preview:void 0,title:b.R,description:b.V,headerIcon:void 0,headerTitle:void 0,icon:void 0,defaultAction:void 0,action:void 0,canForward:!1,listItemsId:void 0,listItemsDescriptionText:void 0,listItemsSecondaryDescriptionText:void 0,listItems:[]},_1:void 0,_2:a.messageID}}}function r(a){a=a.message.i;if(a!==void 0)return b("bs_int64").compare(b("bs_caml_format").caml_int64_of_string(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),a)===0;else return!1}var s={TAG:0,_0:{accessibilityLabel:g._("Pouce lev\u00e9"),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,url:void 0,width:32,height:32}};function a(a,c,d){var e=a.attachments;if(r(a))return s;var f=e.length;if(f!==1)if(f!==0)return l(e,c,d);else{b("recoverableViolation")("Message said to have attachments but no attachments were found. MessageID: "+a.message.e,"messenger_privacy_web");return}f=e[0];e=f.attachment.f;if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").none))return q(c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").animatedImage)||b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").image))return j(c,d,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").ephemeralVideo))return{TAG:3,_0:f.attachment};else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").sticker))return k(c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").selfieSticker))return p(c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").xma)||f.attachment.l)return b("MWLSXmaParser.bs").parserForAttachment(c.messageID,d,a.message.g,c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").file))return m(c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").audio))return n(c,f);else if(b("bs_caml_int64").eq(e,b("MessagingAttachmentType.bs").video))return o(c,f);else{b("recoverableViolation")("Unknown attachment type "+b("bs_int64").to_string(e),"messenger_comet");return}}f.MessageMarkedAsAttachmentButNoAttachmentFound=c;f.parsePhotoContent=i;f.parsePhoto=j;f.parseSticker=k;f.parsePhotoGroup=l;f.parseFile=m;f.parseAudio=n;f.parseVideo=o;f.parseSelfieSticker=p;f.parseUnavailableAttachment=q;f.isHotLike=r;f.hotLike=s;f.parseMessageWithAttachments=a}),null);
__d("MWChatUploadAudioHook.bs",["ActorURI","CurrentUser","MercuryConfig","React","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=b("CurrentUser").getID();return h.useCallback(function(a){return function(d){var e={data:{voice_clip:!0}};new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){},onUploadSuccess:function(a,c){a=b("bs_caml_array").get(c.response.payload.metadata,0);c=b("bs_caml_option").some(a.audio_id);return b("bs_curry")._1(d,b("bs_caml_option").valFromOption(c))},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(g||(g=b("URI")))(b("MercuryConfig").upload_url),c)}).getAsyncUploadRequest([a],b("bs_caml_option").some(e)).send()}},[c])}f.useHook=a}),null);
__d("MWLSThreadIsMessageRequest.bs",["LSBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWThreadKey.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0),d=b("SkytaleDBHook.bs").useHook(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(d,"threads").asc,{hd:c,tl:0}),function(a){return b("LSBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,a.P)})},[c])),!1)}f.useHook=a}),null);
__d("MWChatBusinessPageGreeting.bs",["LsBusinessWelcomePageImpressionFalcoEvent","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={item:{paddingBottom:"f10w8fjw"},pageResponsiveness:{paddingBottom:"f10w8fjw"},root:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",paddingBottom:"is38vakr",paddingTop:"bjjx79mm"}};function a(a){var c=a.contextItems,d=a.pageResponsiveness,e=a.pagesGreeting,f=a.pageId;h.useEffect(function(){b("LsBusinessWelcomePageImpressionFalcoEvent").log(function(a){return{page:{id:f}}})},[]);return h.jsxs("div",{children:[d!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"primary",type:"body3",children:d}),className:(g||(g=b("stylex")))(i.pageResponsiveness)}):null,c.map(function(a,c){return h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:a}),className:(g||(g=b("stylex")))(i.item)},String(c))}),e!==void 0?h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:e}):null],className:(g||(g=b("stylex")))(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("CometComposerViewState.bs",["recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a){if(a==="PHOTO")return 0;else if(a==="VIDEO")return 1;else if(a==="FILE"||a==="UNKNOWN")return 2;else{b("recoverableViolation")("Unrecognized CometComposerMediaAttachment file type "+a+"!","messenger_comet");return 2}}var i={ofString:h};function a(a){return a.state}function c(a){if(a.state==="NEW")return{TAG:0,_0:h(a.fileType),_1:a.file};if(a.state==="QUEUED")return{TAG:1,_0:h(a.fileType),_1:a.file};if(a.state==="UPLOADING")return{TAG:2,_0:h(a.fileType),_1:a.file,_2:a.percentComplete};if(a.state==="UPLOADED")return{TAG:3,_0:h(a.fileType),_1:a.file,_2:a.data};if(a.state==="FAILED")return{TAG:4,_0:h(a.fileType),_1:a.file,_2:a.error};a=a.state;throw b("unrecoverableViolation")("Unrecognized CometComposerMediaAttachment state "+a+"!","messenger_comet")}function d(a){switch(a.TAG|0){case 0:case 1:return a._0;default:return a._0}}function e(a){switch(a.TAG|0){case 0:case 1:return a._1;default:return a._1}}a={stateJS:a,fromJS:c,fileType:d,file:e};c={};f.$$File=g;f.FileType=i;f.MediaAttachment=a;f.AudioClip=c}),null);
__d("CometInteractionTracingQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,BOOKMARK_ITEM:30613596,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMMUNITY_VIEW_DIALOG_OPEN:30614747,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOMEPAGE_BADGED_NAVIGATION:30632331,HOME_FEED_TAILLOAD:30605313,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_MENTIONS_FEED_TAILLOAD:30616610,PROFILE_PICTURE_MENU_OPEN:30615365,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_TILES_TAILLOAD:30605378,PYMK_FEED_PAGINATION:30618398,SEARCH_TYPEAHEAD:30620813,SEE_MORE_FEED_UNIT:30615438,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,TAHOE_COMMENT_CREATE:30621572,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338});e.exports=a}),null);
__d("MWChatComposerActionTrayButton.bs",["CometPressable.react","CometTooltip.react","React","TetraIcon.react","bs_belt_Option","bs_caml_option","bs_curry","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={button:{backgroundColor:"tdjehn4e",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",display:"j83agx80",height:"tv7at329",justifyContent:"taijpn5t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"k4urcfbm"},icon:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t"}};function a(a,c){var d=a.disabled,e=a.icon,f=a.label,j=a.onPress;a=a.testid;c=c==null?h.createRef():c;d={disabled:b("bs_belt_Option").getWithDefault(d,!1),label:f,ref:c,onPress:function(a){return b("bs_curry")._1(j,void 0)},xstyle:function(a){return[i.button]},children:h.jsx("div",{children:h.jsx(b("TetraIcon.react"),{icon:e}),className:(g||(g=b("stylex")))(i.icon)})};a!==void 0&&(d.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:h.jsx(b("CometPressable.react"),d)})}c=h.forwardRef(a);f.styles=i;f.make=c}),null);
__d("MWChatComposerGifButton.bs",["CometLazyPopoverTrigger.react","JSResource","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.button;a=a.onGifSelect;return g.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("CometAnimatedImagePickerCardContainer.react").__setRef("MWChatComposerGifButton.bs"),disableAutoFlip:!0,popoverProps:{onSelect:b("bs_curry").__1(a),testid:"mw_gif_picker"},align:"middle",position:"above",children:c},"tester")}c=a;f.make=c}),null);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755987")).Gif;d=a.Sticker;e=a.Photo;b=a.MoreActions;var g=a.Emoji,h=a.Paperclip,i=a.Pin,j=a.Camera,k=a.Microphone,l=a.Poll,m=a.Currency;f.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a;f.Gif=c;f.Sticker=d;f.Photo=e;f.MoreActions=b;f.Emoji=g;f.Paperclip=h;f.Pin=i;f.Camera=j;f.Microphone=k;f.Poll=l;f.Currency=m}),null);
__d("MWChatComposerStickerButton.bs",["CometLazyPopoverTrigger.react","JSResource","React","bs_curry","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={flyoutRoot:{width:"tjny6qan"}};function a(a){var c=a.button,d=a.onStickerSelect,e=a.logOnOpenStickerFlyout;return h.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,void 0)},popoverResource:b("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWChatComposerStickerButton.bs"),disableAutoFlip:!0,popoverProps:{className:(g||(g=b("stylex")))(i.flyoutRoot),onStickerSelect:d},align:"middle",position:"above",children:c})}c=a;f.styles=i;f.make=c}),null);
__d("CometComposerAttachmentAreaReducer.re",["composerAttachmentAreaReducer"],(function(a,b,c,d,e,f){a=b("composerAttachmentAreaReducer").composerAttachmentAreaReducer;f.composerAttachmentAreaReducerTypeChecked=a;c=a;f.composerAttachmentAreaReducer=c}),null);
__d("CometComposerMediaAttachmentReducer.re",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f){a=b("composerMediaAttachmentReducer");f.reducerTypeChecked=a;c=a;f.reducer=c}),null);
__d("CometComposerViewStateActions.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="string")if(a==="RemoveAudioClip")return{type:"REMOVE_AUDIO_CLIP"};else return{type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"};var b=a.NAME;if(b==="AddMediaAttachmentItems")return{files:a.VAL,type:"ADD_MEDIA_ATTACHMENT_ITEMS"};if(b==="SetAudioClip"){var c=a.VAL;return{type:"SET_AUDIO_CLIP",audioClip:{file:c[0],duration:c[1]}}}if(b==="MediaUploadStarted")return{type:"MEDIA_UPLOAD_STARTED",uploadID:a.VAL};if(b==="RemoveMediaAttachmentItem")return{attachment:a.VAL,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"};if(b==="UpdateDraftEditorState")return{draftEditorState:a.VAL,type:"update_draft_editor_state"};if(b==="AddRoomLink")return{roomLink:a.VAL,type:"ADD_ROOM_LINK"};if(b==="RemoveAttachmentType")return{attachmentType:a.VAL,type:"REMOVE_ATTACHMENT_TYPE"};if(b==="QueueUploads")return{type:"QUEUE_UPLOADS",uploadIDs:a.VAL};if(b==="ActivateAttachmentType")return{attachmentType:a.VAL,type:"ACTIVATE_ATTACHMENT_TYPE"};c=a.VAL;return{entID:c[0],type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:c[1]}}f.convert=a}),null);
__d("CometFileSelector.re",["CometFileSelector.react"],(function(a,b,c,d,e,f){a=b("CometFileSelector.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatComposerUploadFileButton.bs",["fbt","CometComposerAttachmentAreaReducer.re","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","CometFileSelector.re","React","bs_caml_option","bs_curry","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=g._("Joignez un fichier");function a(a,c){var d=a.acceptAllFiles,e=a.button,f=a.logOnSelectFileForUpload;a=d!==void 0?d:!1;b("useComposerViewStateReducer")(b("CometComposerAttachmentAreaReducer.re").composerAttachmentAreaReducer);b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var g=b("useComposerViewStateDispatcher")(),i=h.useCallback(function(a){if(a.length>0){b("bs_curry")._1(g,b("CometComposerViewStateActions.bs").convert({NAME:"ActivateAttachmentType",VAL:"MEDIA"}));b("bs_curry")._1(g,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a}));return b("bs_curry")._1(f,a)}},[g,f]);h.useImperativeHandle(c,function(){return{uploadFiles:i}},[g]);d=a?void 0:["image/*","image/heif","image/heic","video/*"];c={children:e,multiple:!0,onFilesSelected:function(a){return b("bs_curry")._1(i,Array.from(a))}};d!==void 0&&(c.accept=b("bs_caml_option").valFromOption(d));return h.jsx(b("CometFileSelector.re").make,c)}d=h.forwardRef(a);f.label=c;f.make=d}),null);
__d("MWChatComposerButtons.bs",["fbt","CometPressable.react","CometTooltip.react","Locale","MWChatComposerGifButton.bs","MWChatComposerIcons.bs","MWChatComposerStickerButton.bs","MWChatComposerUploadFileButton.bs","React","bs_curry","gkx","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("gkx")("1787594"),k=b("gkx")("1787595"),l=b("gkx")("1787596"),m={container:{zIndex:"tkr6xdv7"},button:{position:"pmk7jnqg",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r",bottom:"i09qtzwb"},buttonPressable:{display:"a8c37x1j",paddingStart:"b3onmgus",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingTop:"ecm0bbzt"},buttonHidden:{transform:"qpbg1qsm",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonHidden:{transitionDelay:"lbhrjshz"},stickerButtonHidden:{transitionDelay:"awe8hfj4"},gifButtonHidden:{transitionDelay:"lxbcnve3"},buttonShown:{transform:"g3zh7qmp",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},uploadFileButtonShown:{transitionDelay:"lbhrjshz"},stickerButtonShown:{transitionDelay:"tntlmw5q"},gifButtonShown:{transitionDelay:"chkx7lpg"}},n=g._("Joignez une photo ou une vid\u00e9o"),o=g._("Choisir un sticker"),p=g._("Choisir un gif");c=g._("Cr\u00e9er un sondage");d=g._("Discussion vid\u00e9o avec Salons");e=g._("Envoyer un clip vocal");var q=g._("Prendre une photo avec la fonction quick cam");g=g._("Partager la position");var r=b("Locale").isRTL();function a(a){var c=a.buttonColor,d=a.hasPermanentToggleButton,e=a.fileUploadHandlerRef,f=a.canSendGif,g=a.sendGif,q=a.sendSticker,s=a.shouldHideButtons,t=a.logOnOpenStickerFlyout;a=a.logOnSelectFileForUpload;var u=k||!d?0:32,v=l?u:u+32|0,w=j?v:v+32|0,x=i.useMemo(function(){return{photoButtonStart:r?{right:String(u)+"px"}:{left:String(u)+"px"},stickerButtonStart:r?{right:String(v)+"px"}:{left:String(v)+"px"},gifButtonStart:r?{right:String(w)+"px"}:{left:String(w)+"px"}}},[u,v,w]);return i.jsxs("div",{children:[i.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:n,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":n,"aria-hidden":s,testid:"composer_photo_uploader",onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayRadius:"50%",xstyle:function(a){return[m.buttonPressable]},children:i.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:c})})}),className:(h||(h=b("stylex")))(m.button,s||k?m.buttonHidden:m.buttonShown,s||k?m.uploadFileButtonHidden:m.uploadFileButtonShown),style:x.photoButtonStart})},logOnSelectFileForUpload:a,ref:e}),i.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,d,e,f,g,j,k){return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:o,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":o,"aria-hidden":s,ref:a,testid:"composer_sticker_picker",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[m.buttonPressable]},children:i.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:c})})}),className:(h||(h=b("stylex")))(m.button,s||l?m.buttonHidden:m.buttonShown,s||l?m.stickerButtonHidden:m.stickerButtonShown),style:x.stickerButtonStart})},onStickerSelect:q,logOnOpenStickerFlyout:t}),i.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,d,e,g,k,l,n){return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:p,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":p,"aria-hidden":s,disabled:!f,ref:a,testid:"composer_gif_picker",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[m.buttonPressable]},children:i.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:f?c:void 0})})}),className:(h||(h=b("stylex")))(m.button,s||j?m.buttonHidden:m.buttonShown,s||j?m.gifButtonHidden:m.gifButtonShown),style:x.gifButtonStart})},onGifSelect:g})],className:(h||(h=b("stylex")))(m.container)})}a=a;f.gifButtonDisabled=j;f.photoButtonDisabled=k;f.stickerButtonDisabled=l;f.styles=m;f.uploadPhotoLabel=n;f.stickerLabel=o;f.gifLabel=p;f.pollLabel=c;f.roomLabel=d;f.sendAudioLabel=e;f.quickCamLabel=q;f.locationLabel=g;f.isRTL=r;f.make=a}),null);
__d("MWChatComposerCreatePollButton.bs",["CometLazyPopoverTrigger.react","JSResource","React","bs_curry","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={flyoutRoot:{width:"geg40m2u"}};function a(a){var c=a.button,d=a.onPollCreate,e=a.logOnOpenPollFlyout;return h.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:function(a){if(a)return b("bs_curry")._1(e,void 0)},popoverResource:b("JSResource")("MWChatPollFlyoutForJSResource.react").__setRef("MWChatComposerCreatePollButton.bs"),disableAutoFlip:!0,popoverProps:{className:(g||(g=b("stylex")))(i.flyoutRoot),onPollCreate:d},align:"end",position:"above",children:c})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerCreateRoomButton.react",["CometLazyPopoverTrigger.react","JSResourceForInteraction","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("JSResourceForInteraction")("CometRoomCardContainer.react").__setRef("MWChatComposerCreateRoomButton.react");function a(a){var c=a.button,d=a.sessionId;a=a.surface;return g.jsx(b("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{sessionId:d,surface:a},popoverResource:h,position:"above",children:c},"room")}}),null);
__d("MWChatComposerP2PButton.bs",["fbt","MWChatComposerActionTrayButton.bs","MWChatComposerIcons.bs","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=g._("Envoyer ou demander de l\u2019argent");c=g._("Demander de l\u2019argent");d=h.forwardRef(function(a,c){var d=a.onPress,e=a.disabled;a=a.label;d=d!==void 0?d:function(a){};return h.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:e,icon:b("MWChatComposerIcons.bs").Currency.make,label:a,onPress:d,testid:"p2p_button_action_tray",ref:c})});f.sendOrRequestLabel=a;f.requestLabel=c;f.make=d}),null);
__d("MWChatComposerP2PPaymentEligibility",["CometRelay","MWChatComposerP2PPaymentEligibilityQuery.graphql"],(function(a,b,c,d,e,f){"use strict";f.use=a;var g;function a(a){return b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("MWChatComposerP2PPaymentEligibilityQuery.graphql"),a)}}),null);
__d("MWUIGetParticipantFbids.bs",["cr:1682908"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1682908").useHook;f.$MWLSGetParticipantFbids$OR$MWMSGetParticipantFbids$requireCond=b("cr:1682908");f.useHook=a}),null);
__d("MWChatComposerP2PPopoverTrigger.bs",["CometEntryPointPopoverTrigger.react","CurrentUser","JSResource","MWChatComposerP2PButton.bs","MWChatComposerP2PPaymentEligibility","MWChatComposerP2PPopoverQuery$Parameters","MWChatTabEntryPoints.bs","MWChatThreadId.bs","MWUIGetParticipantFbids.bs","MessengerWebEntryPoint","React","bs_belt_Array","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){a=b("bs_js_dict").get(b("MWChatTabEntryPoints.bs").tabEntryPoints,b("MWChatThreadId.bs").getFBID(a));return a===b("bs_caml_option").some(b("MessengerWebEntryPoint").P2P_PAYMENTS)}function a(a){var c=a.actionTrayOpen,d=a.closeActionTray,e=a.isGroupThread;a=a.threadId;var f=b("bs_curry")._1(b("MWUIGetParticipantFbids.bs").useHook,void 0),i=a!==void 0&&!(typeof a==="string"||a.NAME!=="User")?b("bs_caml_option").some(a.VAL):void 0;f=b("MWChatComposerP2PPaymentEligibility").use({fbids:i!==void 0?[b("bs_caml_option").valFromOption(i)]:f.filter(function(a){return b("bs_caml_obj").caml_notequal(a,b("CurrentUser").getID())})});var j={};j.rootQuery={parameters:b("MWChatComposerP2PPopoverQuery$Parameters"),variables:{}};f=f.viewer;var k;if(f==null)k=void 0;else{f=f.peer_to_peer_payments;k=f==null?void 0:b("bs_caml_option").some(f.can_send_to)}f=k!==void 0?b("bs_belt_Array").get(b("bs_caml_option").valFromOption(k),0):void 0;var l=b("gkx")("1013539");if(!l)return null;if(f===void 0)return null;l=b("bs_caml_option").valFromOption(f);if(e)f=[!0,b("MWChatComposerP2PButton.bs").requestLabel];else{var m=l.is_eligible;l=m?b("MWChatComposerP2PButton.bs").sendOrRequestLabel:l.exception.description;f=[m,l]}var n=f[1],o=f[0];return g.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",children:function(a,d){return g.jsx(b("MWChatComposerP2PButton.bs").make,{onPress:d,disabled:!c||!o,label:n,ref:a})},entryPointParams:{},otherProps:{closeActionTray:d,eligibility:k,isGroupThread:e,otherUserFbid:i,threadFbid:b("bs_belt_Option").map(a,b("MWChatThreadId.bs").getFBID)},popoverEntryPoint:{getPreloadProps:function(a){return{queries:j}},root:b("JSResource")("MWChatComposerP2PPopover.react").__setRef("MWChatComposerP2PPopoverTrigger.bs")},position:"above",visibleOnLoad:a!==void 0?h(a):!1})}c=a;f.shouldShowOnLoad=h;f.make=c}),null);
__d("RoomButtonTapFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744274");c=b("FalcoLoggerInternal").create("room_button_tap",a);e.exports=c}),null);
__d("RoomsUserActionsButton",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"all",ARCHIVE_SETTING:"archive_setting",AUDIO_CALL:"audio_call",AUDIO_CALL_ICON:"audio_call_icon",BACK:"back",BIRTHDAY_STORY_CALL_CANCEL:"birthday_story_call_cancel",BIRTHDAY_STORY_CALL_CONFIRM:"birthday_story_call_confirm",BIRTHDAY_STORY_COMPOSER:"birthday_story_composer",BIRTHDAY_STORY_VIDEO_CALL:"birthday_story_video_call",CAMERA_PREVIEW:"camera_preview",CANCEL:"cancel",CANCEL_END_ROOM:"cancel_end_room",CANCEL_GUESTS_REMOVED:"cancel_guests_removed",CANCEL_UNLOCK:"cancel_unlock",CLIENT_LINK_START:"client_link_start",COPY_LINK:"copy_link",CREATE:"create",CREATOR_LOBBY_INVITED_CELL_MESSAGE:"creator_lobby_invited_cell_message",CUSTOM_MESSAGE:"custom_message",CUSTOMIZE:"customize",CUSTOMIZE_ROOM_NAME_EMOJI:"customize_room_name_emoji",DONE:"done",EDIT_JOIN_PERMISSIONS:"edit_join_permissions",EDIT_ROOM_ACTIVITY:"edit_room_activity",END_RECURRING_SERIES:"end_recurring_series",END_ROOM:"end_room",END_ROOM_INTENT:"end_room_intent",EXIT:"exit",EXPAND:"expand",FRIEND_SELECTOR_INVITE:"friend_selector_invite",GROUP:"group",GVC:"gvc",HANG_UP:"hang_up",INDIVIDUAL:"individual",INTEREST:"interest",INVITE:"invite",INVITE_FRIENDS:"invite_friends",JOIN:"join",JOIN_PERMISSIONS_ALL_FRIENDS:"join_permissions_all_friends",JOIN_PERMISSIONS_ANYONE:"join_permissions_anyone",JOIN_PERMISSIONS_NONE:"join_permissions_none",JOIN_PERMISSIONS_ONLY_INVITED_FRIENDS:"join_permissions_only_invited_friends",JOIN_ZR:"join_zr",JOINER_LOBBY_MESSAGE:"joiner_lobby_message",LEARN_MORE_CREATE_ROOM:"learn_more_create_room",LEARN_MORE_MENU:"learn_more_menu",LINK:"link",MANAGE:"manage",MANAGE_ARCHIVE:"manage_archive",MESSENGER_IN_THREAD_QP:"messenger_in_thread_qp",MESSENGER_THREAD_LIST_QP:"messenger_thread_list_qp",MORE:"more",NEXT:"next",OFF:"off",OK:"ok",ON:"on",OPEN_MESSAGING_THREAD:"open_messaging_thread",PROMOTION_UNIT:"promotion_unit",PROMOTION_UNIT_CREATE_ROOM:"create_room",PROMOTION_UNIT_DISMISS:"dismiss",PROMOTION_UNIT_GROUP_SETTINGS:"group_settings",PROMOTION_UNIT_INTERESTED:"qp_interested",PROMOTION_UNIT_LEARN_MORE:"learn_more",PROMOTION_UNIT_SEE_ROOMS:"see_rooms",RECREATE:"recreate",RECURRING_ROOM_REPEAT_DAILY:"recurring_room_repeat_daily",RECURRING_ROOM_REPEAT_NEVER:"recurring_room_repeat_never",RECURRING_ROOM_REPEAT_WEEKLY:"recurring_room_repeat_weekly",REPORT_BUG:"report_bug",REPORT_ROOM:"report_room",ROOMS:"rooms",ROOMS_CALL_ICON:"rooms_call_icon",SEARCH_BAR:"search_bar",SEARCH_BAR_CANCEL:"search_bar_cancel",SELECT_PARTICIPANT:"select_participant",SEND_LINK:"send_link",SEND_MESSAGE:"send_message",SETTING:"setting",SHARE_EXTERNAL:"share_external",SHARE_FB_FRIENDS:"share_fb_friends",SHARE_SEND_AS_MESSAGE:"share_send_as_message",SHARE_TO_NEWSFEED:"share_to_newsfeed",SHARE_VIA_OS_SHEET:"share_via_os_sheet",TEMPLATE_ALL_FRIENDS:"template_all_friends",TEMPLATE_QUICK_LINK:"template_quick_link",TEMPLATE_SCHEDULE_AHEAD:"template_schedule_ahead",TEMPLATE_SPECIFIC_FRIENDS:"template_specific_friends",TRY_IT:"try_it",UNDO:"undo",UNINTEREST:"uninterest",UPDATE:"update",VIDEO_CALL:"video_call",VIDEO_OFF:"video_off",VIDEO_ON:"video_on",VIEW:"view",VISIBILITY_TOGGLE_TO_ALL_FRIENDS:"visibility_toggle_to_all_friends",VISIBILITY_TOGGLE_TO_INVITED_FRIENDS:"visibility_toggle_to_invited_friends"});e.exports=a}),null);
__d("RoomsUserActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({CELEBRANT_SIDE_BIRTHDAY_ROOM_NOTIFICATION:"celebrant_side_birthday_room_notification",COMET_CREATE_MENU:"comet_create_menu",COMET_RHC:"comet_rhc",CREATE_ROOM_CARD:"create_room_card",CROSS_GROUPS_CHATS_AND_ROOMS_TRAY:"cross_groups_chats_and_rooms_tray",CROSS_GROUPS_JOINED_CHATS_AND_ROOMS_INBOX:"cross_groups_joined_chats_and_rooms_inbox",CROSS_GROUPS_ROOMS_INBOX_SEE_ALL:"cross_groups_rooms_inbox_see_all",EMPTY_FRIEND_ROOM_CARD:"empty_friend_room_card",EMPTY_GROUP_ROOM_CARD:"empty_group_room_card",EMPTY_THREAD_ROOM_CARD:"empty_thread_room_card",FB_BOOKMARK:"fb_bookmark",FB_BOOKMARK_MENU:"fb_bookmark_menu",FB_CHAT_SIDE_BAR:"fb_chat_side_bar",FB_COMPOSER:"fb_composer",FB_COMPOSER_PUBLISHER_BAR:"fb_composer_publisher_bar",FB_FEED_COMPOSER:"fb_feed_composer",FB_FEED_TRAY_QP:"fb_feed_tray_qp",FB_FEED_TRAY_SOCIAL_NORMS_LARGE_QP:"fb_feed_tray_social_norms_large_qp",FB_FEED_TRAY_SOCIAL_NORMS_SMALL_QP:"fb_feed_tray_social_norms_small_qp",FB_GROUP_COMPOSER:"fb_group_composer",FB_IN_FEED:"fb_in_feed",FB_IN_FEED_ROOMS_CARD_LOBBY:"fb_in_feed_rooms_card_lobby",FB_IN_GROUP:"fb_in_group",FB_IN_PAGE:"fb_in_page",FB_IN_PROFILE:"fb_in_profile",FB_IN_THREAD:"fb_in_thread",FB_MESSENGER_JEWEL:"fb_messenger_jewel",FB_PROFILE_ROOMS_CARD_LOBBY:"fb_profile_rooms_card_lobby",FB_ROOMS_BOOKMARK_CARD_CREATOR_LOBBY:"fb_rooms_bookmark_card_creator_lobby",FB_ROOMS_BOOKMARK_CARD_FRIEND_LOBBY:"fb_rooms_bookmark_card_friend_lobby",FB_ROOMS_BOOKMARK_HEADER:"fb_rooms_bookmark_header",FB_ROOMS_BOOKMARK_HEADER_CREATOR_LOBBY:"fb_rooms_bookmark_header_creator_lobby",FB_ROOMS_HOME_HEADER:"fb_rooms_home_header",FB_ROOMS_HOME_JOIN_UNIT:"fb_rooms_home_join_unit",FB_ROOMS_HOME_ROOMS_SECTION:"fb_rooms_home_rooms_section",FB_SEARCH_SHORTCUT:"fb_search_shortcut",FB_TOP_OF_FEED:"fb_top_of_feed",FB_TOP_OF_FEED_ROOMS_CARD_LOBBY:"fb_top_of_feed_rooms_card_lobby",FB_TOP_OF_FEED_TRAY_HEADER:"fb_top_of_feed_tray_header",FRIEND_ROOM_CARD:"friend_room_card",GROUP_COMPOSER_ROOMS_BOTTOM_SHEET:"group_composer_rooms_bottom_sheet",GROUP_DISCUSSION_TAB_COMPOSER:"group_discussion_tab_composer",GROUP_MEMBER_ONBOARDING:"group_member_onboarding",GROUP_RHC:"group_rhc",GROUP_ROOM_CARD:"group_room_card",GROUP_ROOM_CREATION:"group_room_creation",GROUP_ROOM_CREATION_ROOMS_CARD_LOBBY:"group_room_creation_rooms_card_lobby",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_INBOX:"group_room_joined_chats_and_rooms_inbox",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_INBOX_SEE_ALL:"group_room_joined_chats_and_rooms_inbox_see_all",GROUP_ROOM_JOINED_CHATS_AND_ROOMS_TRAY:"group_room_joined_chats_and_rooms_tray",GROUP_ROOM_LIST_VIEW:"group_room_list_view",GROUP_ROOM_LIST_VIEW_ROOMS_CARD_LOBBY:"group_room_list_view_rooms_card_lobby",GROUP_ROOM_LIST_VIEW_SEE_ALL:"group_room_list_view_see_all",GROUP_ROOM_LIST_VIEW_SEE_ALL_ROOMS_CARD_LOBBY:"group_room_list_view_see_all_rooms_card_lobby",GROUP_ROOM_VALUE_PROP_EDU_QP:"group_room_value_prop_edu_qp",GROUP_ROOMS_TAB:"group_rooms_tab",GROUP_ROOMS_TAB_ROOMS_CARD_LOBBY:"group_rooms_tab_rooms_card_lobby",GROUP_ROOMS_VALUE_PROP_EDU_NOTIF:"group_rooms_value_prop_edu_notif",GROUPS_JOINABLE_VIDEO_CHAT_FRIEND_JOINED:"groups_joinable_video_chat_friend_joined",GROUPS_JOINABLE_VIDEO_CHAT_REMINDER:"groups_joinable_video_chat_reminder",GROUPS_NEW_JOINABLE_VIDEO_CHAT:"groups_new_joinable_video_chat",IG_CREATION_FLOW:"ig_creation_flow",IG_DIRECT_TAB:"ig_direct_tab",IG_DIRECT_TAB_ROOM_LIST:"ig_direct_tab_room_list",IN_LOBBY:"in_lobby",IN_THREAD:"in_thread",IN_THREAD_TOP_BAR:"in_thread_top_bar",INBOX_NEW:"inbox_new",INBOX_OLD:"inbox_old",INBOX_TRAY:"inbox_tray",INLINE_COMPOSER:"inline_composer",JVC_CHAT_REMINDER:"jvc_chat_reminder",JVC_CREATOR_JOINED:"jvc_creator_joined",JVC_EMPTY_ROOM:"jvc_empty_room",JVC_FRIEND_JOINED:"jvc_friend_joined",JVC_INVITED:"jvc_invited",JVC_JOIN_ATTEMPTED:"jvc_join_attempted",JVC_NOW_ROOM_CREATOR_REMINDER:"jvc_now_room_creator_reminder",JVC_RSVP:"jvc_rsvp",JVC_WANT_CHAT:"jvc_want_chat",MANAGEMENT:"management",MARKETING:"promo",MESSAGE_COMPOSER:"message_composer",NEW_VIDEO_CALL:"new_video_call",PEOPLE_TAB:"people_tab",PROFILE_SETTING:"profile_setting",PROFILE_TIMELINE:"profile_timeline",ROOM_PROMOTION_UNIT:"room_promotion_unit",SELF_ROOM_CARD:"self_room_card",TEST:"test",THREAD_TITLE:"thread_title",TOP_FRIENDS_BIRTHDAY_NOTIFICATION:"top_friends_birthday_notification",UNKNOWN_NOTIF:"unknown_notif",WEB_CHROME_EXTENSION:"web_chrome_extension",WHATSAPP:"whatsapp",XMA:"XMA"});e.exports=a}),null);
__d("RoomsUserActionsSurface",[],(function(a,b,c,d,e,f){a=Object.freeze({DEEP_LINKS:"deep_links",DEFAULT:"default",FACEBOOK_DOT_COM:"facebook_dot_com",FB_ROOMS_BOOKMARK:"fb_rooms_bookmark",FB_ROOMS_HOME:"fb_rooms_home",GROUP:"group",IG_DIRECT:"ig_direct",JEWEL_NOTIFICATIONS:"jewel_notifications",MESSENGER:"messenger",MESSENGER_DOT_COM:"messenger_dot_com",MESSENGER_FB:"messenger_fb",NEWSFEED:"newsfeed",PROFILE:"profile",PUSH_NOTIFICATIONS:"push_notifications",WEB_CHROME_EXTENSION:"web_chrome_extension",WORKCHAT:"workchat",WORKSPEED:"workspeed"});e.exports=a}),null);
__d("MWChatComposerActionTrayItems.bs",["fbt","ix","CometErrorBoundary.re","CometLazyDialogTrigger.react","CometPlaceholder.react","CometTooltip.react","JSResource","LSDatabaseDeferred.bs","MWChatComposerActionTrayButton.bs","MWChatComposerButtons.bs","MWChatComposerCreatePollButton.bs","MWChatComposerCreateRoomButton.react","MWChatComposerGifButton.bs","MWChatComposerIcons.bs","MWChatComposerP2PButton.bs","MWChatComposerP2PPopoverTrigger.bs","MWChatComposerStickerButton.bs","MWChatComposerUploadFileButton.bs","MWThreadKey.bs","MessengerURIConstants","Promise","React","RoomButtonTapFalcoEvent","RoomsUserActionsButton","RoomsUserActionsSource","RoomsUserActionsSurface","SkytaleDB","SkytaleDBQuery.bs","URI","bs_belt_Option","bs_caml_option","bs_curry","cr:1613306","cr:1711351","cr:1896943","fbicon","gkx","promiseDone","qex","recoverableViolation","stylex","useCurrentRoute","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React"),l={button:{flexGrow:"buofh1pr",marginStart:"h676nmdw"}},m=(e=b("gkx"))("1787584"),n=e("1787585"),o=e("1787586"),p=e("1787587"),q=e("1787588"),r=e("1787590"),s=e("1787591"),t=e("1787592"),u=b("qex")._("1857144"),v=b("qex")._("1914397");function w(a){return k.jsx(b("MWChatComposerIcons.bs").Photo.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}e={make:w};function x(a){return k.jsx(b("MWChatComposerIcons.bs").Sticker.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}var y={make:x};function z(a){return k.jsx(b("MWChatComposerIcons.bs").Gif.make,{size:20,fill:b("gkx")("1299319")?"#050505":"var(--primary-text)"})}var A={make:z},B=b("MWChatComposerCreateRoomButton.react"),C={make:B};function a(a){b("RoomButtonTapFalcoEvent").log(a)}a={log:a};function c(a){return b("useCurrentRoute")()}function D(a){b("recoverableViolation")("MWChatComposerActionTrayItems level component did not catch own error","messenger_web_product",{error:a})}function d(d,e,f,y,A,C,F,H,I,J,K,L,M,N,O,P,Q,R){f=b("gkx")("1013538")&&C&&(!d||b("gkx")("1618969"));C=b("cr:1711351")==null?void 0:b("bs_caml_option").some(b("cr:1711351"));var a=b("cr:1613306")==null?void 0:b("bs_caml_option").some(b("cr:1613306")),c=b("cr:1896943")==null?void 0:b("bs_caml_option").some(b("cr:1896943")),S=b("MWThreadKey.bs").useIdMemoized(void 0),T=b("uuid")(),U=b("MessengerURIConstants").FACEBOOK_PREFIX,V=b("useCurrentRoute")(),W;if(V==null)W=void 0;else{V=new(i||(i=b("URI")))(V.url);W=V.getPath()}var X=W!==void 0?W.startsWith(U)?b("RoomsUserActionsSurface").MESSENGER_FB:b("RoomsUserActionsSurface").MESSENGER_DOT_COM:b("RoomsUserActionsSurface").FACEBOOK_DOT_COM;V=u||v?k.jsx(B,{button:function(a,c,d,f,g,i,m){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("fbicon")._(h("1388374"),20),label:b("MWChatComposerButtons.bs").roomLabel,onPress:function(a){b("bs_curry")._1(c,void 0);if(S===void 0)return;a=b("LSDatabaseDeferred.bs").db.then(function(a){a=b("SkytaleDBQuery.bs").toArray(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"participants").asc,{hd:S,tl:0})).then(function(a){b("RoomButtonTapFalcoEvent").log(function(c){return{button_type:b("RoomsUserActionsButton").ROOMS,session_ids:{room_settings_session_id:T},surface:X,source:b("RoomsUserActionsSource").IN_THREAD,target_thread_size:a.length}});return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},testid:"composer_room_picker_action_tray",ref:a}),className:(j||(j=b("stylex")))(l.button)})},sessionId:T,surface:X},"room"):null;W=[[10,v&&u&&H&&d,V],[0,I&&b("bs_belt_Option").isSome(C)&&!m,b("bs_belt_Option").mapWithDefault(C,null,function(a){return k.jsx(a.make,{button:function(a,c){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Camera.make,label:b("MWChatComposerButtons.bs").quickCamLabel,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c}),className:(j||(j=b("stylex")))(l.button)})},onSendAttachment:J},"camera")})],[1,A&&b("bs_belt_Option").isSome(a)&&!n,b("bs_belt_Option").mapWithDefault(a,null,function(a){return k.jsx("div",{children:k.jsx(a.make,{onPress:K,disabled:!e}),className:(j||(j=b("stylex")))(l.button)},"audio")})],[2,b("bs_belt_Option").isSome(c),b("bs_belt_Option").mapWithDefault(c,null,function(a){return k.jsx("div",{children:k.jsx(a.make,{disabled:!e}),className:(j||(j=b("stylex")))(l.button)},"geminimsaudio")})],[3,!o,k.jsx(b("MWChatComposerUploadFileButton.bs").make,{button:function(a){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:w,label:b("MWChatComposerButtons.bs").uploadPhotoLabel,onPress:a,testid:"composer_photo_uploader_action_tray"}),className:(j||(j=b("stylex")))(l.button)})},logOnSelectFileForUpload:R},"photo")],[4,!p,k.jsx(b("MWChatComposerStickerButton.bs").make,{button:function(a,c,d,f,g,h,i){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:x,label:b("MWChatComposerButtons.bs").stickerLabel,onPress:c,testid:"composer_sticker_picker_action_tray"}),ref:a,className:(j||(j=b("stylex")))(l.button)})},onStickerSelect:N,logOnOpenStickerFlyout:Q},"sticker")],[5,y&&!q,k.jsx(b("MWChatComposerGifButton.bs").make,{button:function(a,c,d,f,g,h,i){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:z,label:b("MWChatComposerButtons.bs").gifLabel,onPress:c,testid:"composer_gif_picker_action_tray"}),ref:a,className:(j||(j=b("stylex")))(l.button)})},onGifSelect:M},"gif")],[6,F,k.jsx(b("MWChatComposerUploadFileButton.bs").make,{acceptAllFiles:!0,button:function(a){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Paperclip.make,label:b("MWChatComposerUploadFileButton.bs").label,onPress:a,testid:"composer_file_uploader"}),className:(j||(j=b("stylex")))(l.button)})},logOnSelectFileForUpload:R},"file")],[7,b("gkx")("1613519")&&!r,k.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatStaticLocationShareDialog.react").__setRef("MWChatComposerActionTrayItems.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){return k.jsx("div",{children:k.jsx(b("CometTooltip.react"),{tooltip:b("MWChatComposerButtons.bs").locationLabel,align:"middle",position:"above",children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Pin.make,label:b("MWChatComposerButtons.bs").locationLabel,onPress:a,testid:"share_static_location"})}),ref:c,className:(j||(j=b("stylex")))(l.button)})}},"location")],[8,f&&!s,k.jsx("div",{children:k.jsx(b("CometPlaceholder.react"),{children:k.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:k.jsx(b("MWChatComposerP2PPopoverTrigger.bs").make,{actionTrayOpen:e,closeActionTray:L,isGroupThread:d,threadId:O}),onError:D}),fallback:k.jsx(b("MWChatComposerP2PButton.bs").make,{disabled:!0,label:g._("Chargement\u2026")})}),className:(j||(j=b("stylex")))(l.button)},"payment")],[9,b("bs_belt_Option").isSome(P)&&!t,b("bs_belt_Option").mapWithDefault(P,null,function(a){return k.jsx(b("MWChatComposerCreatePollButton.bs").make,{button:function(a,c,d,f,g,h,i){return k.jsx("div",{children:k.jsx(b("MWChatComposerActionTrayButton.bs").make,{disabled:!e,icon:b("MWChatComposerIcons.bs").Poll.make,label:b("MWChatComposerButtons.bs").pollLabel,onPress:c,testid:"composer_poll_action_tray"}),ref:a,className:(j||(j=b("stylex")))(l.button)})},onPollCreate:a,logOnOpenPollFlyout:function(a){}},"poll")})],[10,!v&&u&&H&&d,V]];U=W.filter(function(a){return a[1]});I=U.some(function(a){return a[0]-3>>>0>2});C=U.map(function(a){return a[2]});return[C,I]}var E=b("cr:1613306"),F=b("cr:1711351"),G=b("cr:1896943");f.styles=l;f.$MWChatComposerAudioButton$requireCond=b("cr:1613306");f.mwChatComposerAudioButton=E;f.$MWChatComposerQuickCamButton$requireCond=b("cr:1711351");f.mwChatComposerQuickCamButton=F;f.$ChatGeminiMSAudioRecorderButton$requireCond=b("cr:1896943");f.chatGeminiMSAudioRecorderButton=G;f.cameraButtonDisabled=m;f.audioButtonDisabled=n;f.photoButtonDisabled=o;f.stickerButtonDisabled=p;f.gifButtonDisabled=q;f.locationButtonDisabled=r;f.paymentButtonDisabled=s;f.pollButtonDisabled=t;f.roomButtonEnabled=u;f.roomButtonEnabledInFrontofTray=v;f.PhotoButtonSVG=e;f.StickerButtonSVG=y;f.GifButtonSVG=A;f.MWChatComposerCreateRoomButton=C;f.RoomButtonTapFalcoEvent=a;f.useCurrentRoute=c;f.onError=D;f.useActionTrayItems=d}),null);
__d("MWChatComposerAttachmentArea.bs",["React","bs_belt_Option","bs_caml_option","bs_curry","stylex","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={notMediaRoot:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"},root:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",maxWidth:"d2edcug0",position:"l9j0dhe7"}};function a(a){var c=a.activeAttachmentType,d=a.children,e=a.closeActionTray;h.useEffect(function(){b("bs_curry")._1(e,void 0)},[e]);a=b("bs_belt_Option").flatMap(c,function(a){if(a==null)return;else return b("bs_caml_option").some(a)});if(a!==void 0)return h.jsx("div",{children:b("bs_curry")._1(d,a),className:(g||(g=b("stylex")))(i.root,a!=="MEDIA"?i.notMediaRoot:!1)});else return null}c=b("withComposerViewStatePart")(a,function(a){a=a.attachmentArea;return{activeAttachmentType:a==null?void 0:b("bs_caml_option").some(a.activeAttachmentType)}});f.styles=i;f.make=c}),null);
__d("MWChatComposerEmojiButton.bs",["fbt","CometComposerEmojiPickerTrigger.react","CometPressable.react","CometTooltip.react","MWChatComposerIcons.bs","React","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.className,d=a.fill,e=a.withArrow,f=a.logOnOpenEmojiFlyout,i=a.xstyleIcon;a=a.xstylePressable;e=e!==void 0?e:!0;var j=i!==void 0?b("bs_caml_option").valFromOption(i):!1,k=a!==void 0?b("bs_caml_option").valFromOption(a):!1,l=g._("Choisir un emoji");return h.jsx(b("CometComposerEmojiPickerTrigger.react"),{align:"end",children:function(a,e,f){return h.jsx("div",{children:h.jsx(b("CometTooltip.react"),{tooltip:l,align:"middle",position:"above",children:h.jsx(b("CometPressable.react"),{"aria-label":l,ref:a,testid:"composer_emoji_picker",onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayRadius:"50%",xstyle:function(a){return[k]},children:h.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d,xstyle:j})})}),className:c})},onVisibilityChange:function(a){if(a)return b("bs_curry")._1(f,void 0)},withArrow:e,testid:"mw_emoji_picker"})}c=a;f.make=c}),null);
__d("MWChatComposerHeadlessMediaUploader.bs",["React","bs_caml_option","bs_curry","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.mediaAttachments,d=a.onUploadStart,e=a.onUploadSuccess,f=a.onAttachmentsChanged,h=b("useComposerViewStateDispatcher")();g.useEffect(function(){b("bs_curry")._4(f,c,h,d,e)},[f,c,h,d,e]);return null}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRemoveMediaAttachmentItemButton.bs",["fbt","ix","CometComposerViewStateActions.bs","React","TetraCircleButton.react","bs_curry","fbicon","stylex","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={root:{end:"e712q9ov",position:"pmk7jnqg",top:"nezaghv5"}};function a(a){var c=a.attachment,d=b("useComposerViewStateDispatcher")();a=j.useCallback(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"RemoveMediaAttachmentItem",VAL:c}))},[c,d]);return j.jsx("div",{children:j.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478231"),12),label:g._("Supprimer la pi\u00e8ce jointe"),onPress:a,size:24,type:"overlay"}),className:(i||(i=b("stylex")))(k.root)})}c=a;f.styles=k;f.make=c}),null);
__d("MWChatComposerMediaAttachmentItem.bs",["ix","CometComposerViewState.bs","CometErrorBoundary.re","CometImage.react","CometLocalVideoFileThumbnailSuspense.react","CometPlaceholder.react","MWChatComposerRemoveMediaAttachmentItemButton.bs","MWChatFile.bs","MWChatImage.bs","React","TetraIcon.react","TetraText.react","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"},image:{borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",height:"datstx6m",objectFit:"bixrwtb6",width:"k4urcfbm"},videoIndicator:{position:"pmk7jnqg",start:"kfkz5moi",marginStart:"fnu23jab",top:"rk01pc8j",marginTop:"gy6hb44f"},fileRoot:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",paddingStart:"scb9dxdr",paddingEnd:"hv4rvrfc",position:"l9j0dhe7",width:"k5ud4834"}};function a(a){a=a.attachment;var c=b("CometComposerViewState.bs").MediaAttachment.fromJS(a),d;switch(c.TAG|0){case 0:case 1:d=[c._0,c._1];break;default:d=[c._0,c._1]}var e=d[1],f=e.uploadID;f=f==null?null:i.jsx(b("MWChatComposerRemoveMediaAttachmentItemButton.bs").make,{attachment:a});var k=i.jsxs("div",{children:[f,i.jsx("div",{children:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"}),className:(h||(h=b("stylex")))(b("MWChatFile.bs").styles.icon)}),i.jsx("div",{children:i.jsx(b("TetraText.react"),{type:"bodyLink3",numberOfLines:2,children:e.name}),className:h(b("MWChatFile.bs").styles.content)})],className:h(j.fileRoot)});if(c.TAG===4)return i.jsx("div",{});a=i.jsxs("div",{children:[f,i.jsx(b("CometImage.react"),{alt:e.name,draggable:!1,src:URL.createObjectURL(e),loading:"lazy",xstyle:[j.image]})],className:h(j.root)});switch(d[0]){case 0:return a;case 1:if(e.type==="image/gif")return a;else return i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return k},children:i.jsx("div",{children:i.jsxs(b("CometPlaceholder.react"),{children:[f,i.jsx(b("CometLocalVideoFileThumbnailSuspense.react"),{file:e,height:b("MWChatImage.bs").defaultMaxHeight,renderer:function(a){return i.jsxs("div",{children:[i.jsx(b("CometImage.react"),{alt:e.name,draggable:!1,src:a,loading:"lazy",xstyle:[j.image]}),i.jsx(b("CometImage.react"),{src:"/images/video/play_24dp.png",xstyle:[j.videoIndicator]})]})},width:200})],fallback:null}),className:(h||(h=b("stylex")))(j.root)})});case 2:return k}}c=a;f.make=c}),null);
__d("MWChatComposerUploadAnotherFileButton.bs",["fbt","ix","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","CometFileSelector.re","CometPressable.react","React","TetraIcon.react","bs_curry","fbicon","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j={root:{alignItems:"bp9cbjyn",backgroundColor:"n1jkxfxr",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",display:"j83agx80",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",height:"m7zwrmfr",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"tvfksri0",marginBottom:"dicw6rsg",marginStart:"hcukyx3x",overflowWrap:"jm1wdb64",position:"l9j0dhe7",width:"tmrshh9y"}};function a(a){b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var c=b("useComposerViewStateDispatcher")(),d=i.useCallback(function(a){if(a.length>0)return b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a}))},[c]);return i.jsx(b("CometFileSelector.re").make,{accept:["image/*","image/heif","image/heic","video/*"],children:function(a){return i.jsx(b("CometPressable.react"),{"aria-label":g._("Importer une autre photo\/vid\u00e9o"),onPress:function(c){return b("bs_curry")._1(a,void 0)},xstyle:j.root,children:i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:function(a){return b("bs_curry")._1(d,Array.from(a))}})}c=a;f.make=c}),null);
__d("MWChatComposerMediaAttachmentArea.bs",["CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","MWChatComposerHeadlessMediaUploader.bs","MWChatComposerMediaAttachmentItem.bs","MWChatComposerUploadAnotherFileButton.bs","React","bs_caml_option","bs_curry","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.mediaAttachments,d=a.onFileUploadStart,e=a.onFileUploadSuccess;a=a.onAttachmentsChanged;b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);var f=b("useComposerViewStateDispatcher")();g.useEffect(function(){return function(a){return b("bs_curry")._1(f,b("CometComposerViewStateActions.bs").convert("RemoveAllMediaAttachmentItems"))}},[f]);return g.jsxs("div",{children:[g.jsx(b("MWChatComposerHeadlessMediaUploader.bs").make,{onUploadStart:d,onUploadSuccess:e,onAttachmentsChanged:a}),c!==void 0?c.map(function(a,c){return g.jsx(b("MWChatComposerMediaAttachmentItem.bs").make,{attachment:a},"media-"+c)}):null,g.jsx(b("MWChatComposerUploadAnotherFileButton.bs").make,{})],className:"k4urcfbm b3onmgus r8blr3vg ph5uu5jm cxgpxx05 d76ob5m9 jifvfom9 j83agx80 bp9cbjyn"})}c=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:b("bs_caml_option").nullable_to_opt(a.mediaAttachments)}});f.make=c}),null);
__d("MWChatComposerRoundedCorners.bs",["Locale","React","stylex","useUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={roundedCornerTopRight:{fill:"qbubdy2e",position:"pmk7jnqg",top:"plgsh5y4",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerBottomRight:{fill:"qbubdy2e",position:"pmk7jnqg",bottom:"tghqpdut",end:"n7fi1qx3",pointerEvents:"hzruof5a"},roundedCornerRtl:{transform:"c3knoul3"}};function a(a){a=b("useUniqueID")();return h.jsx("div",{children:h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsxs("mask",{children:[h.jsx("rect",{height:"40",width:"40",fill:"white",x:"-20",y:"0"}),h.jsx("circle",{cx:"0",cy:"20",fill:"black",r:"20"})],id:a})}),h.jsx("rect",{height:"20",width:"20",mask:"url(#"+(a+")"),x:"0",y:"0"})],height:"20px",width:"20px"}),className:(g||(g=b("stylex")))(i.roundedCornerTopRight,b("Locale").isRTL()?i.roundedCornerRtl:!1)})}d={make:a};function c(a){a=b("useUniqueID")();return h.jsx("div",{children:h.jsxs("svg",{children:[h.jsx("defs",{children:h.jsxs("mask",{children:[h.jsx("rect",{height:"40",width:"40",fill:"white",x:"-20",y:"0"}),h.jsx("circle",{cx:"0",cy:"0",fill:"black",r:"20"})],id:a})}),h.jsx("rect",{height:"20",width:"20",mask:"url(#"+(a+")"),x:"0",y:"0"})],height:"20px",width:"20px"}),className:(g||(g=b("stylex")))(i.roundedCornerBottomRight,b("Locale").isRTL()?i.roundedCornerRtl:!1)})}e={make:c};f.styles=i;f.TopRight=d;f.BottomRight=e}),null);
__d("MWChatComposerUtil.bs",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("getPlainTextFromDeferredDraftEditorState")(a).trim().length>0}f.hasContent=a}),null);
__d("MWChatComposerInner.bs",["fbt","CometComposerAttachmentAreaReducer.re","CometComposerEditor.react","CometComposerMediaAttachmentReducer.re","CometComposerViewStateActions.bs","Keys","Locale","MWChatComposerAttachmentArea.bs","MWChatComposerButtons.bs","MWChatComposerEmojiButton.bs","MWChatComposerMediaAttachmentArea.bs","MWChatComposerRoundedCorners.bs","MWChatComposerUtil.bs","MWChatMultitabContext.bs","React","bs_belt_Array","bs_caml_option","bs_curry","composerAudioClipReducer","cr:1701527","getPlainTextFromDeferredDraftEditorState","gkx","isMimeTypeForMedia","qex","recoverableViolation","stylex","useCometComposerHandler","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{alignItems:"aovydwv3",display:"j83agx80",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",width:"qio8uep8",pointerEvents:"hzruof5a",position:"l9j0dhe7"},container:{borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"czkt41v7",borderBottomEndRadius:"fmqxjp7s",borderBottomStartRadius:"emzo65vh",display:"j83agx80",paddingBottom:"e5nlhep0",pointerEvents:"mrt03zmi"},composeArea:{paddingTop:"ecm0bbzt",paddingStart:"h4z51re5",borderTop:"gvyehdmr",borderEnd:"mu0vl6fp",borderBottom:"msuhji6j",borderStart:"iqy7zqfr",flexBasis:"rj1gh0hx",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",display:"j83agx80",overflowX:"ni8dbmo4",alignItems:"ll8tlv6m",backgroundColor:"b3i9ofy5",color:"oo9gr5id",transitionProperty:"flx89l3n",transitionDuration:"dpja2al7",borderTopStartRadius:"orhb3f3m",borderTopEndRadius:"h905i5nu",borderBottomEndRadius:"jinzq4gt",borderBottomStartRadius:"emzo65vh"},composeAreaExpanded:{transform:"qiw3t3sk"},composeAreaCollapsed:{transform:"hedjyaoh"},composeAreaCollapsedRtl:{transform:"n83uzuu6"},inputBoxContainer:{position:"pmk7jnqg",end:"tdcub1r8",paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"},inputBoxContainerIE11:{bottom:"k01i5q8h"},inputContainer:{display:"j83agx80",width:"k4urcfbm"},inputContainerContracted:{width:"thccjwpm"},photoAction:{marginEnd:"cxmmr5t8"},photoIcon:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},photoPressable:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},input:{paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0",flexGrow:"buofh1pr",fontSize:"jq4qci2q",lineHeight:"a3bd9o3v",maxHeight:"iko8p5ub",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",boxSizing:"rq0escxv",marginEnd:"lexh0w6q"}};function a(a){var c=a.actionTrayOpen,d=a.buttonColor,e=a.hasExtraTrayButtons,f=a.closeActionTray,k=a.fileUploadHandlerRef,l=a.hasContent,m=a.inputRef,n=a.editorState,o=a.hasMediaAttachments,p=a.canSendGif,q=a.sendGif,r=a.sendSticker,s=a.shouldExpandInput,t=a.onBlur,u=a.onContentsChange,v=a.onEscape,w=a.onFileUploadStart,x=a.onFileUploadSuccess,y=a.onAttachmentsChanged,z=a.logOnOpenStickerFlyout,A=a.logOnOpenEmojiFlyout,B=a.logOnSelectFileForUpload,C=a.audioRecorderShown;a=a.audioClip;b("useComposerViewStateReducer")(b("CometComposerAttachmentAreaReducer.re").composerAttachmentAreaReducer);b("useComposerViewStateReducer")(b("CometComposerMediaAttachmentReducer.re").reducer);b("useComposerViewStateReducer")(b("composerAudioClipReducer"));var D=b("useComposerViewStateDispatcher")(),E=!e||b("gkx")("1787593"),F=i.useContext(b("MWChatMultitabContext.bs").context),G=i.useMemo(function(){return{handleKeyCommand:function(a,c,d){if(a!=="Messenger/CloseTab")return"not-handled";b("bs_curry")._1(v,void 0);return"handled"},keyBindingFn:function(a){if(a.keyCode===b("Keys").ESC&&F!==void 0)return"Messenger/CloseTab"},priority:10}},[v]);b("useCometComposerHandler")(G);G=function(a){a=b("bs_belt_Array").keepMap(a,function(a){if(b("isMimeTypeForMedia").isMimeTypeForPhoto(a.type))return b("bs_caml_option").some(a)});a.length>0&&(b("bs_curry")._1(D,b("CometComposerViewStateActions.bs").convert({NAME:"ActivateAttachmentType",VAL:"MEDIA"})),b("bs_curry")._1(D,b("CometComposerViewStateActions.bs").convert({NAME:"AddMediaAttachmentItems",VAL:a})));return"handled"};var H=function(a,c){return b("bs_curry")._1(D,b("CometComposerViewStateActions.bs").convert({NAME:"SetAudioClip",VAL:[a,c]}))};if(n!==void 0){var I=b("bs_caml_option").valFromOption(n);l.contents=b("MWChatComposerUtil.bs").hasContent(I);var J=I.draftEditorState;if(J!==void 0)J=b("bs_caml_option").valFromOption(J).isInCompositionMode();else{I=I.isComposing;I!==void 0?J=I:(b("recoverableViolation")("viewState.editorState in MWChatComposerInner is malformed!","messenger_comet"),J=!1)}}else b("recoverableViolation")("Did not properly supply editorState prop to MWChatComposerInner from viewState!","messenger_comet"),J=!1;I=function(a){if(n!==void 0){var c=b("getPlainTextFromDeferredDraftEditorState")(b("bs_caml_option").valFromOption(n)),d=b("getPlainTextFromDeferredDraftEditorState")(a);c!==d&&b("bs_curry")._1(u,d)}return a};var K=b("gkx")("1620337");s=s||K||J||c||o===!0||C||l.contents&&e;J=function(a){a=m.current;if(!(a==null))return a.focus()};c=b("qex")._("1586110");l=c==null?{}:{fontSize:String(c)+"px"};e={hasPermanentToggleButton:!E,fileUploadHandlerRef:k,canSendGif:p,sendGif:q,sendSticker:r,shouldHideButtons:s,logOnOpenStickerFlyout:z,logOnSelectFileForUpload:B};d!==void 0&&(e.buttonColor=b("bs_caml_option").valFromOption(d));var L;c=0;b("cr:1701527")==null||!C?c=1:L=i.jsx(b("cr:1701527").make,{audioClip:a,setAudioClip:H});if(c===1){E={className:(h||(h=b("stylex")))(j.photoAction),withArrow:!K,logOnOpenEmojiFlyout:A,xstylePressable:j.photoPressable};d!==void 0&&(E.fill=b("bs_caml_option").valFromOption(d));L=i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[o===!0?i.jsx(b("MWChatComposerAttachmentArea.bs").make,{children:function(a){return i.jsx(b("MWChatComposerMediaAttachmentArea.bs").make,{onFileUploadStart:w,onFileUploadSuccess:x,onAttachmentsChanged:y})},closeActionTray:f}):null,i.jsx("div",{children:i.jsx("div",{children:i.jsx(b("CometComposerEditor.react"),{autoFocus:!1,handlePastedFiles:G,onChange:I,onBlur:t,placeholder:g._("Aa"),ref:m,submitOnEnter:!0,testid:"chat_input",typingPerformanceID:"MWChatComposer"}),className:h(j.input),style:l}),className:h(j.inputContainer,s?!1:j.inputContainerContracted)})],className:h(j.container,j.composeArea,s?j.composeAreaExpanded:b("Locale").isRTL()?j.composeAreaCollapsedRtl:j.composeAreaCollapsed),onClick:J}),i.jsx("div",{children:i.jsx(b("MWChatComposerEmojiButton.bs").make,E),className:h(j.container,j.inputBoxContainer,b("gkx")("1299319")?j.inputBoxContainerIE11:!1)})]})}return i.jsxs(i.Fragment,{children:[i.jsx(b("MWChatComposerButtons.bs").make,e),i.jsxs("div",{children:[L,i.jsx(b("MWChatComposerRoundedCorners.bs").TopRight.make,{}),i.jsx(b("MWChatComposerRoundedCorners.bs").BottomRight.make,{})],className:(h||(h=b("stylex")))(j.root)})]})}c=b("withComposerViewStatePart")(a,function(a){var c=a.mediaAttachments;return{audioClip:b("bs_caml_option").nullable_to_opt(a.audioClip),hasMediaAttachments:c==null?!1:c.length!==0,editorState:a.editorState}});d=b("cr:1701527");f.styles=j;f.$MWChatComposerAudioRecorder$requireCond=b("cr:1701527");f.mwChatComposerAudioRecorder=d;f.make=c}),null);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f){"use strict";a={fillGrey:{fill:"crt8y2ji"},strokeGrey:{stroke:"s9lmpwuu"}};f.styles=a}),null);
__d("MWChatDisabledSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");function j(a){}var k={disabledSend:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){a=g._("Bouton Envoyer d\u00e9sactiv\u00e9");return i.jsx(b("CometPressable.react"),{"aria-label":a,onPress:j,overlayRadius:"50%",xstyle:function(a){return[k.disabledSend]},children:i.jsx("svg",{children:i.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fillRule:"evenodd",stroke:"none"}),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",width:"20px",viewBox:"0 0 24 24"})})}c=a;f.noop=j;f.styles=k;f.make=c}),null);
__d("MWChatHotLikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","CometTooltip.react","EmojiRenderer","MWChatChatButtonColorConstants.bs","MWLikeSvgIcon.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={hotLikeCustom:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginTop:"qjjbsfad",marginStart:"hnxzwevs",marginEnd:"qq4y78aw",marginBottom:"oud54xpy"},hotLikeDefault:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.color,d=a.customLikeEmoji;a=a.sendHotLike;if(d!==void 0&&d!==""){var e=g._("Envoyer un {emoji}",[g._param("emoji",d)]),f=function(a){var c=b("EmojiRenderer").parse(d).map(function(a){return a.emoji});if(c.length!==1)return i.jsx("span",{children:d});c=c[0];return i.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},k=g._("Envoyer un");k=i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[k," "]}),f(16)]});return i.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,testid:"messenger_hotlike_emoji_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[j.hotLikeCustom]},children:f(24)})})}k=g._("Envoyer un J\u2019aime");e={className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey)};c!==void 0&&(e.color=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":k,testid:"messenger_hotlike_button",onPress:a,overlayRadius:"50%",xstyle:function(a){return[j.hotLikeDefault]},children:i.jsx(b("MWLikeSvgIcon.bs").make,e)})})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatSendButton.bs",["fbt","CometPressable.react","CometTooltip.react","MWChatChatButtonColorConstants.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={send:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginTop:"knvmm38d",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"bi6gxh9e"}};function a(a){var c=a.onPress,d=a.color;a=a.testid;var e=g._("Appuyer sur Entr\u00e9e pour envoyer"),f={d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fillRule:"evenodd",stroke:"none"};d!==void 0&&(f.fill=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,testid:a,onPress:c,overlayRadius:"50%",xstyle:function(a){return[j.send]},children:i.jsx("svg",{children:i.jsx("path",f),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",width:"20px",viewBox:"0 0 24 24"})})})}c=a;f.styles=j;f.make=c}),null);
__d("MWUIComposerPersistentMenuButton.bs",["cr:1772080"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1772080").make;f.$LSComposerPersistentMenuButton$OR$MWChatBusinessPersistentMenuButton$requireCond=b("cr:1772080");f.make=a}),null);
__d("MWChatComposerLastButton.bs",["FBLogger","MWChatComposerUtil.bs","MWChatDisabledSendButton.bs","MWChatHotLikeButton.bs","MWChatSendButton.bs","MWUIComposerPersistentMenuButton.bs","React","bs_belt_Option","bs_caml_option","bs_curry","gkx","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.color,d=a.customLikeEmoji,e=a.editorState,f=a.hasMediaAttachments,h=a.hasAudioClip,i=a.onFocusComposer,j=a.sendHotLike,k=a.sendMenuItem,l=a.sendMessage,m=a.shouldShowMenu;a=a.pageId;var n=!b("gkx")("1835751");l={onPress:l,testid:"chat_send_button"};c!==void 0&&(l.color=b("bs_caml_option").valFromOption(c));l=g.jsx(b("MWChatSendButton.bs").make,l);if(e!==void 0){f=b("bs_belt_Option").getWithDefault(f,!1);h=b("bs_belt_Option").getWithDefault(h,!1);if(!(!b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(e))&&!f&&!h))return l;if(n)return g.jsx(b("MWChatDisabledSendButton.bs").make,{});if(a!==void 0&&m){e={pageId:b("bs_caml_option").valFromOption(a),sendMenuItem:k};c!==void 0&&(e.color=b("bs_caml_option").valFromOption(c));return g.jsx(b("MWUIComposerPersistentMenuButton.bs").make,e)}f={customLikeEmoji:d,sendHotLike:function(a){b("bs_curry")._1(j,a);return b("bs_curry")._1(i,void 0)}};c!==void 0&&(f.color=b("bs_caml_option").valFromOption(c));return g.jsx(b("MWChatHotLikeButton.bs").make,f)}b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerLastButton from viewState!");return l}c=b("withComposerViewStatePart")(a,function(a){var c=a.mediaAttachments;return{editorState:a.editorState,hasMediaAttachments:c==null?!1:c.length!==0,hasAudioClip:b("bs_caml_option").nullable_to_opt(a.audioClip)!==void 0}});d=b("bs_belt_Option").getWithDefault;f.$pipe$question=d;f.make=c}),null);
__d("LsReplyCanceledFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743875");c=b("FalcoLoggerInternal").create("ls_reply_canceled",a);e.exports=c}),null);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWChatComposerReplyView.bs",["fbt","ix","LsFalcoEventEntryPoint.bs","LsReplyCanceledFalcoEvent","LsReplyRenderedFalcoEvent","MWChatReplyText.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs","MessagingAttachmentType.bs","React","TetraIcon.react","TetraText.react","TetraTextPairing.react","bs_caml_int64","bs_curry","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={container:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"oj5qckz4",paddingStart:"lb8aey2d",paddingTop:"jktsbyx5",paddingBottom:"pby63qed",display:"j83agx80",justifyContent:"i1fnvgqd",alignItems:"ll8tlv6m"},message:{marginEnd:"o3lre8g0"}};function a(a){var c=a.repliedToMessage,d=a.onClosePreview;a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useParticipants,a);j.useEffect(function(){b("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);var e;if(c.fromViewer)e=g._("vous-m\u00eame");else{a=a.get(c.authorID);e=a==null?g._("Message"):a.name}a=c.content;var f;switch(a.TAG|0){case 0:c=a._2;if(c.TAG){a=c._0;switch(a.TAG|0){case 0:f=g._("Sticker");break;case 1:case 2:f=g._("Image");break;case 3:a=a._0;f=b("bs_caml_int64").eq(a.f,b("MessagingAttachmentType.bs").ephemeralImage)?g._("Image"):b("bs_caml_int64").eq(a.f,b("MessagingAttachmentType.bs").ephemeralVideo)?g._("Vid\u00e9o"):g._("Pi\u00e8ce jointe");break;case 7:f=g._("Vid\u00e9o");break;case 9:f=null;break;default:f=g._("Pi\u00e8ce jointe")}}else{a=c._0;f=j.jsx(b("MWChatReplyText.bs").make,{text:a.text,ranges:a.ranges})}break;case 1:case 2:f=null;break}return j.jsxs("div",{children:[j.jsx(b("TetraTextPairing.react"),{body:j.jsx(j.Fragment,{children:j.jsxs(b("TetraText.react"),{type:"body4",children:[g._("R\u00e9pond \u00e0")," ",j.jsx(b("TetraText.react"),{type:"bodyLink4",children:e})]})}),meta:f,level:3,style:k.message}),j.jsx(b("TetraIcon.react"),{"aria-label":g._("Supprimer"),icon:b("fbicon")._(h("478231"),12),onPress:function(a){b("LsReplyCanceledFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}});return b("bs_curry")._1(d,void 0)},color:"primary"})],className:(i||(i=b("stylex")))(k.container)})}c=a;f.replyToStyles=k;f.make=c}),null);
__d("CometComposerEditorStateReducer.re",["composerEditorStateViewStateReducer"],(function(a,b,c,d,e,f){a=b("composerEditorStateViewStateReducer");f.reducerTypeChecked=a;c=a;f.reducer=c}),null);
__d("Draft.bs",["EditorState"],(function(a,b,c,d,e,f){"use strict";c={};d={};e={};var g={},h={},i={},j={},k={};function a(a){a=b("EditorState").createEmpty(void 0);var c=a.getCurrentContent();return b("EditorState").forceSelection(a,c.getSelectionAfter())}a={clearEditorContent:a};var l={};f.CharacterMetadata=c;f.ContentBlock=d;f.EntityInstance=e;f.SelectionState=g;f.ContentState=h;f.Decorator=i;f.CompositeDecorator=j;f.Modifier=k;f.EditorState=a;f.Editor=l}),null);
__d("MWChatResetComposer.bs",["CometComposerEditorStateReducer.re","CometComposerViewStateActions.bs","Draft.bs","React","bs_curry","useComposerViewStateReducer","useControlledComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){b("useComposerViewStateReducer")(b("CometComposerEditorStateReducer.re").reducer);var d=b("useControlledComposerViewStateDispatcher")();g.useImperativeHandle(c,function(){return{reset:function(a){return[{NAME:"UpdateDraftEditorState",VAL:b("Draft.bs").EditorState.clearEditorContent(void 0)},"RemoveAllMediaAttachmentItems",{NAME:"RemoveAttachmentType",VAL:"MEDIA"},"RemoveAudioClip"].map(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert(a))})}}},[d]);return null}c=g.forwardRef(a);f.make=c}),null);
__d("MWChatUseLatch.bs",["React","Run","bs_caml_option","bs_curry","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=c!==void 0?c:!1,f=g.useRef(void 0),h=g.useCallback(function(a){var c=f.current;if(c!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(c));f.current=void 0;return}else return b("bs_curry")._1(a,void 0)},[f]),i=g.useCallback(function(c){b("bs_curry")._1(h,function(a){});return b("bs_curry")._1(a,!1)},[a,h]);c=g.useCallback(function(c){b("bs_curry")._1(h,function(c){return b("bs_curry")._1(a,!0)});c=b("setTimeout")(i,d);f.current=b("bs_caml_option").some(c)},[a,i,f,h,d]);g.useEffect(function(){if(!e)return;var a=b("Run").onUnload(i);return function(b){return a.remove()}},[e,i]);return[c,i]}f.useLatch=a}),null);
__d("MWChatComposerBase.bs",["CometComposer.react","CometInteractionTracingQuickLogModule","CometOnOutsideClick.react","CometPlaceholder.react","CometTooltipGroup.react","MWChatComposerActionTrayItems.bs","MWChatComposerInner.bs","MWChatComposerLastButton.bs","MWChatComposerReplyView.bs","MWChatComposerUtil.bs","MWChatFocusComposerContext.bs","MWChatResetComposer.bs","MWChatUseLatch.bs","React","bs_belt_Option","bs_caml_option","bs_curry","clearTimeout","cr:1628845","cr:1629297","cr:1662514","gkx","stylex","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",position:"l9j0dhe7",alignItems:"aovydwv3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundColor:"nred35xi",paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"},aboveActionTray:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},aboveActionTrayClosed:{transform:"agkhgkm8"},aboveActionTrayOpen:{transform:"brhp5kr4"}};function j(a){}function a(a){var c=a.isPreviewThread,d=a.repliedToMessage,e=a.isTabFocused,f=a.initialComposerViewState,k=a.canSendGif,l=a.canSendFile,m=a.canSendRoom,n=a.canSendAudioClip,o=a.canSendQuickCamAttachment,p=a.canSendPayment,q=a.isGroupThread,r=a.otherUserFbid,s=a.sendMessage,t=a.sendGif,u=a.sendSticker,v=a.sendHotLike,w=a.sendMenuItem,aa=a.sendQuickCamAttachment,ba=a.shouldMinimizeActionsWhenTyping,x=a.logOnOpenStickerFlyout,ca=a.logOnOpenEmojiFlyout,y=a.logOnSelectFileForUpload,da=a.mentionsPlugin,z=a.actionTrayOpen,A=a.openActionTray,B=a.closeActionTray,ea=a.color,fa=a.customLikeEmoji,ga=a.shouldShowMenu,ha=a.pageId,C=a.onFileUploadStart,ia=a.onFileUploadSuccess,ja=a.onAttachmentsChanged,ka=a.fileUploadHandlerRef,D=a.messageRequestInfoText,E=a.onContentsChange,la=a.hasContent,ma=a.onCloseTab,F=a.onTypingStateChanged,G=a.isLocalThread,H=a.threadKey,na=a.onCloseReplyPreview,oa=a.resetComposerRef,I=a.isSubmitting,pa=a.saveState,J=a.createPoll,qa=a.showAudioRecorder,ra=a.hideAudioRecorder,K=a.audioRecorderShown,sa=C!==void 0?C:function(a){},L=h.useRef(null),M=h.useRef(null),N=b("gkx")("1787593"),ta=!b("gkx")("1840608");a=h.useState(function(){return!1});var O=a[1],P=a[0];C=h.useContext(b("MWChatFocusComposerContext.bs").context);var Q=C.setFocusComposer,R=function(a){a=M.current;if(!(a==null))return a.focus()};h.useEffect(function(){b("bs_curry")._1(Q,R)},[Q]);var S=h.useRef(f),T=function(a){a=L.current;S.current=a==null?void 0:b("bs_caml_option").some(a.getViewState())};h.useEffect(function(){return function(a){a=S.current;if(a!==void 0&&H!==void 0)return b("bs_curry")._2(pa,H,b("bs_caml_option").valFromOption(a))}},[]);var U=d!==void 0;h.useEffect(function(){var a=M.current;!(a==null)&&U&&a.focus()},[U]);h.useEffect(function(){var a=M.current;!(a==null)&&e&&!c&&a.focus()},[c]);a=b("MWChatUseLatch.bs").useLatch(b("bs_belt_Option").getWithDefault(F,j),!0,5e3);var V=a[1],W=a[0],X=h.useRef(null),Y=h.useCallback(function(a){a=X.current;if(!(a==null)){b("clearTimeout")(a);return}},[X]);h.useEffect(function(){return Y},[Y]);C=b("MWChatComposerActionTrayItems.bs").useActionTrayItems(q,z,r,k,n,p,l,m,o,aa,qa,B,t,u,H,J,x,y);var Z=C[1],ua=C[0],va=h.useCallback(function(a){!Z&&ba&&b("bs_curry")._1(O,function(b){return a!==""});b("bs_curry")._1(Y,void 0);b("bs_curry")._1(E,a);if(a==="")return b("bs_curry")._1(V,void 0);else return b("bs_curry")._1(W,void 0)},[O,E,W,V]),wa=function(a){a=M.current;a==null||a.focus();return b("bs_curry")._1(sa,void 0)},xa=b("useCometInteractionTracing")(b("CometInteractionTracingQuickLogModule").CHAT_TAB_SEND_MESSAGE,"fast","INTERACTION");F=function(a){if(!I.current)return xa(function(d){d.onComplete(function(a){a=c?"search":"chat";return d.addMetadata("entrypoint",a)});b("bs_curry")._1(s,a);return b("bs_curry")._1(V,void 0)})};var ya=d!==void 0?h.jsx(b("CometPlaceholder.react"),{children:h.jsx("div",{children:h.jsx(b("MWChatComposerReplyView.bs").make,{repliedToMessage:d,onClosePreview:na}),className:(g||(g=b("stylex")))(i.aboveActionTray,z&&!b("gkx")("1620337")?i.aboveActionTrayOpen:i.aboveActionTrayClosed)}),fallback:null}):null,$=e?ea:void 0;a={ref:L,children:function(a){return h.jsx(b("CometOnOutsideClick.react"),{children:function(c){var d;if(b("cr:1629297")==null)d=null;else{var e={actionTrayOpen:z,canSendGif:k,sendGif:t,sendSticker:u,createPoll:J,logOnSelectFileForUpload:y,isLocalThread:G,threadKey:H,onPress:function(a){if(z){b("bs_curry")._1(B,void 0);return b("bs_curry")._1(O,function(a){return!1})}else return b("bs_curry")._1(A,void 0)}};$!==void 0&&(e.buttonColor=b("bs_caml_option").valFromOption($));d=h.jsx(b("cr:1629297").make,e)}if(b("cr:1662514")==null||N||!Z)e=null;else{var f={actionTrayOpen:z,hasExtraTrayButtons:Z,setShouldExpandInput:O,shouldExpandInput:P,hideAudioRecorder:ra,closeActionTray:B,openActionTray:A,audioRecorderShown:K,isLocalThread:G};$!==void 0&&(f.buttonColor=b("bs_caml_option").valFromOption($));e=h.jsx(b("cr:1662514").make,f)}f={actionTrayOpen:z,hasExtraTrayButtons:Z,closeActionTray:B,fileUploadHandlerRef:ka,hasContent:la,inputRef:M,canSendGif:k,sendGif:t,sendSticker:u,shouldExpandInput:P,onBlur:function(a){T(void 0);return b("bs_curry")._1(V,void 0)},onContentsChange:va,onEscape:function(a){T(void 0);return b("bs_curry")._1(ma,void 0)},onFileUploadStart:wa,onFileUploadSuccess:ia,onAttachmentsChanged:ja,logOnOpenStickerFlyout:x,logOnOpenEmojiFlyout:ca,logOnSelectFileForUpload:y,audioRecorderShown:K};$!==void 0&&(f.buttonColor=b("bs_caml_option").valFromOption($));var j={customLikeEmoji:fa,onFocusComposer:R,sendHotLike:function(a){return b("bs_curry")._1(v,void 0)},sendMenuItem:w,sendMessage:a,shouldShowMenu:ga,pageId:ha};$!==void 0&&(j.color=b("bs_caml_option").valFromOption($));return h.jsxs("div",{children:[h.jsx(b("MWChatResetComposer.bs").make,{ref:oa}),D!==void 0?h.jsx(b("CometPlaceholder.react"),{children:h.jsx("div",{children:b("bs_caml_option").valFromOption(D),className:(g||(g=b("stylex")))(i.aboveActionTray,z?i.aboveActionTrayOpen:i.aboveActionTrayClosed)}),fallback:null}):null,ya,ta?null:da,!(b("cr:1628845")==null)&&!(N||!Z)?h.jsx(b("cr:1628845").make,{isOpen:z,trayButtons:ua}):null,h.jsxs("div",{children:[h.jsxs(b("CometTooltipGroup.react"),{children:[d,e,h.jsx(b("MWChatComposerInner.bs").make,f)]}),h.jsx(b("MWChatComposerLastButton.bs").make,j)],className:(g||(g=b("stylex")))(i.root)})],ref:c})},onOutsideClick:function(a){return b("bs_curry")._1(O,function(a){return!1})}})},onBeforeViewStateChange:function(a){if(I.current&&!b("MWChatComposerUtil.bs").hasContent(a.editorState)){I.current=!1;return}},onSubmitCommit:F,registerOnBeforeUnload:!1};f!==void 0&&(a.beginningViewState=b("bs_caml_option").valFromOption(f));return h.jsx(b("CometComposer.react"),a)}c=a;f.styles=i;f.noOp=j;f.$MWWorkChatComposerToggleActionMenuButton$OR$null$requireCond=b("cr:1629297");f.$null$OR$MWChatComposerActionTray$requireCond=b("cr:1628845");f.$null$OR$MWChatComposerActionsToggle$requireCond=b("cr:1662514");f.make=c}),null);
__d("MWChatComposerMentionsTypeaheadListItem.react",["CometImageIcon.react","CometSearchMentionsBaseViewItem.react","React","TetraTextPairing.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=c.getLabel(),e=c.getSublabel(),f=c.getPhotoURI();return g.jsx(b("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,children:g.jsxs("div",{className:"b38knevg j83agx80 bp9cbjyn",children:[f!=null&&g.jsx("div",{className:"ciadx1gn mudddibn",children:g.jsx(b("CometImageIcon.react"),{size:28,src:f,style:"circle"})}),g.jsx("div",{className:"ozuftl9m",children:g.jsx(b("TetraTextPairing.react"),{body:d,bodyLineLimit:1,level:3,meta:e,metaLineLimit:1})})]})}))}}),null);
__d("MWThread_DEPRECATED.re",["MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){c=(a=b("MWThread_DEPRECATED.bs")).useId;f.useId=c;d=a.useIdExn;f.useIdExn=d;e=a.toThreadKey;f.toThreadKey=e;b=a.useFBID;f.useFBID=b;c=a.key;f.key=c;(function(a){return null});d=a.make;f.make=d}),null);
__d("MWUICurrentThreadParticipants.bs",["cr:1754640"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1754640").useMercuryParticipants;c=b("cr:1754640").useParticipants;f.useMercuryParticipants=a;f.useParticipants=c}),null);
__d("MWUICurrentThreadParticipants.re",["MWUICurrentThreadParticipants.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(){var a=b("MWUICurrentThreadParticipants.bs").useMercuryParticipants();return[a[0],a[1],function(c,d){c=b("bs_curry")._2(a[2],c,d==null?void 0:d);return c}]};f.useMercuryParticipants=a;c=b("MWUICurrentThreadParticipants.bs").useParticipants;f.useParticipants=c}),null);
__d("MWChatComposerMentionsTypeaheadEntry",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getRawData=function(){return this.$1};b.getKey=function(){return this.$1.key};b.getLabel=function(){return this.$1.title};b.getSublabel=function(){return this.$1.subtitle};b.getPhotoURI=function(){return this.$1.photoURI};b.isFromNickname=function(){return this.$1.source==="nickname"};b.getMentionDecorType=function(){return"regular"};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","MWChatComposerMentionsTypeaheadEntry","Promise","gkx","remove-accents"],(function(a,b,c,d,e,f,g){"use strict";var h=6;a=function(){function a(a,c){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==b("CurrentUser").getID()}),this.$2=c}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){var c=this,d=a.query,e=[];this.$1.forEach(function(a){var f=a.actualName,g=a.contactId,h=a.nickname;a=a.profilePictureUrl;var i=null;c.$3(f,d)?i="name":h!=null&&c.$3(h,d)&&(i="nickname");i!=null&&a!=null&&e.push(new(b("MWChatComposerMentionsTypeaheadEntry"))({key:g+" "+i,photoURI:a,source:i,subtitle:h,title:f}))});if(b("gkx")("1608686")){var f=g._("tout le monde").toString();if(this.$3(f,d)){var i=g._("Mentionner tous les participants de cette discussion").toString();e.push(new(b("MWChatComposerMentionsTypeaheadEntry"))({key:""+this.$2,photoURI:null,source:"all",subtitle:i,title:f}))}i=g._("ici").toString();if(this.$3(i,d)){f=g._("Identifiez toutes les personnes actives dans cette discussion").toString();e.push(new(b("MWChatComposerMentionsTypeaheadEntry"))({key:this.$2+"-active",photoURI:null,source:"all",subtitle:f,title:i}))}}e.length>h&&(e=e.slice(0,h));return{entries:e,params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};c.$3=function(a,c){if(c.length===0)return!0;var d=b("remove-accents")(c).toLowerCase();c=b("remove-accents")(a).toLowerCase();return c.split(" ").some(function(a){return a.startsWith(d)})||c.startsWith(d)};return a}();e.exports=a}),null);
__d("useMWChatMentionsDataSourceResolver",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategy","useCometMentionsDataSourceResolver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.participants;a=a.threadFBID;return b("useCometMentionsDataSourceResolver")([{dataSource:new(b("MWChatComposerMentionsTypeaheadDataSource"))(c,a),matchStrategy:b("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0})}])}}),null);
__d("MWChatComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","MWChatComposerMentionsTypeaheadListItem.react","MWThread_DEPRECATED.re","MWUICurrentThreadParticipants.re","React","createCometComposerMentionsEntity","getCometComposerMentionsSearch","useMWChatMentionsDataSourceResolver","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.currentBlockKey;var c=b("MWThread_DEPRECATED.re").useFBID(),d=b("MWUICurrentThreadParticipants.re").useParticipants();d=b("useMWChatMentionsDataSourceResolver")({participants:d,threadFBID:c});c=g.useCallback(function(a){var b=a.getSublabel();return a.isFromNickname()&&b!=null?"@"+b:"@"+a.getLabel()},[]);var e=g.useCallback(function(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)},[]);return g.jsx(b("CometComposerMentionsPlugin.react"),{currentBlockKey:a,dataSourceResolver:d,getReplacementString:c,getSearchText:b("getCometComposerMentionsSearch"),onMentionCreateContentState:e,priority:1,viewItemStrategyRenderer:b("MWChatComposerMentionsTypeaheadListItem.react")})}c=b("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}});e.exports=c}),null);
__d("MWChatComposerMentionsPlugin.re",["MWChatComposerMentionsPlugin.react"],(function(a,b,c,d,e,f){a=b("MWChatComposerMentionsPlugin.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={body:b("gkx")("1147754")?g._("Le fichier s\u00e9lectionn\u00e9 est trop volumineux. La taille maximale est de 75 Mo."):g._("Le fichier s\u00e9lectionn\u00e9 est trop volumineux. La taille maximale est 25 Mo."),title:g._("Impossible d\u2019importer les fichiers")};f.maxFileSizeExceeded=a}),null);
__d("MWChatComposerUploadFileHook.bs",["ActorURI","CometComposerViewState.bs","CometComposerViewStateActions.bs","CurrentUser","MWChatFileUploadErrorDialog.bs","MercuryConfig","MercuryConstants","React","URI","XComposerPhotoUploader","bs_belt_Array","bs_caml_array","bs_caml_option","bs_curry","recoverableViolation","useCometAlertDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,c,d,e,f){return new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,c){a=c.response.getError();var d=c.response.getErrorSummary();c=c.response.getErrorDescriptionString();if(a!==0&&!(d==null)&&!(c==null)){b("bs_curry")._2(f,d,c);return!1}else return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"MediaUploadStarted",VAL:a}));return b("bs_curry")._1(d,a)},onUploadSuccess:function(a,d){var f=d.upload.getFile();d=b("bs_caml_array").get(d.response.payload.metadata,0);var g=d.fbid,h=d.video_id,i=d.audio_id,j=d.gif_id;d=d.file_id;g=g!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(g)):h!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):i!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(i)):j!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(j)):d!==void 0?b("bs_caml_option").some(b("bs_caml_option").valFromOption(d)):void 0;if(g!==void 0){h=b("bs_caml_option").valFromOption(g);b("bs_curry")._1(c,b("CometComposerViewStateActions.bs").convert({NAME:"MediaUploadSuccessful",VAL:[h,a]}));return b("bs_curry")._3(e,f,a,h)}b("recoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(g||(g=b("URI")))(b("MercuryConfig").upload_url),a)})}function j(a,c,d,e){var f=b("bs_belt_Array").keepMap(c.map(b("CometComposerViewState.bs").MediaAttachment.fromJS),function(a){if(a.TAG)return;else return b("bs_caml_option").some(a._1)});if(f.length<=0)return;var g=f.some(function(a){return a.size>b("MercuryConstants").AttachmentMaxSize});if(g){c.forEach(function(a){return b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"RemoveMediaAttachmentItem",VAL:a}))});return b("bs_curry")._2(e,b("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(a){})}else{b("bs_curry")._1(d,b("CometComposerViewStateActions.bs").convert({NAME:"QueueUploads",VAL:b("bs_belt_Array").keepMap(f,function(a){return b("bs_caml_option").nullable_to_opt(a.uploadID)})}));a.getAsyncUploadRequest(f,void 0).send();return}}function a(a){a=b("useCometAlertDialog")();var c=a[0],d=function(a,d){return b("bs_curry")._2(c,{body:d,title:a},function(a){})},e=b("CurrentUser").getID();return h.useCallback(function(a){return function(f,g,h){if(a!==void 0&&a.some(function(a){return b("CometComposerViewState.bs").MediaAttachment.stateJS(a)==="NEW"}))return j(i(e,f,g,h,d),a,f,c)}},[e])}f.createUploader=i;f.uploadAttachments=j;f.useHook=a}),null);
__d("MWChatProfileRange.bs",["FBID.bs","MessageProfileRangeType","gkx"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=[],e={contents:0};c.getBlockMap().forEach(function(f,g,h){g=f.getText();f.findEntityRanges(function(a){return!0},function(g,h){var i=f.getEntityAt(g);if(i==null)return;i=c.getEntity(i);if(i.getType()!=="MENTION")return;var j=g+e.contents|0;i=i.getData().id.split(" ")[0];if(i===a&&b("gkx")("1608686")){d.push({id:a,offset:j,length:h-g|0,type:b("MessageProfileRangeType").THREAD});return}else if(i===a+"-active"&&b("gkx")("1608686")){d.push({id:a,offset:j,length:h-g|0,type:b("MessageProfileRangeType").THREAD_ACTIVE});return}else if(/^\d+$/.test(i)){d.push({id:b("FBID.bs").ofStringExn(i),offset:j,length:h-g|0,type:b("MessageProfileRangeType").PROFILE});return}else return});e.contents=(e.contents+g.length|0)+1|0});return d}f.getFromContentState=a}),null);
__d("MWUICreateThread.bs",["cr:1467507"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1467507").useHook;f.$MWLSCreateThread$OR$MWMSCreateThread$requireCond=b("cr:1467507");f.useHook=a}),null);
__d("MWUIMediaSendManager.bs",["cr:1454163"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1454163");f.$MWLSMediaSendManagerProvider$OR$MWMSMediaSendManagerProvider$requireCond=b("cr:1454163");f.Provider=a}),null);
__d("MWUISendAudioMessage.bs",["cr:1683390"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1683390").useMessage;f.$MWLSSendAudioMessage$OR$MWMSSendAudioMessage$requireCond=b("cr:1683390");f.useMessage=a}),null);
__d("MWUISendFileMessage.bs",["cr:1451092"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1451092").useSendFileMessage;f.$MWLSSendFileMessage$OR$MWMSSendAttachments$requireCond=b("cr:1451092");f.useSendFileMessage=a}),null);
__d("MWUISendGifMessage.bs",["cr:1429241"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429241").useSendGifMessage;f.$MWLSSendGifMessage$OR$MWMSSendGIFMessage$requireCond=b("cr:1429241");f.useSendGifMessage=a}),null);
__d("MWUISendMenuItem.bs",["cr:1493416"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1493416").useSendMenuItem;f.$MWLSSendMenuItem$OR$MWMSSendMenuItem$requireCond=b("cr:1493416");f.useSendMenuItem=a}),null);
__d("MWUISendStickerMessage.bs",["cr:1429242"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429242").useSendStickerMessage;f.$MWLSSendStickerMessage$OR$MWMSSendStickerMessage$requireCond=b("cr:1429242");f.useSendStickerMessage=a}),null);
__d("MWUISendTextMessage.bs",["cr:1429243"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1429243").useSendTextMessage;f.$MWLSSendTextMessage$OR$MWMSSendTextMessage$requireCond=b("cr:1429243");f.useSendTextMessage=a}),null);
__d("MWChatComposer.bs",["CometComposerViewState.bs","LSMessagingThreadAttributionType.bs","LsFalcoEventEntryPoint.bs","MWChatComposerBase.bs","MWChatComposerMentionsPlugin.re","MWChatComposerUploadFileHook.bs","MWChatComposerUtil.bs","MWChatComposerViewStateStore.bs","MWChatProfileRange.bs","MWChatUploadAudioHook.bs","MWLSThreadDisplayContext.bs","MWPollsHooks.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWUICreateThread.bs","MWUIMediaSendManager.bs","MWUISendAudioMessage.bs","MWUISendFileMessage.bs","MWUISendGifMessage.bs","MWUISendMenuItem.bs","MWUISendStickerMessage.bs","MWUISendTextMessage.bs","MWUIThreadCapabilities.bs","MessageSendClickFalcoEvent","MessengerWebEvent","MessengerWebStgTypedLoggerLite.bs","ODS","Promise","React","StickerConstants","bs_belt_Array","bs_caml_option","bs_curry","getPlainTextFromDeferredDraftEditorState","gkx","promiseDone","uniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.color,d=a.otherUserFbid,e=a.customLikeEmoji,f=a.isTabFocused,h=a.isPreviewThread,i=a.onFileUploadStart,j=a.shouldShowMenu,k=a.shouldMinimizeActionsWhenTyping,l=a.hasContent,m=a.repliedToMessage,n=a.actionTrayOpen,o=a.closeActionTray,p=a.openActionTray,q=a.initialComposerViewState,r=a.fileUploadHandlerRef,s=a.hardResetComposer,t=a.onContentsChange,u=a.messageRequestInfoText,v=a.onTypingStateChanged,w=a.closeReplyPreview,x=a.openTabFromPreview,y=a.closeTab,z=a.onSendMessage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var A=g.useRef(null),B=g.useRef(!1),C=b("MWLSThreadDisplayContext.bs").useHook(void 0);C=C===1?b("LSMessagingThreadAttributionType.bs").messengerInboxInThread:b("LSMessagingThreadAttributionType.bs").unknown;var D=b("bs_curry")._3(b("MWUISendTextMessage.bs").useSendTextMessage,a,C,void 0),E=b("bs_curry")._2(b("MWUISendGifMessage.bs").useSendGifMessage,C,void 0),F=b("bs_curry")._2(b("MWUISendStickerMessage.bs").useSendStickerMessage,C,void 0),G=b("bs_curry")._2(b("MWUISendMenuItem.bs").useSendMenuItem,C,void 0);a=b("bs_curry")._3(b("MWUISendFileMessage.bs").useSendFileMessage,m,z,C);var H=a[1],I=a[0],J=b("MWChatUploadAudioHook.bs").useHook(void 0);a=b("bs_curry")._1(b("MWUISendAudioMessage.bs").useMessage,C);var K=a[1],L=a[0];C=g.useState(function(){return!1});var M=C[1],N=b("bs_curry")._1(b("MWPollsHooks.bs").useCreatePoll,void 0),O=b("MWThread_DEPRECATED.bs").useId(void 0);a=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").useCapabilities,void 0);var P=b("MWUIChatTabState.bs").useLookupThreadHook(void 0),Q=b("MWUIChatTabState.bs").useTab(void 0),R=b("MWUIChatTabState.bs").useTokenProvider(void 0),S=b("bs_curry")._1(b("MWUICreateThread.bs").useHook,"comet_create_group"),T=function(a){b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").composer}}})},U=function(a){if(Q)return b("Promise").resolve(Q._0);var c=b("bs_curry")._1(R,void 0);a=c.length;if(a!==1)if(a!==0)return P(c).then(function(a){if(a!==void 0)return b("Promise").resolve(a);else return b("bs_curry")._2(S,c,void 0).then(function(a){return b("Promise").resolve({NAME:"Group",VAL:a})})});else return b("Promise").reject(b("unrecoverableViolation")("Expected tokens","messenger_web_product"));a=c[0];return b("Promise").resolve({NAME:"User",VAL:a})},V=function(a){b("bs_curry")._1(M,function(a){return!1});a=A.current;a==null?b("bs_curry")._1(s,void 0):a.reset();return b("bs_curry")._1(w,void 0)},W=function(a){b("bs_curry")._1(M,function(a){return!0});return b("bs_curry")._1(o,void 0)},X=function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","text");T(void 0);B.current=!0;b("promiseDone")(U(void 0),function(c){var d;if(typeof c==="string")d=[];else if(c.NAME==="Group"){var e=a.editorState.draftEditorState;d=e!==void 0?b("MWChatProfileRange.bs").getFromContentState(c.VAL,b("bs_caml_option").valFromOption(e).getCurrentContent()):[]}else d=[];e=b("MWChatComposerUtil.bs").hasContent(a.editorState)?b("getPlainTextFromDeferredDraftEditorState")(a.editorState):void 0;var f=a.mediaAttachments;d=d.length===0?void 0:d;var g=a.audioClip,h;if(!(g==null)){var i=g.file;g=g.duration;g=b("bs_curry")._3(L,c,i,g).then(function(a){var c=a[1],d=a[0];b("bs_curry")._2(J,i,function(a){return b("bs_curry")._3(K,d,c,a)});return b("Promise").resolve(void 0)});b("promiseDone")(g,void 0,void 0);return}if(e!==void 0)f==null||f.length===0?(h=e,g=2):g=1;else{if(f==null){b("bs_curry")._1(z,c);return b("bs_curry")._1(x,void 0)}g=1}switch(g){case 1:g=f.map(b("CometComposerViewState.bs").MediaAttachment.fromJS);b("bs_curry")._4(I,c,e,d,g);f=g.reduce(function(a,b){b=b.TAG===3?1:0;return a+b|0},0);e=g.map(function(a){return b("CometComposerViewState.bs").MediaAttachment.file(a).name});var j=b("bs_belt_Array").keepMap(g,function(a){return b("bs_caml_option").nullable_to_opt(b("CometComposerViewState.bs").MediaAttachment.file(a).uploadID)}),k=b("bs_belt_Array").keepMap(g,function(a){if(a.TAG===3)return a._2.id}),l=O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?O.VAL:null;if(O!==void 0&&typeof O!=="string"){var n=O.NAME;n=n==="User"||n==="Page"?O.VAL:null}else n=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:f===g.length?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:n,thread_fbid:l,extra_data:{attachment_names:e,attachment_upload_ids:j,attachment_fbids:k}});case 2:b("bs_curry")._4(D,c,h,d,m);b("bs_curry")._1(z,c);return b("bs_curry")._1(x,void 0)}});return V(void 0)},Y=function(a){},Z=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendGif,a),aa=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendPayment,a),ba=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canCreatePoll,a),$=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendFile,a),ca=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendRoom,a),da=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendAudioClip,a);a=b("bs_curry")._1(b("MWUIThreadCapabilities.bs").canSendQuickCamAttachment,a);$=$&&!b("gkx")("1787589");var ea=O!==void 0&&typeof O!=="string"?O.NAME==="Group":!1,fa=O===void 0,ga=O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?g.jsx(b("MWChatComposerMentionsPlugin.re").make,{}):null,ha=function(a){if(O!==void 0&&typeof O!=="string"){a=O.NAME;a=a==="User"||a==="Page"?O.VAL:null}else a=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").OPEN_STICKER_FLYOUT,other_user_fbid:a,thread_fbid:O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?O.VAL:null})},ia=function(a){if(O!==void 0&&typeof O!=="string"){a=O.NAME;a=a==="User"||a==="Page"?O.VAL:null}else a=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").OPEN_EMOJI_FLYOUT,other_user_fbid:a,thread_fbid:O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?O.VAL:null})},ja=function(a){if(O!==void 0&&typeof O!=="string"){var c=O.NAME;c=c==="User"||c==="Page"?O.VAL:null}else c=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").SELECT_FILE_FOR_UPLOAD,other_user_fbid:c,thread_fbid:O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?O.VAL:null,extra_data:{attachment_names:a.map(function(a){return a.name})}})},ka=b("MWChatComposerUploadFileHook.bs").useHook(void 0);h={isPreviewThread:h,repliedToMessage:m,isTabFocused:f,canSendGif:Z,canSendFile:$,canSendRoom:ca,canSendAudioClip:da,canSendQuickCamAttachment:a,canSendPayment:aa,isGroupThread:ea,otherUserFbid:d,sendMessage:X,sendGif:function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","gif");T(void 0);b("promiseDone")(U(void 0),function(c){b("bs_curry")._3(E,c,a,m);return b("bs_curry")._1(z,c)});return b("bs_curry")._1(w,void 0)},sendSticker:function(a,c,d){var e=d.uri;b("ODS").bumpEntityKey(3185,"mwchat_send","sticker");T(void 0);b("promiseDone")(U(void 0),function(c){b("bs_curry")._4(F,c,a,m,e);return b("bs_curry")._1(z,c)});return b("bs_curry")._1(w,void 0)},sendHotLike:function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","hot_like");T(void 0);b("promiseDone")(U(void 0),function(a){e!==void 0&&e!==""?b("bs_curry")._4(D,a,e,void 0,m):b("bs_curry")._4(F,a,b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,m,void 0);return b("bs_curry")._1(z,a)});return b("bs_curry")._1(w,void 0)},sendMenuItem:function(a){b("ODS").bumpEntityKey(3185,"mwchat_send","postback");T(void 0);b("promiseDone")(U(void 0),function(c){return b("bs_curry")._3(G,c,a.title,a.id)});return b("bs_curry")._1(w,void 0)},sendQuickCamAttachment:Y,shouldMinimizeActionsWhenTyping:k,logOnOpenStickerFlyout:ha,logOnOpenEmojiFlyout:ia,logOnSelectFileForUpload:ja,mentionsPlugin:ga,actionTrayOpen:n,openActionTray:p,closeActionTray:o,color:c,customLikeEmoji:e,shouldShowMenu:j,pageId:O!==void 0&&!(typeof O==="string"||O.NAME!=="Page")?b("bs_caml_option").some(O.VAL):void 0,onFileUploadStart:i,onFileUploadSuccess:function(a,c,d){b("bs_curry")._2(H,c,d);if(O!==void 0&&typeof O!=="string"){var e=O.NAME;e=e==="User"||e==="Page"?O.VAL:null}else e=null;return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").UPLOAD_FILE_SUCCESS,other_user_fbid:e,thread_fbid:O!==void 0&&!(typeof O==="string"||O.NAME!=="Group")?O.VAL:null,extra_data:{attachment_names:[a.name],attachment_upload_ids:[c],attachment_fbids:[d]}})},onAttachmentsChanged:ka,fileUploadHandlerRef:r,onContentsChange:t,hasContent:l,onCloseTab:y,isLocalThread:fa,threadKey:O!==void 0?O:void 0,onCloseReplyPreview:w,resetComposerRef:A,isSubmitting:B,saveState:function(a,c){if(b("getPlainTextFromDeferredDraftEditorState")(c.editorState).length>0)return b("MWChatComposerViewStateStore.bs").set(a,b("bs_caml_option").some(c))},createPoll:ba?function(a,c){b("ODS").bumpEntityKey(3185,"mwchat_send","sticker"),T(void 0),b("promiseDone")(U(void 0),function(d){return b("bs_curry")._3(N,d,a,c)})}:void 0,showAudioRecorder:W,hideAudioRecorder:V,audioRecorderShown:C[0]};q!==void 0&&(h.initialComposerViewState=b("bs_caml_option").valFromOption(q));u!==void 0&&(h.messageRequestInfoText=b("bs_caml_option").valFromOption(u));v!==void 0&&(h.onTypingStateChanged=b("bs_caml_option").valFromOption(v));return g.jsx(b("MWChatComposerBase.bs").make,h)}c={make:h};function a(a){var c=a.color,d=a.otherUserFbid,e=a.isPreviewThread,f=a.isOptimisticThread,i=a.shouldMinimizeActionsWhenTyping,j=a.customLikeEmoji,k=a.isTabFocused,l=a.shouldShowMenu,m=a.hasContent,n=a.repliedToMessage,o=a.actionTrayOpen,p=a.closeActionTray,q=a.onContentsChange,r=a.onFileUploadStart,s=a.openActionTray,t=a.initialComposerViewState,u=a.fileUploadHandlerRef,v=a.messageRequestInfoText,w=a.onTypingStateChanged,x=a.closeReplyPreview,y=a.openTabFromPreview,z=a.closeTab;a=a.onSendMessage;e=e!==void 0?e:!1;f=f!==void 0?f:!1;i=i!==void 0?i:!0;q=q!==void 0?q:function(a){};r=r!==void 0?r:function(a){};var A=g.useState(function(){return b("uniqueID")()}),B=A[1];c={color:c,otherUserFbid:d,customLikeEmoji:j,isTabFocused:k,isPreviewThread:e,onFileUploadStart:r,shouldShowMenu:l,shouldMinimizeActionsWhenTyping:i,hasContent:m,repliedToMessage:n,actionTrayOpen:o,closeActionTray:p,openActionTray:s,fileUploadHandlerRef:u,hardResetComposer:function(a){return b("bs_curry")._1(B,function(a){return b("uniqueID")()})},onContentsChange:q,closeReplyPreview:x,openTabFromPreview:y,closeTab:z,onSendMessage:a,isOptimisticThread:f};t!==void 0&&(c.initialComposerViewState=b("bs_caml_option").valFromOption(t));v!==void 0&&(c.messageRequestInfoText=b("bs_caml_option").valFromOption(v));w!==void 0&&(c.onTypingStateChanged=b("bs_caml_option").valFromOption(w));return g.jsx(b("MWUIMediaSendManager.bs").Provider.make,b("bs_curry")._2(b("MWUIMediaSendManager.bs").Provider.makeProps,g.jsx(h,c,A[0]),void 0))}d=a;f.MWChatComposer=c;f.make=d}),null);
__d("MWChatLeftGroupComposer.bs",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",color:"m9osqain",textAlign:"oqcyycmt"},header:{marginBottom:"tvmbv18p"}};function a(a){a=g._("Vous avez quitt\u00e9 ce groupe");var c=g._("Vous ne pouvez pas envoyer de message ou appeler ce groupe, et vous ne verrez plus de mises \u00e0 jour.");return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("TetraText.react"),{color:"placeholder",type:"bodyLink4",children:a}),className:(h||(h=b("stylex")))(j.header)}),i.jsx(b("TetraText.react"),{color:"placeholder",type:"body4",children:c})],className:h(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatTabContentStyles.bs",[],(function(a,b,c,d,e,f){"use strict";a={main:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"du4w35lb"},dropTarget:{display:"j83agx80",flexDirection:"cbu4d94t"},gradient:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},threadContainer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",position:"l9j0dhe7",display:"j83agx80",flexDirection:"cbu4d94t"},thread:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",display:"j83agx80",flexDirection:"cbu4d94t"},threadAnimation:{transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},threadActionTrayClosed:{transform:"agkhgkm8"},threadActionTrayOpen:{transform:"brhp5kr4"},whitespace:{position:"pmk7jnqg",top:"gup621dn",height:"lbh82i0l",width:"k4urcfbm",backgroundColor:"nred35xi"},actionTrayPlaceholder:{height:"qu8okrzs"},contextOverlay:{position:"pmk7jnqg",top:"kr520xx4",backgroundColor:"nred35xi",width:"k4urcfbm"},composer:{flexBasis:"ntk0jbrt",flexShrink:"pfnyh3mw"}};f.styles=a}),null);
__d("LSThreadTitle.bs",["fbt","CometTextWithEntities.react","LSMessagingThreadTypeUtil.bs","MWChatTextTransform.bs","MWLSActor.bs","React","SkytaleDB","SkytaleDBExec.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=[b("MWChatTextTransform.bs").emojiTransform,b("MWChatTextTransform.bs").emoticonTransform];function j(a){var c=a.thread;a=a.wrapOutput;var d=c.a,e=b("bs_int64").to_string(d),f=b("SkytaleDBHook.bs").useHook(void 0),j=b("MWLSActor.bs").useActor(void 0),k=b("gkx")("1846003"),l=b("SkytaleDBQuerySubscriptionHook.bs").useArray(h.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(f,"participants").asc,{hd:d,tl:0}),function(a){var c=b("SkytaleDBExec.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(f,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[f,e]));if(l.length===0)return"";if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c)){if(l.length===1){e=l[0];c=e[1];e=c!==void 0?c.h:g._("Utilisateur Facebook").toString();return h.jsx(b("CometTextWithEntities.react"),{text:e,transforms:i})}c=l.filter(function(a){return b("bs_caml_int64").neq(a[0].b,j)});if(c.length===0){b("recoverableViolation")("multiple viewers in 1:1 thread","messenger_comet");return""}e=c[0];var m=e[0].e,n,o=0;m!==void 0&&k?n=m:o=1;if(o===1){m=e[1];n=m!==void 0?m.h:g._("Utilisateur Facebook").toString()}o=h.jsx(b("CometTextWithEntities.react"),{text:n,transforms:i});e=c[0];if(a===void 0)return o;m=e[1];if(m!==void 0)return b("bs_curry")._3(a,m,e[0],o);else return o}if(l.length===1){c=l[0];a=c[1];m=a!==void 0?a.h:"";return h.jsx(b("CometTextWithEntities.react"),{text:m,transforms:i})}e=l.filter(function(a){return b("bs_caml_int64").neq(a[0].b,j)}).sort(function(a,b){b=b[1];a=a[1];if(a!==void 0)if(b!==void 0)return b.o-a.o;else return 0;else return 0}).map(function(b){var a=b[0].e;if(a!==void 0&&k)return a;a=b[1];if(a===void 0)return g._("Utilisateur Facebook").toString();b=a.p;if(b!==void 0&&l.length>2)return b;else return a.h});o=b("intlList")(e,b("intlList").CONJUNCTIONS.NONE,b("intlList").DELIMITERS.COMMA).toString();return h.jsx(b("CometTextWithEntities.react"),{text:o,transforms:i})}c={make:j};function a(a){var c=a.thread;a=a.wrapOutput;var d=c.d;if(d!==void 0)return h.jsx(b("CometTextWithEntities.react"),{text:d,transforms:i});d={thread:c};a!==void 0&&(d.wrapOutput=b("bs_caml_option").valFromOption(a));return h.jsx(j,d)}d=a;f.transforms=i;f.ComputedThreadName=c;f.make=d}),null);
__d("MWPresenceBadge.bs",["CometBadge.react","MWChatContactPresenceHook.bs","React","SkytaleDB","SkytaleDBExec.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.thread;a=a.size;var d=b("SkytaleDBHook.bs").useHook(void 0),e=c.a;c=g.useMemo(function(){var a=b("SkytaleDBExec.bs").firstExn(b("SkytaleDBQuery.bs").map(b("SkytaleDB").table(d,"_user_info").asc,function(a){return a.b}));return b("SkytaleDBQuery.bs").filter(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(d,"participants").asc,{hd:e,tl:0}),function(c){return b("bs_caml_int64").neq(c.b,a)})},[d,JSON.stringify(e)]);c=b("SkytaleDBQuerySubscriptionHook.bs").useArray(c);c=c.map(function(a){return a.b});c=b("MWChatContactPresenceHook.bs").useHasActiveContact(c);if(c)return g.jsx(b("CometBadge.react"),{color:"green",isProfileBadge:!0,border:"white",size:a});else return null}c=a;f.make=c}),null);
__d("MWThreadPicture.bs",["CometFacepilePhoto.react","CometPlaceholder.react","MWLSActor.bs","MWPresenceBadge.bs","React","RecoverableViolation.react","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Array","bs_belt_Option","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.thread;a=a.size;return g.jsx(b("CometPlaceholder.react"),{children:g.jsx(b("MWPresenceBadge.bs").make,{thread:c,size:a}),fallback:null})}c={make:h};function i(a){var c=a.thread,d=a.photoSize;a=a.badgeSize;var e=b("SkytaleDBHook.bs").useHook(void 0),f=c.a,i=g.useMemo(function(){return b("SkytaleDBQuery.bs").mergeJoin(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(e,"participants").asc,{hd:f,tl:0}),b("SkytaleDB").table(e,"contacts").asc)},[e,JSON.stringify(f)]),j=b("MWLSActor.bs").useActor(void 0);i=b("SkytaleDBQuerySubscriptionHook.bs").useArray(i);var k=i.length;if(k>=3){var l=i.filter(function(a){return b("bs_caml_int64").neq(a[1].a,j)}).sort(function(a,b){return b[1].o-a[1].o}),m=b("bs_belt_Array").get(l,0);l=b("bs_belt_Array").get(l,1);if(m!==void 0&&l!==void 0){l=l[1];m=m[1];return g.jsx(b("CometFacepilePhoto.react"),{sources:[{alt:m.h,disabled:!1,source:m.b},{alt:l.h,disabled:!1,source:l.b}],badge:g.jsx(h,{thread:c,size:a}),size:function(){switch(d){case"s_40":return 40;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:2})}return g.jsx(b("RecoverableViolation.react"),{errorMessage:"no 2 other non-viewer participants?!",projectName:"messenger_comet"})}switch(k){case 0:return null;case 1:m=i[0];l=m[1];return g.jsx(b("CometFacepilePhoto.react"),{sources:[{alt:l.h,disabled:!1,source:l.b}],badge:g.jsx(h,{thread:c,size:a}),size:function(){switch(d){case"s_40":return 40;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:1});case 2:k=i.find(function(a){return b("bs_caml_int64").neq(a[1].a,j)});if(k===void 0)return g.jsx(b("RecoverableViolation.react"),{errorMessage:"no other non-viewer participant?!",projectName:"messenger_comet"});m=k[1];return g.jsx(b("CometFacepilePhoto.react"),{sources:[{alt:m.h,disabled:!1,source:m.b}],badge:g.jsx(h,{thread:c,size:a}),size:function(){switch(d){case"s_40":return 40;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:1})}}d={make:i};function a(a){var c=a.photoSize,d=a.badgeSize;a=a.thread;var e=a.f;if(e!==void 0)return g.jsx(b("CometFacepilePhoto.react"),{sources:[{alt:b("bs_belt_Option").getWithDefault(a.d,""),disabled:!1,source:e}],badge:g.jsx(h,{thread:a,size:d}),size:function(){switch(c){case"s_40":return 40;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:1});else return g.jsx(i,{thread:a,photoSize:c,badgeSize:d})}e=a;f.Badge=c;f.Facepile=d;f.make=e}),null);
__d("LSContextBanner.bs",["LSBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MWThreadPicture.bs","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={context:{flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},root:{paddingTop:"aodizinl",paddingEnd:"d1544ag0",paddingBottom:"osnr6wyh",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},text:{paddingBottom:"f10w8fjw"}};function j(a){a=a.thread;var c=a.F,d=a.D,e=a.B;return h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("div",{children:h.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a}),className:(g||(g=b("stylex")))(i.image)}),h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",type:"headlineEmphasized3",children:h.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b,c){return c}}),testid:"mw_thread_context_banner_heading"}),className:g(i.text)}),e!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:e}),className:(g||(g=b("stylex")))(i.text)}):null,d!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:d}),className:(g||(g=b("stylex")))(i.text)}):null,c!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:c}),className:(g||(g=b("stylex")))(i.text)}):null],className:g(i.root)}),className:g(i.context)})}c={styles:i,make:j};function a(a){a=a.thread;var c=b("LSBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a.P);if(c)return null;else return h.jsx(j,{thread:a})}d=a;f.Impl=c;f.make=d}),null);
__d("MWChatConversationScroller_DEPRECATED.bs",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","React","bs_caml_obj","bs_caml_option","bs_curry","isEventSupported","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function j(a,b){a=a!==void 0?a:20;if(b==null)return!1;else return b.scrollTop<=a}var k={root:{flexGrow:"buofh1pr",display:"j83agx80",overflowY:"eg9m0zos",overflowX:"ni8dbmo4",flexDirection:"cbu4d94t",overscrollBehavior:"gok29vw1"}},l=b("ExecutionEnvironment").canUseDOM?document.body.style.overscrollBehavior===void 0&&document.body.style.scrollBoundaryBehavior===void 0:!1;function a(a,c){var d=a.children,e=a.boundingClientRectRef,f=a.isScrolledToBottomRef,m=a.dispatch,n=a.hasMoreAfter,o=h.useRef(m),p=h.useRef(null);a=h.useCallback(function(a){p.current=a;if(e!==void 0){e.current=a==null?void 0:b("bs_caml_option").some(a.getBoundingClientRect());return}},[e]);h.useEffect(function(){o.current=m});var q=function(a,b){b=p.current;if(!(b==null)){b.scrollTop=a;return}},r=function(a,b){b=a!==void 0?a:!1;a=p.current;if(!(a==null))return q(a.scrollHeight,b)},s=function(a,b){var c=p.current;if(!(c==null))return q(c.scrollHeight-(a+c.clientHeight),b)},t=function(a){a=f.current;var b=p.current;b=b==null?void 0:b.scrollHeight-(b.scrollTop+b.clientHeight);var c=i(void 0,p.current),d=j(void 0,p.current);f.current=c?n?1:0:b!==void 0?d?{TAG:0,_0:b}:{TAG:1,_0:b}:0;c=f.current;if(typeof a==="number"){if(a!==0)return;d=1}else{if(typeof c==="number")return o.current(1);if(c.TAG)return;d=1}if(d===1){if(typeof a==="number")b=2;else{if(!a.TAG)return;b=2}if(b===2)if(typeof c==="number"||c.TAG)return;else return o.current(2)}},u=function(a){if(l){var b=a.deltaY>0,c=a.deltaY<0;(b&&i(0,p.current)||c&&j(0,p.current))&&a.preventDefault()}return t(void 0)},v=function(a){var c=b("isEventSupported")("mousewheel")?"mousewheel":b("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(d){return a.removeEventListener(b,c,{passive:!0})}},e=function(b){return a.addEventListener(c,u,{passive:!l})},f=function(b){return a.removeEventListener(c,u,{passive:!l})},g=d("mouseenter",e),h=d("mouseleave",f);e=b("CometThrottle")(t,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",t),k=d("mousedown",t);return function(a){f(void 0);(a=b("bs_curry"))._1(i,void 0);a._1(g,void 0);a._1(h,void 0);a._1(k,void 0);return a._1(j,void 0)}};h.useEffect(function(){var a=p.current;if(a==null)return;var c=v(a);return function(a){return b("bs_curry")._1(c,void 0)}},[]);h.useLayoutEffect(function(){var a=p.current;!(a==null)&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&o.current(0)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a===0&&r(void 0,void 0):a.TAG||s(a._0,!1)});b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=f.current;typeof a==="number"?a!==0||r(void 0,void 0):s(a._0,!1)},[]);var w=h.useContext(b("BaseScrollableAreaContext")),x=h.useMemo(function(){return{getDOMNode:function(a){return p.current}}},[]),y=h.useMemo(function(){return w.concat([x])},[x,w]);h.useImperativeHandle(c,function(){return{scrollToBottom:function(a){f.current=0;return r(void 0,void 0)},scrollToElement:function(a,c){var d=p.current;if(d==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var e=d.getBoundingClientRect();a=a.top;e=e.top;if(b("bs_caml_obj").caml_lessequal(a,e)){d.scrollBy(0,-c|0);return t(void 0)}}}},[]);return h.createElement(b("BaseScrollableAreaContext").Provider,{children:h.jsx("div",{children:d,ref:a,className:(g||(g=b("stylex")))(k.root)}),value:y})}c=h.forwardRef(a);d=20;f.scrollTolerance=d;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.styles=k;f.disableElasticScroll=l;f.make=c}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=b("CometRelay").useLazyLoadQuery(h,{},{fetchPolicy:"store-only"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}}),null);
__d("MWInboxThreadMessagesSpinner.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","React","bs_curry","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={mask:{backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"}};function a(a){a=h.useState(function(){return!1});var c=a[1];a=a[0];var d=b("useVisibilityObserver")({onHidden:function(a){return b("bs_curry")._1(c,function(a){return!1})},onVisible:function(a){return b("bs_curry")._1(c,function(a){return!0})}});return h.jsxs(h.Fragment,{children:[h.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),h.jsx("div",{children:a?h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:(g||(g=b("stylex")))(i.spinnerPlaceholder)}),ref:d,className:(g||(g=b("stylex")))(i.spinner,i.mask)})]})}c=a;f.styles=i;f.make=c}),null);
__d("MWLSThreadHasMoreMessages.bs",["MWThreadKey.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages_ranges_v2__generated").desc,{hd:d,tl:0}),function(a){return a.h})},[d,c])),!1)}f.useThreadHasMoreMessages=a}),null);
__d("MWUIQuickReplies.bs",["cr:1456995"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1456995").make;f.$MWLSQuickReplies$OR$MWMSQuickReplies$requireCond=b("cr:1456995");f.make=a}),null);
__d("MWChatThread.bs",["fbt","BaseHeadingContextWrapper.re","LSContextBanner.bs","LSMessagingThreadAttributionType.bs","MWChatConversationScroller_DEPRECATED.bs","MWChatMessageList.bs","MWChatMessageTableFocusTable.bs","MWChatThreadPos.bs","MWChatViewerChatVisibilityHook","MWInboxThreadMessagesSpinner.bs","MWLSThreadHasMoreMessages.bs","MWMessageElementRefList.bs","MWTheme.bs","MWThreadKey.bs","MWUIQuickReplies.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","bs_caml_option","cr:1780086","cr:1780087","focusScopeQueries","gkx","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=g._("Messages"),k={spacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},mask:{backgroundColor:"nred35xi"}};c={};d={};function a(a){var c=a.items,d=a.isScrolledToBottomRef,e=a.dispatch,f=a.managePageMessagesLink,g=a.spacerRef,l=a.scrollerRef,m=a.buildSharedMediaViewerURL;a=a.forceContextBanner;var n=f!==void 0?b("bs_caml_option").valFromOption(f):null;f=a!==void 0?a:!1;var o=b("SkytaleDBHook.bs").useHook(void 0),p=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(i.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(o,"threads").asc,{hd:p,tl:0})},[o,p]));var q=b("MWTheme.bs").useTheme(void 0),r=b("MWChatThreadPos.bs").useThreadPosition(void 0),s=r[0],t=b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed"),u=b("MWLSThreadHasMoreMessages.bs").useThreadHasMoreMessages(void 0),v=c.map(function(c,d){c=c.VAL;var a=b("gkx")("1224637");return a&&!(b("cr:1780086")==null)?i.jsx(b("cr:1780086").make,{pos:s,items:c,managePageMessagesLink:n,dispatch:function(a){return e(a)},buildSharedMediaViewerURL:m},String(d)):i.jsx(b("MWChatMessageList.bs").make,{pos:s,items:c,managePageMessagesLink:n,dispatch:function(a){return e(a)},buildSharedMediaViewerURL:m,messageElementRefs:b("MWMessageElementRefList.bs").make(void 0)},String(d))}),w;if(c.length!==1)w=!1;else{c=c[0];w=c.VAL.length===0}c=b("MWChatViewerChatVisibilityHook")();u=!u||f;return i.jsx(b("VideoAutoplayLocalScopeProvider.react"),{children:i.jsxs(b("MWChatConversationScroller_DEPRECATED.bs").make,{children:[u?a!==void 0?i.jsx(b("LSContextBanner.bs").make,{thread:a}):null:i.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}),i.jsx("div",{ref:g,className:(h||(h=b("stylex")))(k.spacer,b("MWTheme.bs").isGradient(q)?k.mask:!1)}),w?null:i.jsx(b("MWChatMessageTableFocusTable.bs").keyCommands,{children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!0,wrapY:!1,allowModifiers:!0,children:i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{children:v,"aria-label":j,role:"grid"})})})}),c?i.jsx(b("cr:1780087").make,{}):null,i.jsx(b("MWUIQuickReplies.bs").make,{lsSource:b("LSMessagingThreadAttributionType.bs").unknown})],boundingClientRectRef:r[1],isScrolledToBottomRef:d,dispatch:function(a){switch(a){case 0:return e("ContentDoesNotFillContainer");case 1:return e("ScrollToBottom");case 2:return e("ScrollToTop")}},hasMoreAfter:!1,ref:l}),autoplayLocalRules:t})}e=b("cr:1780087");g=a;f.messagesFbt=j;f.styles=k;f.VideoAutoplayLocalScopeProvider=c;f.VideoPlayerAutoplayRulesProvider=d;f.$ChatGeminiMessageList$OR$null$requireCond=b("cr:1780086");f.$ChatGeminiTypingIndicators$OR$MWChatTypingIndicators$requireCond=b("cr:1780087");f.TypingIndicators=e;f.make=g}),null);
__d("MWChatComposerMediaDropTarget.bs",["fbt","React","TetraText.react","gkx","recoverableViolation","stylex","useFileDragEvents"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{boxSizing:"rq0escxv",flexGrow:"buofh1pr",position:"l9j0dhe7"},dropContainer:{alignItems:"bp9cbjyn",backgroundColor:"ms7hmo2b",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"},dropContent:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function a(a){var c=a.children,d=a.disabled,e=a.fileUploadHandlerRef;a=a.xstyle;var f=!b("gkx")("1835569"),k=f||d;f=i.useCallback(function(a){var c=e.current;c==null?b("recoverableViolation")("Could not find fileUploadHandler to handle dropped file!","messenger_comet"):k||c.uploadFiles(Array.from(a))},[k]);d=b("useFileDragEvents")(function(a){return!1},void 0);var l=i.useRef(null);b("useFileDragEvents")(f,l.current);return i.jsxs("div",{children:[c,!k&&d?i.jsx("div",{children:i.jsx("div",{children:i.jsx(b("TetraText.react"),{type:"body1",children:g._("D\u00e9poser les fichiers ici")}),className:(h||(h=b("stylex")))(j.dropContent)}),className:(h||(h=b("stylex")))(j.dropContainer)}):null],ref:l,className:(h||(h=b("stylex")))(j.root,a)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatContextBanner.bs",["MWChatFacepile.bs","MWChatProfile.bs","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{paddingTop:"aodizinl",paddingEnd:"d1544ag0",paddingBottom:"osnr6wyh",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"ehgb3d0y"},img:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",objectFit:"bixrwtb6"},main:{textAlign:"oqcyycmt",paddingStart:"a8nywdso"},text:{marginBottom:"bi6gxh9e"}};function a(a){var c=a.images,d=a.context,e=a.items;a=a.threadTitle;var f=c.length;if(f!==1)f=f!==0?h.jsx(b("MWChatFacepile.bs").make,{firstParticipantURI:c[0],secondParticipantURI:c[1],size:60}):h.jsx(b("MWChatProfile.bs").make,{size:60});else{c=c[0];f=h.jsx(b("MWChatProfile.bs").make,{size:60,src:c,alt:""})}return h.jsxs("div",{children:[h.jsx("div",{children:f,className:(g||(g=b("stylex")))(i.image)}),h.jsxs("div",{children:[a!==void 0?h.jsx("div",{children:h.jsx(b("TetraText.react"),{color:"primary",type:"headlineEmphasized4",children:a}),className:(g||(g=b("stylex")))(i.text)}):null,h.jsx("div",{children:h.jsx(b("TetraText.react"),{color:"primary",type:"body4",children:d}),className:g(i.text)}),e.map(function(a,c){return h.jsx("div",{children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:a}),className:(g||(g=b("stylex")))(i.text)},String(c))})],className:g(i.main)})],className:g(i.root)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatThreadContext.bs",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","MWChatBusinessPageGreeting.bs","MWChatContextBanner.bs","MWTheme.bs","React","bs_caml_option","bs_curry","stylex","useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={context:{flexShrink:"pfnyh3mw"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",height:"rgmg9uty",flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",flexShrink:"pfnyh3mw",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw"},spinnerPlaceholder:{height:"rgmg9uty",width:"k4urcfbm",backgroundColor:"nred35xi"},mask:{backgroundColor:"nred35xi"}};function j(a){a=h.useState(function(){return!1});var c=a[1];a=a[0];var d=b("useVisibilityObserver")({onHidden:function(a){return b("bs_curry")._1(c,function(a){return!1})},onVisible:function(a){return b("bs_curry")._1(c,function(a){return!0})}});return h.jsxs(h.Fragment,{children:[h.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:a}),h.jsx("div",{children:a?h.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:(g||(g=b("stylex")))(i.spinnerPlaceholder)}),ref:d,className:(g||(g=b("stylex")))(i.spinner,i.mask)})]})}c={make:j};function a(a){var c=a.id,d=a.contextBannerData,e=a.welcomePageData;a=a.isOverlay;a=a!==void 0?a:!1;var f=b("MWTheme.bs").useTheme(void 0);f=b("MWTheme.bs").isGradient(f);if(d===void 0)if(a)return null;else return h.jsx(j,{});if(typeof d==="number")if(d!==0||a)return null;else return h.jsx(j,{});a=d._2;if(typeof c!=="string"&&c.NAME==="Page"){if(e===void 0)return null;e=b("bs_caml_option").valFromOption(e);return h.jsx(b("MWChatBusinessPageGreeting.bs").make,{contextItems:a,pageResponsiveness:e.should_show_responsive?e.page_responsiveness:void 0,pagesGreeting:e.pages_greeting_should_show?e.pages_greeting_content:void 0,pageId:c.VAL})}return h.jsx("div",{children:h.jsx(b("MWChatContextBanner.bs").make,{images:d._0,context:d._1,items:a,threadTitle:d._3}),className:(g||(g=b("stylex")))(i.context,f?i.mask:!1)})}d=a;f.styles=i;f.Spinner=c;f.make=d}),null);
__d("MWChatUnsendNUX.bs",["React","cr:1799381","cr:1799382"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.senderUnsendNUXEnabled;return g.jsxs(g.Fragment,{children:[b("cr:1799381")==null?null:g.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?g.jsx(b("cr:1799382").make,{}):null]})}c=b("cr:1799381");d=b("cr:1799382");e=a;f.$MWChatUnsendNUXReceiver$requireCond=b("cr:1799381");f.mwChatUnsendNUXReceiver=c;f.$MWChatUnsendNUXSender$requireCond=b("cr:1799382");f.mwChatUnsendNUXSender=d;f.make=e}),null);
__d("MWChatThreadAnimationWrapper.bs",["MWChatComposerMediaDropTarget.bs","MWChatTabContentStyles.bs","MWChatThreadContext.bs","MWChatUnsendNUX.bs","MWTheme.bs","React","UserAgent","bs_caml_option","bs_curry","gkx","stylex","useResizeObserver"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function a(a){var c=a.composer,d=a.threadView,e=a.animationEnabled,f=a.ensureScrolledToBottom,i=a.mediaDropDisabled,j=a.id,k=a.contextBannerData,l=a.welcomePageData,m=a.shouldInitiallyOpenActionTray;a=a.senderUnsendNUXEnabled;m=m!==void 0?m:!1;a=a!==void 0?a:!1;var n=b("MWTheme.bs").useTheme(void 0),o=b("MWTheme.bs").isGradient(n),p=h.useState(function(){return-1}),q=p[1],r=p[0];p=b("useResizeObserver")(function(a){return b("bs_curry")._1(q,function(b){return a.height})});m=h.useReducer(function(a,b){if(!e)return a;switch(b){case 0:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:r>44};case 1:return{actionTrayOpen:!0,actionTrayFullyOpen:!0,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1};case 2:return{actionTrayOpen:!0,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!0,shouldRenderContextOverlay:r>0};case 3:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!0,triggerCloseTrayStart:!1,shouldRenderContextOverlay:r>0};case 4:return{actionTrayOpen:!1,actionTrayFullyOpen:!1,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1}}},{actionTrayOpen:m,actionTrayFullyOpen:m,shouldAnimateThread:!1,triggerCloseTrayStart:!1,shouldRenderContextOverlay:!1});var s=m[1],t=m[0];h.useEffect(function(){t.triggerCloseTrayStart&&b("bs_curry")._1(s,3)},[t,s]);m=function(a){if(t.actionTrayFullyOpen)return b("bs_curry")._1(s,2);else if(t.actionTrayOpen)return b("bs_curry")._1(s,3);else return};var u=function(a){if(!t.actionTrayOpen)return b("bs_curry")._1(s,0)},v=h.useRef(null);n=n.TAG?{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,n._0.colors)}:void 0;d={children:[h.jsxs("div",{children:[h.jsx("div",{children:b("bs_curry")._1(d,p),className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.thread),onLoadedData:function(a){return b("bs_curry")._1(f,void 0)},onLoad:function(a){return b("bs_curry")._1(f,void 0)},onTransitionEnd:function(a){a.stopPropagation()}}),e&&!b("UserAgent").isBrowser("Firefox")&&o?h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.whitespace)}):null],className:g(b("MWChatTabContentStyles.bs").styles.threadContainer,t.shouldAnimateThread?b("MWChatTabContentStyles.bs").styles.threadAnimation:!1,t.actionTrayFullyOpen?!1:t.actionTrayOpen&&!b("gkx")("1620337")?b("MWChatTabContentStyles.bs").styles.threadActionTrayOpen:b("MWChatTabContentStyles.bs").styles.threadActionTrayClosed),onTransitionEnd:function(a){if(t.actionTrayOpen)return b("bs_curry")._1(s,1);else return b("bs_curry")._1(s,4)}}),h.jsx("div",{className:g(t.actionTrayFullyOpen?b("MWChatTabContentStyles.bs").styles.actionTrayPlaceholder:!1)}),t.shouldRenderContextOverlay?h.jsx("div",{children:h.jsx(b("MWChatThreadContext.bs").make,{id:j,contextBannerData:k,welcomePageData:l,isOverlay:!0}),className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.contextOverlay)}):null],className:g(b("MWChatTabContentStyles.bs").styles.gradient)};n!==void 0&&(d.style=b("bs_caml_option").valFromOption(n));return h.jsxs("div",{children:[h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:a}),h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsxs("div",d),h.jsx("div",{children:b("bs_curry")._4(c,u,m,v,t.actionTrayOpen),className:g(b("MWChatTabContentStyles.bs").styles.composer)})],disabled:i,fileUploadHandlerRef:v,xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget})],className:g(b("MWChatTabContentStyles.bs").styles.main)})}c=b("MWChatTabContentStyles.bs").styles;d=a;f.styles=c;f.make=d}),null);
__d("MWChatBlockedComposer.bs",["fbt","CometLazyDialogTrigger.react","JSResource","LsMessengerThreadDamagingActionsEntryPoint","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MWUIParticipantDetails.bs","React","TetraButton.react","TetraText.react","TetraTextPairing.react","bs_curry","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"j1kv9ji2",paddingStart:"pcu7st4i"},rootLarge:{borderTop:"gcieejh5"},firstButton:{marginTop:"tr9rh885"},firstButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},secondButton:{marginTop:"aov4n071"},secondButtonLarge:{marginTop:"kvgmc6g5",marginEnd:"oi9244e8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",width:"k4urcfbm"},inlineButtons:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"n1l5q3vz"}};function a(a){var c=a.fbid,d=a.reportingToken,e=a.size;a=a.isReachable;e=e!==void 0?e:"small";a=a!==void 0?a:!0;var f=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantName,c),k=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantShortName,c),l=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantSecondaryName,c);l=l!==void 0&&l!==""?l:void 0;var m,n=0,o=0;f!==void 0?l!==void 0?f!==l?m=g._("Vous avez bloqu\u00e9 les messages et les appels de {display_name} ({username})",[g._param("display_name",f),g._param("username",l)]):o=2:n=1:o=2;o===2&&(l!==void 0?m=g._("Vous avez bloqu\u00e9 les messages et les appels de {username}",[g._param("username",l)]):n=1);n===1&&(m=f!==void 0?g._("Vous avez bloqu\u00e9 les messages et les appels du compte Facebook de {full_name}",[g._param("full_name",f)]):k!==void 0?g._("Vous avez bloqu\u00e9 {name}",[g._param("name",k)]):g._("Vous avez bloqu\u00e9 cette personne"));o=l!==void 0?g._("Vous ne pouvez pas contacter {username} ou l\u2019appeler dans cette discussion, et vous ne recevrez pas ses messages ou ses appels.",[g._param("username",l)]):g._("Vous ne pouvez pas contacter cette personne ou l\u2019appeler dans cette discussion et vous ne recevrez pas ses messages ou appels.");n=g._("Tout le monde ne peut pas envoyer un message \u00e0 ce compte.");f=i.jsx("div",{children:i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBlockActionDialog").__setRef("MWChatBlockedComposer.bs"),dialogProps:{onClose:function(a){},targetFBID:c,threadFBID:c,loggingData:{entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint").THREAD_VIEW_BLOCKER_COMPOSER,source:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI}},children:function(a,c){return i.jsx(b("TetraButton.react"),{label:g._("D\u00e9bloquer"),type:"secondary",onPress:a,ref:c})}}),className:(h||(h=b("stylex")))(j.firstButton,e==="large"?j.firstButtonLarge:!1)});k=d!==void 0?i.jsx("div",{children:i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWChatBlockedComposer.bs"),dialogProps:{entryPoint:"BLOCK_COMPOSER",id:d,location:"MESSENGER_DIRECT_THREAD_DETAILS"},children:function(a,c){return i.jsx(b("TetraButton.react"),{label:g._("Il y a un probl\u00e8me"),type:"secondary",onPress:a,ref:c})}}),className:(h||(h=b("stylex")))(j.secondButton,e==="large"?j.secondButtonLarge:!1)}):null;l=e==="large"?i.jsxs(i.Fragment,{children:[k,f]}):i.jsxs(i.Fragment,{children:[f,k]});c=a?i.jsxs(i.Fragment,{children:[i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:o}),headline:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:m}),textAlign:"center"}),i.jsx("div",{children:l,className:(h||(h=b("stylex")))(e==="large"?j.inlineButtons:!1)})]}):i.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:n});return i.jsx("div",{children:c,className:h(j.root,e==="large"?j.rootLarge:!1)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatUserComposer.bs",["MWChatBlockedComposer.bs","MWUIParticipantDetails.bs","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.fbid;a=a.chatComposer;var d=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,c);if(d)return b("bs_curry")._1(a,void 0);else return g.jsx(b("MWChatBlockedComposer.bs").make,{fbid:c,reportingToken:void 0,isReachable:!1})}c={make:h};function a(a){var c=a.threadId;a=a.chatComposer;if(typeof c==="string"||c.NAME!=="User")return b("bs_curry")._1(a,void 0);else return g.jsx(h,{fbid:c.VAL,chatComposer:a})}d=a;f.UserChatThreadWithBlockedComposer=c;f.make=d}),null);
__d("MWChatWorkDeactivatedComposer.bs",["fbt","React","TetraText.react","TetraTextPairing.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){a=g._("Vous ne pouvez pas envoyer de message \u00e0 cette discussion");var c=g._("Le profil auquel vous essayez d\u2019envoyer un message a \u00e9t\u00e9 d\u00e9sactiv\u00e9.");return i.jsx("div",{children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:c}),headline:i.jsx(b("TetraText.react"),{color:"secondary",type:"bodyLink4",children:a}),textAlign:"center"}),className:(h||(h=b("stylex")))(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("WorkGardenArchivedMessage",["fbt","WorkGardenLowerProductName$FbtEnum"],(function(a,b,c,d,e,f,g){"use strict";f.getMessage=a;function a(){return g._({"hub":"The hub has been archived."},[g._enum("hub",b("WorkGardenLowerProductName$FbtEnum"))])}}),null);
__d("MWChatWorkGardenArchivedComposer.bs",["fbt","React","TetraText.react","TetraTextPairing.react","WorkGardenArchivedMessage","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){a=g._("You can't send a message to this chat");var c=b("WorkGardenArchivedMessage").getMessage();return i.jsx("div",{children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:c}),headline:i.jsx(b("TetraText.react"),{color:"secondary",type:"bodyLink4",children:a}),textAlign:"center"}),className:(h||(h=b("stylex")))(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWUIDisabledPageComposer.bs",["cr:1772081"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1772081").make;f.$LSDisabledPageComposer$OR$MWChatDisabledPageComposer$requireCond=b("cr:1772081");f.make=a}),null);
__d("MWChatTabContent.bs",["BootloaderResource","JSResource","LSNullstateCTAType.bs","LSThreadNullstate.bs","MWChatComposer.bs","MWChatComposerP2PPopoverTrigger.bs","MWChatEmptyComposer.bs","MWChatFeatureLimitsBlockedComposer.bs","MWChatLeftGroupComposer.bs","MWChatTabContentStyles.bs","MWChatThread.bs","MWChatThreadAnimationWrapper.bs","MWChatUserComposer.bs","MWChatWorkDeactivatedComposer.bs","MWChatWorkGardenArchivedComposer.bs","MWTheme.bs","MWThreadKey.bs","MWUIDisabledPageComposer.bs","MWUIThreadEmoji.bs","MessengerWebEvent","MessengerWebStgTypedLoggerLite.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=(g=b("JSResource"))("MWChatBlockedComposer.bs").__setRef("MWChatTabContent.bs");function j(a,c,d,e,f){f={fbid:a,reportingToken:c};d!==void 0&&(f.size=b("bs_caml_option").valFromOption(d));e!==void 0&&(f.isReachable=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}var l={reasonResource:i,makeProps:j,make:k},m=g("MWChatBlockedPageComposer.bs").__setRef("MWChatTabContent.bs");function a(a,b,c){return{fbid:a,reportingToken:b}}function n(a){return h.createElement(b("BootloaderResource").read(m).make,a)}a={reasonResource:m,makeProps:a,make:n};var o=g("MWChatWorkMessageRequestComposer.bs").__setRef("MWChatTabContent.bs");function c(a,b){return{closeTab:a}}function p(a){return h.createElement(b("BootloaderResource").read(o).make,a)}c={reasonResource:o,makeProps:c,make:p};var q=g("InternalOnlyWorkChatComposerExtras.bs").__setRef("MWChatTabContent.bs");function d(a){return{}}function r(a){return h.createElement(b("BootloaderResource").read(q).make,a)}g={reasonResource:q,makeProps:d,make:r};function s(a){var c=a.id,d=a.thread,e=a.items,f=a.otherUserFbid,g=a.isTabFocused,i=a.isScrolledToBottomRef,l=a.initialComposerViewState,m=a.scrollerRef,o=a.shouldShowMenu,q=a.composerType,s=a.dispatch,t=a.closeTab,u=a.endFirstChatTabOpenLoggerRef,v=a.managePageMessagesLink,w=a.hasContent,x=a.repliedToMessage,y=a.buildSharedMediaViewerURL,z=a.messageRequestInfoText,A=a.sendTypingIndicator,B=a.closeReplyPreview,C=a.onSendMessage,D=b("MWTheme.bs").useTheme(void 0),E;if(typeof q==="number")switch(q){case 0:case 1:case 7:E=!0;break;default:E=!1}else switch(q.TAG|0){case 0:case 1:E=!1;break;default:E=!1}h.useEffect(function(){if(!u.current){u.current=!0;var a;if(typeof c==="string")a=null;else{var d=c.NAME;a=d==="User"||d==="Page"?c.VAL:null}b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").RENDER_FIRST_THREAD_CONTENT,other_user_fbid:a,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL})}},[u,c]);var F=function(a){if(i.current!==0)return;a=m.current;if(!(a==null))return a.scrollToBottom()},G=function(a){return F(void 0)},H=function(a){return F(void 0)},I=b("SkytaleDBHook.bs").useHook(void 0),J=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(I,"thread_nullstate").asc,{hd:d.a,tl:0})},[I,JSON.stringify(d.a)])),K=b("SkytaleDBQuerySubscriptionHook.bs").useArray(h.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(I,"thread_nullstate_ctas").index("threadKeyCtaId").asc,{hd:d.a,tl:0})},[I,JSON.stringify(d.a)])),L=b("bs_caml_int64").neq(d.i,b("bs_caml_int64").zero),M=J!==void 0?b("bs_caml_int64").eq(J.f,b("LSNullstateCTAType.bs").getStarted):!1;return h.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,e,i,m){var u=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0);u={color:b("MWTheme.bs").bottom(D),otherUserFbid:f,customLikeEmoji:u,isTabFocused:g,shouldShowMenu:o,hasContent:w,repliedToMessage:x,actionTrayOpen:m,closeActionTray:e,onContentsChange:G,onFileUploadStart:H,openActionTray:a,fileUploadHandlerRef:i,closeReplyPreview:B,openTabFromPreview:function(a){return s("OpenTabFromPreview")},closeTab:t,onSendMessage:C};l!==void 0&&(u.initialComposerViewState=b("bs_caml_option").valFromOption(l));z!==void 0&&(u.messageRequestInfoText=b("bs_caml_option").valFromOption(z));A!==void 0&&(u.onTypingStateChanged=b("bs_caml_option").valFromOption(A));var v=h.jsx(b("MWChatComposer.bs").make,u),y;if(M&&!L)y=null;else if(typeof q==="number")switch(q){case 0:y=v;break;case 1:y=h.jsx(b("MWChatUserComposer.bs").make,{threadId:c,chatComposer:function(a){return v}});break;case 2:y=h.jsx(b("MWUIDisabledPageComposer.bs").make,{});break;case 3:y=h.jsx(b("MWChatLeftGroupComposer.bs").make,{});break;case 4:y=h.jsx(h.Suspense,{children:h.jsx(p,{closeTab:t}),fallback:null});break;case 5:y=h.jsx(b("MWChatWorkDeactivatedComposer.bs").make,{});break;case 6:y=h.jsx(b("MWChatWorkGardenArchivedComposer.bs").make,{});break;case 7:y=h.jsxs(h.Fragment,{children:[h.jsx(h.Suspense,{children:h.jsx(r,{}),fallback:null}),v]});break;case 8:y=h.jsx(b("MWChatEmptyComposer.bs").make,{});break;case 9:y=h.jsx(b("MWChatFeatureLimitsBlockedComposer.bs").make,{});break}else switch(q.TAG|0){case 0:y=h.jsx(h.Suspense,{children:h.jsx(k,j(q.otherUserFbid,q.reportingToken,void 0,void 0,void 0)),fallback:null});break;case 1:y=h.jsx(h.Suspense,{children:h.jsx(n,{fbid:q.otherUserFbid,reportingToken:q.reportingToken}),fallback:null});break;case 2:y=null;break}return h.jsxs(h.Fragment,{children:[J!==void 0&&!L?h.jsx(b("LSThreadNullstate.bs").make,{thread:d,nullstate:J,nullstateCtas:K}):null,y]})},threadView:function(a){return h.jsx(b("MWChatThread.bs").make,{id:c,items:e,isScrolledToBottomRef:i,dispatch:s,managePageMessagesLink:v,spacerRef:a,scrollerRef:m,buildSharedMediaViewerURL:y})},animationEnabled:E,ensureScrolledToBottom:F,mediaDropDisabled:!(q===0||q===7),id:c,contextBannerData:1,welcomePageData:void 0,shouldInitiallyOpenActionTray:b("MWChatComposerP2PPopoverTrigger.bs").shouldShowOnLoad(c),senderUnsendNUXEnabled:g})}d={make:s};function e(a){var c=a.id,d=a.items,e=a.otherUserFbid,f=a.isTabFocused,g=a.isScrolledToBottomRef,i=a.initialComposerViewState,j=a.scrollerRef,k=a.shouldShowMenu,l=a.composerType,m=a.dispatch,n=a.closeTab,o=a.endFirstChatTabOpenLoggerRef,p=a.managePageMessagesLink,q=a.hasContent,r=a.repliedToMessage,t=a.buildSharedMediaViewerURL,u=a.messageRequestInfoText,v=a.sendTypingIndicator,w=a.closeReplyPreview;a=a.onSendMessage;var x=b("SkytaleDBHook.bs").useHook(void 0),y=b("MWThreadKey.bs").useIdMemoizedExn(void 0),z=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(x,"threads").asc,{hd:y,tl:0})},[x,y]));if(z===void 0)return null;c={id:c,thread:z,items:d,otherUserFbid:e,isTabFocused:f,isScrolledToBottomRef:g,scrollerRef:j,shouldShowMenu:k,composerType:l,dispatch:m,closeTab:n,endFirstChatTabOpenLoggerRef:o,managePageMessagesLink:p,hasContent:q,repliedToMessage:r,buildSharedMediaViewerURL:t,closeReplyPreview:w,onSendMessage:a};i!==void 0&&(c.initialComposerViewState=b("bs_caml_option").valFromOption(i));u!==void 0&&(c.messageRequestInfoText=b("bs_caml_option").valFromOption(u));v!==void 0&&(c.sendTypingIndicator=b("bs_caml_option").valFromOption(v));return h.jsx(s,c)}var t=b("MWChatTabContentStyles.bs").styles;e=e;f.MWChatBlockedComposerLazy=l;f.MWChatBlockedPageComposerLazy=a;f.MWChatWorkMessageRequestComposerLazy=c;f.InternalOnlyWorkChatComposerExtrasLazy=g;f.styles=t;f.Inner=d;f.make=e}),null);
__d("LSComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","MWChatChatButtonColorConstants.bs","React","bs_caml_option","bs_curry","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={menuButton:{display:"j83agx80",marginBottom:"qzhwtbm6",marginTop:"pcgkmkmd",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){var c=a.color,d=a.pageId;a=a.sendMenuItem;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("LSComposerPersistentMenuButton.bs"),popoverProps:{pageId:d,onSelect:b("bs_curry").__1(a)},align:"end",children:function(a,d,e,f,k,l,m){e={children:i.jsx("path",{d:"M0 1.5C0 0.671573 0.671573 0 1.5 0H22.5C23.3284 0 24 0.671573 24 1.5C24 2.32843 23.3284 3 22.5 3H1.5C0.671573 3 0 2.32843 0 1.5ZM0 9C0 8.17157 0.671573 7.5 1.5 7.5H22.5C23.3284 7.5 24 8.17157 24 9C24 9.82843 23.3284 10.5 22.5 10.5H1.5C0.671573 10.5 0 9.82843 0 9ZM1.5 15C0.671573 15 0 15.6716 0 16.5C0 17.3284 0.671573 18 1.5 18H22.5C23.3284 18 24 17.3284 24 16.5C24 15.6716 23.3284 15 22.5 15H1.5Z"})};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return i.jsx("div",{children:i.jsx(b("CometPressable.react"),{"aria-label":g._("Ouvrir le menu fixe"),testid:"composer_persistent_menu",onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayRadius:"50%",xstyle:function(a){return[j.hotLikeDefault]},children:i.jsx("svg",{children:i.jsx("g",e),className:(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"18",width:"24",fill:"none",viewBox:"0 0 24 18",xmlns:"http://www.w3.org/2000/svg"})}),ref:a,className:h(j.menuButton)})}})}c=a;f.make=c}),null);
__d("MWChatComposerGifButtonSVG.bs",["MWChatChatButtonColorConstants.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e={d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fillRule:"nonzero"};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsx("path",e),className:(g||(g=b("stylex")))(i.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 16 16",x:"0px",y:"0px"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerPhotoButtonSVG.bs",["MWChatChatButtonColorConstants.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e=c===void 0?(g||(g=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=c===void 0?(g||(g=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0,j={d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z"};e!==void 0&&(j.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(j.fill=b("bs_caml_option").valFromOption(c));var k={cx:"8.5",cy:"4.5",r:"1.5"};e!==void 0&&(k.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(k.fill=b("bs_caml_option").valFromOption(c));var l={d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z"};e!==void 0&&(l.className=b("bs_caml_option").valFromOption(e));c!==void 0&&(l.fill=b("bs_caml_option").valFromOption(c));e={d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",strokeLinecap:"round",strokeLinejoin:"round"};f!==void 0&&(e.className=b("bs_caml_option").valFromOption(f));c!==void 0&&(e.stroke=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("path",j),h.jsx("circle",k),h.jsx("path",l),h.jsx("path",e)],fill:"none",fillRule:"evenodd"}),className:(g||(g=b("stylex")))(i.icon,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 -1 17 17"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerStickerButtonSVG.bs",["MWChatChatButtonColorConstants.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"a8c37x1j"}};function a(a){var c=a.fill,d=a.xstyle;a=a.size;d=d!==void 0?b("bs_caml_option").valFromOption(d):!1;var e={d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z"};c!==void 0&&(e.fill=b("bs_caml_option").valFromOption(c));var f={d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fillRule:"nonzero"};c!==void 0&&(f.fill=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsxs("g",{children:[h.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),h.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),h.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),h.jsx("path",e),h.jsx("path",f)],fillRule:"evenodd"}),className:(g||(g=b("stylex")))(i.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,d),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 17 16",x:"0px",y:"0px"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerActionTray.bs",["CometTooltipGroup.react","MWChatComposerGifButtonSVG.bs","MWChatComposerPhotoButtonSVG.bs","MWChatComposerStickerButtonSVG.bs","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{alignItems:"aovydwv3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",backgroundColor:"nred35xi",position:"pmk7jnqg",width:"k4urcfbm",transitionProperty:"flx89l3n",transitionDuration:"l9l1gxur"},trayButton:{flexGrow:"buofh1pr",marginStart:"h676nmdw"},trayOpen:{transform:"i9k17dj3"},trayClosed:{transform:"agkhgkm8"},buttonContainer:{backgroundColor:"nred35xi",display:"j83agx80",paddingEnd:"rv4hoivh",paddingTop:"cxgpxx05",width:"k4urcfbm",boxSizing:"rq0escxv"},button:{flexGrow:"buofh1pr",marginStart:"h676nmdw"}};function a(a){return h.jsx(b("MWChatComposerPhotoButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}a={make:a};function c(a){return h.jsx(b("MWChatComposerStickerButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}c={make:c};function d(a){return h.jsx(b("MWChatComposerGifButtonSVG.bs").make,{fill:"var(--primary-text)",size:20})}d={make:d};function e(a){var c=a.isOpen;a=a.trayButtons;return h.createElement("div",{"data-visualcompletion":"ignore","aria-hidden":!c,className:(g||(g=b("stylex")))(i.root,c?i.trayOpen:i.trayClosed)},h.jsx("div",{children:h.jsx(b("CometTooltipGroup.react"),{children:a}),className:g(i.buttonContainer)}))}e=e;f.styles=i;f.PhotoButtonSVG=a;f.StickerButtonSVG=c;f.GifButtonSVG=d;f.make=e}),null);
__d("MWChatComposerActionTrayToggleButton.bs",["fbt","CometPressable.react","CometTooltip.react","MWChatComposerIcons.bs","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={actionTrayButton:{paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginStart:"kkf49tns",marginEnd:"cgat1ltu",marginBottom:"sw24d88r"}};function a(a){var c=a.actionTrayOpen,d=a.disabled,e=a.buttonColor,f=a.onPress;a=a.audioRecorderShown;var j=c?g._("Fermer Autres actions"):a?g._("Supprimer l\u2019enregistrement"):g._("Ouvrir plus d\u2019actions");return h.jsx(b("CometTooltip.react"),{tooltip:j,align:"middle",position:"above",children:h.jsx(b("CometPressable.react"),{"aria-label":j,disabled:d,testid:"composer_actions_button",onPress:f,overlayRadius:"50%",xstyle:function(a){return[i.actionTrayButton]},children:h.jsx(b("MWChatComposerIcons.bs").MoreActions.make,{size:20,fill:e,isRotated:c||a})})})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerChevronIconSVG.bs",["MWChatChatButtonColorConstants.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={icon:{display:"q9uorilb"}};function a(a){var c=a.color;a=a.size;a=a!==void 0?a:18;var d=c===void 0?(g||(g=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0,e={children:h.jsx("g",{children:h.jsx("polyline",{points:"95.5625 431.25 106.8125 420 95.5625 408.75"}),transform:"translate(717.000000, 300.000000)"}),strokeWidth:"3",transform:"translate(-811.000000, -707.000000)"};d!==void 0&&(e.className=b("bs_caml_option").valFromOption(d));c!==void 0&&(e.stroke=b("bs_caml_option").valFromOption(c));return h.jsx("svg",{children:h.jsx("g",{children:h.jsx("g",e),fill:"none",fillRule:"evenodd",stroke:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1"}),className:(g||(g=b("stylex")))(i.icon),height:String(a)+"px",width:String(a)+"px",viewBox:"0 0 15 26"})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatComposerMainActionsToggleButtons.bs",["fbt","CometPressable.react","CometTooltip.react","MWChatComposerChevronIconSVG.bs","React","bs_caml_option","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={button:{marginStart:"dwxx2s2f",marginEnd:"kady6ibp",marginBottom:"p5pk11vy",transitionProperty:"flx89l3n",transitionDuration:"mb8dcdod"},buttonPressable:{paddingStart:"b3onmgus",paddingEnd:"ph5uu5jm",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},buttonHidden:{width:"ttbfdpzt",transform:"qpbg1qsm"},buttonShown:{width:"dbpd2lw6",transform:"g3zh7qmp"}};function a(a){var c=a.buttonColor,d=a.visible,e=a.onPress;a=a.disabled;d=d!==void 0?d:!0;var f=g._("Ouvrir plus d\u2019actions"),k={};c=a?void 0:c;c!==void 0&&(k.color=b("bs_caml_option").valFromOption(c));return i.jsx("div",{children:i.jsx(b("CometTooltip.react"),{tooltip:f,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":f,disabled:a,testid:"composer_actions_button",onPress:e,overlayRadius:"50%",xstyle:function(a){return[j.buttonPressable]},children:i.jsx(b("MWChatComposerChevronIconSVG.bs").make,k)})}),className:(h||(h=b("stylex")))(j.button,d?j.buttonShown:j.buttonHidden)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatComposerActionsToggle.bs",["FBLogger","MWChatComposerActionTrayToggleButton.bs","MWChatComposerMainActionsToggleButtons.bs","MWChatComposerUtil.bs","React","bs_caml_option","bs_curry","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.actionTrayOpen,d=a.buttonColor,e=a.hasExtraTrayButtons,f=a.setShouldExpandInput,h=a.shouldExpandInput,i=a.hideAudioRecorder,j=a.closeActionTray,k=a.openActionTray,l=a.editorState,m=a.hasMediaAttachments,n=a.audioRecorderShown;a=a.isLocalThread;m=m===!0;a=a||m;l=l!==void 0?b("MWChatComposerUtil.bs").hasContent(b("bs_caml_option").valFromOption(l)):(b("FBLogger")("messenger-comet").mustfix("Did not properly supply editorState prop to MWChatComposerActionTrayButton from viewState!"),!1);var o=g.useCallback(function(a){if(c){b("bs_curry")._1(j,void 0);return b("bs_curry")._1(f,function(a){return!1})}else if(n)return b("bs_curry")._1(i,void 0);else return b("bs_curry")._1(k,void 0)},[c,k,j,f,i,n]),p=g.useCallback(function(a){return b("bs_curry")._1(f,function(a){return!1})},[f]);h=h||c||m||l&&e;if(e)return g.jsx(b("MWChatComposerActionTrayToggleButton.bs").make,{actionTrayOpen:c,disabled:a,buttonColor:d,onPress:o,audioRecorderShown:n});else return g.jsx(b("MWChatComposerMainActionsToggleButtons.bs").make,{buttonColor:d,visible:h,onPress:p,disabled:a})}c=b("withComposerViewStatePart")(a,function(a){var b=a.mediaAttachments;return{hasMediaAttachments:b==null?!1:b.length!==0,editorState:a.editorState}});f.make=c}),null);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometMenuSeparator.react","CometPressable.react","JSResource","React","TetraText.react","bs_curry","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{paddingTop:"cxgpxx05",paddingEnd:"oj5qckz4",paddingBottom:"sj5x9vvc",paddingStart:"lb8aey2d"}};function a(a){var c=a.onDeleteConversation;a=a.onLeaveGroup;return i.jsxs(i.Fragment,{children:[i.jsx(b("CometMenuSeparator.react"),{}),i.jsx("div",{children:i.jsxs(b("TetraText.react"),{color:"tertiary",type:"body4",children:[g._("Si vous r\u00e9pondez, vous et d\u2019autres membres pourrez passer des appels de groupe et voir des infos comme l\u2019\u00e9tat de lecture des messages.")," ",i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:c,onLeaveGroup:a},children:function(a,c){return i.jsx(b("CometPressable.react"),{ref:c,onPress:function(c){return b("bs_curry")._1(a,void 0)},children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:g._("Je ne souhaite pas r\u00e9pondre")})})}})]}),className:(h||(h=b("stylex")))(j.root)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWUIChatComposerUserMessageRequestInfoText.bs",["React","cr:1771678","cr:1771679"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.fbid,d=a.onDeleteConversation;a=a.size;if(b("cr:1771678")==null)if(b("cr:1771679")==null)return null;else return g.jsx(b("cr:1771679").make,{fbid:c,onDeleteConversation:d,size:a});else return g.jsx(b("cr:1771678").make,{fbid:c,onDeleteConversation:d})}c=a;f.$null$OR$MWMSChatComposerUserMessageRequestInfoText$requireCond=b("cr:1771678");f.$MWLSChatComposerUserMessageRequestInfoText$OR$null$requireCond=b("cr:1771679");f.make=c}),null);
__d("MWUIDeleteThread.bs",["cr:1469121"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1469121").useDeleteThread;f.$MWLSDeleteThread$OR$MWMSDeleteThread$requireCond=b("cr:1469121");f.useDeleteThread=a}),null);
__d("MWUILeaveGroup.bs",["cr:1489761"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1489761").useHook;f.$MWLSLeaveGroup$OR$MWMSLeaveGroup$requireCond=b("cr:1489761");f.useHook=a}),null);
__d("MWUIThreadIsMessageRequest.bs",["cr:1583166"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1583166").useHook;f.$MWLSThreadIsMessageRequest$OR$MWMSThreadIsMessageRequest$requireCond=b("cr:1583166");f.useHook=a}),null);
__d("MWChatComposerMessageRequestInfoText.bs",["MWChatComposerGroupMessageRequestInfoText.bs","MWThread_DEPRECATED.bs","MWUIChatComposerUserMessageRequestInfoText.bs","MWUIDeleteThread.bs","MWUILeaveGroup.bs","MWUIThreadIsMessageRequest.bs","React","bs_caml_option","bs_curry","cr:1821619","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("cr:1821619")==null?void 0:b("bs_caml_option").some(b("cr:1821619"));function a(a){var c=a.closeTab;a=a.size;a=a!==void 0?a:"small";var d=b("MWThread_DEPRECATED.bs").useIdExn(void 0),e=b("bs_curry")._1(b("MWUIDeleteThread.bs").useDeleteThread,void 0),f=b("bs_curry")._1(b("MWUIThreadIsMessageRequest.bs").useHook,void 0),i=b("bs_curry")._1(b("MWUILeaveGroup.bs").useHook,void 0),j=g.useCallback(function(a){b("bs_curry")._1(e,d);return b("bs_curry")._1(c,d)},[c,e,d]);if(typeof d==="string")return null;var k=d.NAME;if(k!=="Group")if(k==="User")if(f)return g.jsx(b("MWUIChatComposerUserMessageRequestInfoText.bs").make,{fbid:d.VAL,onDeleteConversation:j,size:a});else if(!(b("cr:1821619")==null)&&b("gkx")("1839788"))return g.jsx(h.make,{size:a});else return null;else return null;if(!f)return null;var l=d.VAL;return g.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:j,onLeaveGroup:function(a){return b("bs_curry")._2(i,l,a)}})}c=a;f.$MWComposerXacDisclosureLoader$requireCond=b("cr:1821619");f.make=c}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=8659;function a(a){var c=b("CometRelay").useLazyLoadQuery(g!==void 0?g:g=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:i}),d=c.xacThreadDisclosureNux;return h.jsx(b("CometPlaceholder.react"),{fallback:null,children:d!=null?h.jsx(b("CometRelay").MatchContainer,{match:d,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:c.xacThreadDisclosureNux,size:a.size}}):null})}}),null);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","MWLSParticipantDetails.bs","React","TetraText.react","TetraTextPairing.react","bs_curry","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={rootSmall:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"},rootLarge:{color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i",maxWidth:"bl38xub0"},footer:{marginTop:"knvmm38d",textAlign:"oqcyycmt"}};function a(a){var c=a.fbid,d=a.onDeleteConversation;a=a.size;var e=b("MWLSParticipantDetails.bs").useParticipantName(c);e=e!==void 0?e:g._("Utilisateur Facebook");var f=b("MWLSParticipantDetails.bs").useParticipantShortName(c);f=f!==void 0?f:g._("Utilisateur Facebook");var k=b("MWLSParticipantDetails.bs").useParticipantSecondaryName(c);k=k!==void 0&&k!==""?k:void 0;var l=k!==void 0?i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:g._("Vous \u00e9crivez \u00e0 un compte Instagram")}):null,m=k!==void 0?e!==k?g._("Si vous r\u00e9pondez, {IGDisplayName} ({IGUserName}) pourra \u00e9galement vous appeler depuis Instagram et voir des informations telles que votre statut En ligne et \u00e0 quel moment vous avez lu les messages.",[g._param("IGDisplayName",e),g._param("IGUserName",k)]):g._("Si vous r\u00e9pondez, {IGUserName} pourra vous appeler et voir des infos telles que votre statut en ligne et \u00e0 quel moment vous avez vu les messages.",[g._param("IGUserName",k)]):g._("Si vous r\u00e9pondez, {FBFullName} pourra vous appeler et voir des informations telles que votre statut En ligne et \u00e0 quel moment vous avez lu les messages.",[g._param("FBFullName",e)]),n=k!==void 0?e!==k?g._("Je ne veux pas \u00eatre en contact avec {name} ({username})",[g._param("name",e),g._param("username",k)]):g._("Je ne veux pas \u00eatre en contact avec {username}",[g._param("username",k)]):g._("Je ne veux pas \u00eatre en contact avec {name}",[g._param("name",e)]);return i.jsxs("div",{children:[i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:m}),headline:l,textAlign:"center"}),i.jsx("div",{children:i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:d,otherUserFbid:c,otherUserName:e,otherUserShortName:f,otherUserSecondaryName:k},children:function(a,c){return i.jsx(b("CometPressable.react"),{ref:c,onPress:function(c){return b("bs_curry")._1(a,void 0)},children:i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink4",children:n})})}}),className:(h||(h=b("stylex")))(j.footer)})],className:h(a==="small"?j.rootSmall:j.rootLarge)})}c=a;f.styles=j;f.make=c}),null);
__d("MWLSSendMessageUtils.bs",["MWChatMessageId.bs","bs_belt_Option"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Option").flatMap(a,function(a){a=a.content;switch(a.TAG|0){case 0:case 1:case 2:return b("MWChatMessageId.bs").getMessageId(a._0.messageID)}})}f.getReplySourceId=a}),null);
__d("MWLSSendFileMessageUtils.bs",["fbt","CometLocalVideoFileThumbnailSuspense.react","LS.bs","LSDict","LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSThreadAttributionStore.bs","LSVec.bs","MNLSXMALayoutType.bs","MWChatImage.bs","MWLSSendMessageUtils.bs","MercuryLocalIDs","MessagingAttachmentType.bs","SkytaleDB","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var c=a.length;if(c!==1)if(c!==0){c=a.length;c=g._("You sent {number} photos",[g._param("number",String(c))])}else c=void 0;else{a=a[0];a=a.attachment_type;c=b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").video)?g._("You sent an video"):b("bs_caml_int64").eq(a,b("MessagingAttachmentType.bs").image)?g._("You sent a photo"):g._("You sent an attachment")}return b("bs_belt_Option").map(c,function(a){return a.toString()})}function a(a,c){if(a.TAG===4)return;var d=a._1;a=a._0;var e;switch(a){case 0:e=URL.createObjectURL(d);break;case 1:e=b("CometLocalVideoFileThumbnailSuspense.react").getFromCache(d,b("MWChatImage.bs").defaultMaxHeight,b("MWChatImage.bs").defaultMaxHeight);break;case 2:e=void 0;break}var f=b("MercuryLocalIDs").generateOfflineThreadingID(void 0),g;switch(a){case 0:g=b("MessagingAttachmentType.bs").image;break;case 1:g=b("MessagingAttachmentType.bs").video;break;case 2:g=b("MessagingAttachmentType.bs").file;break}a=d.name;f=b("bs_caml_int64").eq(g,b("MessagingAttachmentType.bs").file)?{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!1,has_xma:!0,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:b("MNLSXMALayoutType.bs").single,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:a,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}:b("bs_caml_int64").eq(g,b("MessagingAttachmentType.bs").video)?{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!0,has_xma:!1,playable_url:URL.createObjectURL(d),playable_url_mime_type:d.type,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:b("bs_caml_int64").mk(200,0),preview_height:b("bs_caml_int64").mk(200,0),xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0}:{attachment_fbid:f,offline_attachment_id:f,attachment_type:g,attachment_index:b("bs_caml_int64").of_int32(c),filename:a,filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:d.type,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0};c=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(d.uploadID));return[c,f]}function c(a,c,d,e,f,g,i,j){var k=h(g);return b("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(c,d,e,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("bs_caml_option").option_get(k!==void 0?k:f),!1,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(i)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,b("LSVec.bs").make(g.map(function(a){return b("LSDict").fromObject(a)})),b("LS.bs").make(a)).then(function(c){c=c[0];var e=b("LSThreadAttributionStore.bs").getSource(j,b("bs_int64").to_string(d));e=b("SkytaleDB").table(a,"messages_optimistic_context").add({a:b("bs_caml_format").caml_int64_of_string(c),b:d,c:c,d:void 0,e:e,f:void 0,g:void 0,h:void 0,i:void 0,j:void 0,k:void 0,l:!1});b("promiseDone")(e,void 0,void 0);return c})}f.snippetForAttachments=h;f.makeAttachmentPayload=a;f.localApplyOptimisticMessageWithAttachments=c}),null);
__d("MWLSSendAudioMessage.bs",["LS.bs","LSMediaSendInsertNewMediaSendStoredProcedure","LSMediaSendMarkSubJobCompletedV2StoredProcedure","LSMediaSendResumeMediaSendJobStoredProcedure","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSSendFileMessageUtils.bs","MWThread_DEPRECATED.bs","MercuryLocalIDs","MessagingAttachmentType.bs","Promise","React","SkytaleDBHook.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=function(a){return a.toString()};function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("SkytaleDBHook.bs").useHook(void 0),e=g.useCallback(function(e){return function(f,g){var h=b("MWThread_DEPRECATED.bs").toThreadKey(e),i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(e),j=b("MercuryLocalIDs").generateOfflineThreadingID(void 0),k=j,l=URL.createObjectURL(f);f=f.type;g=b("bs_caml_int64").of_float(g);var m={attachment_fbid:j,offline_attachment_id:k,attachment_type:b("MessagingAttachmentType.bs").audio,attachment_index:b("bs_caml_int64").zero,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,playable_url:l,playable_url_mime_type:f,playable_duration_ms:g,preview_url:void 0,preview_url_mime_type:void 0,mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0};return b("LSTransaction.bs").run(d,function(d){return b("MWLSSendFileMessageUtils.bs").localApplyOptimisticMessageWithAttachments(d,c,h,i,void 0,[m],void 0,a).then(function(a){var c=b("LSMediaSendInsertNewMediaSendStoredProcedure")(b("bs_belt_Option").getExn(k),a,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").audio,!1,!1,!1,!1,b("LS.bs").make(d));b("promiseDone")(c,void 0,void 0);return b("Promise").resolve(a)}).then(function(a){return[a,j]})},"readWrite")}},[c,d]),f=g.useCallback(function(a){return function(c,e){var f=b("LSTransaction.bs").run(d,function(d){return b("LSMediaSendMarkSubJobCompletedV2StoredProcedure")(c,b("bs_caml_format").caml_int64_of_string(h(e)),void 0,void 0,void 0,b("LS.bs").make(d)).then(function(c){return b("LSMediaSendResumeMediaSendJobStoredProcedure")(a,b("bs_caml_int64").zero,b("LS.bs").make(d))})},"readWrite");b("promiseDone")(f,void 0,void 0)}},[d]);return[e,f]}f.castFbidFromNumber=h;f.useMessage=a}),null);
__d("LsReplySentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743879");c=b("FalcoLoggerInternal").create("ls_reply_sent",a);e.exports=c}),null);
__d("MWLSLogSend.bs",["LsFalcoEventEntryPoint.bs","LsReplySentFalcoEvent"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a){b("LsReplySentFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}});return}}f.logSent=a}),null);
__d("MWLSMediaSendManager.bs",["LS.bs","LSDict","LSJson","LSMediaSendInsertNewMediaSendStoredProcedure","LSMediaSendMarkSubJobCompletedV2StoredProcedure","LSMediaSendResumeMediaSendJobStoredProcedure","LSMessagingThreadTypeUtil.bs","React","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return{runningJobs:new Map(),secureFiles:new Map(),uploadedButNotAttached:new Map()}}function c(a,c){return b("bs_caml_option").nullable_to_opt(a.runningJobs.get(c))}function d(a,b,c){a.runningJobs.set(b,c)}function h(a,b){a.uploadedButNotAttached["delete"](b)}function e(a,b,c){a.uploadedButNotAttached.set(b,c)}function i(a,c){return b("bs_caml_option").nullable_to_opt(a.uploadedButNotAttached.get(c))}function j(a,c){return b("bs_caml_option").nullable_to_opt(a.secureFiles.get(c))}function k(a,b,c){a.secureFiles.set(b,c)}var l=g.createContext(void 0);function m(a){return b("bs_belt_Option").getExn(g.useContext(l))}function n(a){return g.useMemo(function(){return function(a,c,d,e,f,g,h){h=b("LSMessagingThreadTypeUtil.bs").ofThreadId(h);return b("LSMediaSendInsertNewMediaSendStoredProcedure")(d,c,b("bs_caml_int64").of_int32(e),f,!1,!1,!1,b("LSMessagingThreadTypeUtil.bs").isSecure(h),b("LS.bs").make(a)).then(function(a){return[g,[c,d]]})}})}var o=function(a){return a.toString()};function p(a){var c=b("bs_belt_Option").getExn(g.useContext(l));return g.useCallback(function(a){return function(d,e){var f=d[1],g=f[0],i=d[0];d=b("LSJson").stringify(new(b("LSDict"))([["mac","TODO"]]));var j=b("LS.bs").make(a);return b("LSMediaSendMarkSubJobCompletedV2StoredProcedure")(f[1],b("bs_caml_format").caml_int64_of_string(o(e)),void 0,d,void 0,j).then(function(a){h(c,i);return b("LSMediaSendResumeMediaSendJobStoredProcedure")(g,b("bs_caml_int64").zero,j)}).then(function(a){return window.Promise.resolve(void 0)})}},[c])}f.getUploadJob=c;f.saveUploadJob=d;f.deleteFile=h;f.saveFile=e;f.getFile=i;f.getSecureFile=j;f.saveSecureFile=k;f.useManager=m;f.make=a;f.context=l;f.useStartMediaSend=n;f.useResumeMediaSend=p}),null);
__d("MWLSMediaSendUploadHandler.bs",["LSTransaction.bs","MWLSMediaSendManager.bs","React","SkytaleDBHook.bs","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWLSMediaSendManager.bs").useManager(void 0),e=b("MWLSMediaSendManager.bs").useResumeMediaSend(void 0);return g.useCallback(function(a){return function(f){var g=b("MWLSMediaSendManager.bs").getUploadJob(d,a);if(g===void 0)return b("MWLSMediaSendManager.bs").saveFile(d,a,f);var h=[a,g];g=b("LSTransaction.bs").run(c,function(a){return b("bs_curry")._3(e,a,h,f)},"readWrite");b("promiseDone")(g,void 0,void 0)}},[c,d,e])}f.useUploadSuccessCallback=a}),null);
__d("MWLSSendFileMessage.bs",["CometComposerViewState.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSMediaSendManager.bs","MWLSMediaSendUploadHandler.bs","MWLSSendFileMessageUtils.bs","MWLSThreadHasInstagramUsers.bs","MWThread_DEPRECATED.bs","React","SkytaleDBHook.bs","bs_belt_Array","bs_belt_Option","bs_caml_option","bs_caml_splice_call","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWLSMediaSendManager.bs").useStartMediaSend(void 0);return g.useCallback(function(e){return function(f,g,h,i){var j=b("LSMessagingThreadTypeUtil.bs").ofThreadId(e),k=b("MWThread_DEPRECATED.bs").toThreadKey(e),l=b("bs_belt_Array").keepMap(h.map(b("MWLSSendFileMessageUtils.bs").makeAttachmentPayload),function(a){return a});return b("MWLSSendFileMessageUtils.bs").localApplyOptimisticMessageWithAttachments(f,c,k,j,g,l.map(function(a){return a[1]}),i,a).then(function(a){return window.Promise.all(l.map(function(c,g){var h=c[1];return b("bs_curry")._7(d,f,a,b("bs_belt_Option").getExn(h.offline_attachment_id),g,h.attachment_type,c[0],e)}))})}},[c,d])}function a(a,c,d){var e=b("SkytaleDBHook.bs").useHook(void 0);c=b("MWLSActor.bs").useActor(void 0);var f=b("MWLSMediaSendUploadHandler.bs").useUploadSuccessCallback(void 0),i=h(d),j=b("MWLSMediaSendManager.bs").useResumeMediaSend(void 0);d=b("MWLSMediaSendManager.bs").useStartMediaSend(void 0);var k=b("MWLSMediaSendManager.bs").useManager(void 0),l=b("MWLSThreadHasInstagramUsers.bs").useCallbackHook(void 0);c=g.useCallback(function(c){return function(d,f,g){f=b("MWThread_DEPRECATED.bs").toThreadKey(c);f=b("bs_curry")._1(l,f).then(function(f){var h=b("bs_curry")._1(i,c),j=b("bs_belt_Array").partition(g,function(a){return b("CometComposerViewState.bs").MediaAttachment.fileType(a)===0}),k=j[1],l=j[0];return b("LSTransaction.bs").run(e,function(c){var e=function(e){var f=[];return window.Promise.all(e.map(function(e,f){if(f===0)return b("bs_curry")._4(h,c,d,[e],a);else return b("bs_curry")._4(h,c,void 0,[e],a)})).then(function(a){return b("bs_caml_splice_call").spliceObjApply(f,"concat",[a])})};if(l.length!==0)if(f)return e(l);else return b("bs_curry")._4(h,c,d,l,a).then(function(a){return window.Promise.all(k.map(function(a){return b("bs_curry")._4(h,c,void 0,[a],void 0)})).then(function(c){return b("bs_caml_splice_call").spliceObjApply(a,"concat",[c])})});else if(k.length!==0)return e(k);else return[]},"readWrite")}).then(function(a){return b("LSTransaction.bs").run(e,function(c){return window.Promise.all(a.map(function(a){var d=a[0],e=b("MWLSMediaSendManager.bs").getFile(k,d);if(e!==void 0)return b("bs_curry")._3(j,c,a,b("bs_caml_option").valFromOption(e));else{b("MWLSMediaSendManager.bs").saveUploadJob(k,d,a[1]);return}}))},"readWrite")});b("promiseDone")(f,function(c){return b("MWLSLogSend.bs").logSent(a!==void 0)},void 0)}},[e,i,j,k,c,a,d]);d=b("bs_curry").__2(f);return[c,d]}f.useSendFileMessage=a}),null);
__d("MWLSSendGifMessage.bs",["LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSThreadAttributionStore.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","React","SkytaleDBHook.bs","bs_caml_format","bs_caml_option","bs_int64","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a!==void 0?a:b("LSMessagingThreadAttributionType.bs").unknown,e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0);return g.useCallback(function(a){return function(c,g){var h=c.source.url,i=b("bs_caml_format").caml_int64_of_string(c.platformFBID);c=b("LSTransaction.bs").run(e,function(c){var e=b("MWThread_DEPRECATED.bs").toThreadKey(a),j=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),k=b("LSThreadAttributionStore.bs").getSource(d,b("bs_int64").to_string(e));if(b("LSMessagingThreadTypeUtil.bs").isSecure(j)){b("recoverableViolation")("Gif send not implemented for secure conversations","messenger_privacy_web");return b("LS.bs").result("")}else return b("LSMailboxOptimisticSendMessageStoredProcedure")(f,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,void 0,void 0,!1,void 0,void 0,h!==void 0?b("bs_caml_option").valFromOption(h):void 0,i!==void 0?b("bs_caml_option").valFromOption(i):void 0,k,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(g)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,void 0,b("LS.bs").make(c))},"readWrite");b("promiseDone")(c,function(a){return b("MWLSLogSend.bs").logSent(g!==void 0)},void 0)}},[e,f])}f.useSendGifMessage=a}),null);
__d("MWLSSendMenuItem.bs",["LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSThreadAttributionStore.bs","LSTransaction.bs","MWLSActor.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","React","SkytaleDBHook.bs","bs_int64","bs_pervasives","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a!==void 0?a:b("LSMessagingThreadAttributionType.bs").unknown,e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0);return g.useCallback(function(a){return function(c,g){var h=b("LSTransaction.bs").run(e,function(e){var h=b("MWThread_DEPRECATED.bs").toThreadKey(a),i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a),j=b("LSThreadAttributionStore.bs").getSource(d,b("bs_int64").to_string(h));if(b("LSMessagingThreadTypeUtil.bs").isSecure(i))return b("bs_pervasives").failwith("not supported");else return b("LSMailboxOptimisticSendMessageStoredProcedure")(f,h,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,c,c,!1,void 0,void 0,void 0,void 0,j,void 0,g,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,void 0,b("LS.bs").make(e))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[e,f])}f.useSendMenuItem=a}),null);
__d("MWLSSendStickerMessage.bs",["LS.bs","LSDict","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadAttributionType.bs","LSThreadAttributionStore.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","React","SkytaleDBHook.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a!==void 0?a:b("LSMessagingThreadAttributionType.bs").unknown,e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0);return g.useCallback(function(a){return function(c,g,h){var i=b("LSTransaction.bs").run(e,function(e){var i=b("MWThread_DEPRECATED.bs").toThreadKey(a),j=b("LSThreadAttributionStore.bs").getSource(d,b("bs_int64").to_string(i));return b("LSMailboxOptimisticSendMessageStoredProcedure")(f,i,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,void 0,void 0,!1,b("bs_caml_format").caml_int64_of_string(c),void 0,void 0,void 0,j,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(g)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,!0,!0,b("LSDict").fromObject({playable_url:void 0,playable_url_fallback:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_mime_type:void 0,preview_url:h,preview_url_fallback:void 0,preview_url_expiration_timestamp_ms:void 0,preview_url_mime_type:void 0,preview_width:b("bs_caml_int64").zero,preview_height:b("bs_caml_int64").zero}),b("LS.bs").make(e))},"readWrite");b("promiseDone")(i,function(a){return b("MWLSLogSend.bs").logSent(g!==void 0)},void 0)}},[e,f])}f.useSendStickerMessage=a}),null);
__d("MWLSSendTextMessage.bs",["LS.bs","LSDict","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadAttributionType.bs","LSThreadAttributionStore.bs","LSTransaction.bs","MWLSActor.bs","MWLSLogSend.bs","MWLSSendMessageUtils.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","React","SkytaleDBHook.bs","bs_caml_option","bs_int64","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){d=a!==void 0?a:!1;var e=c!==void 0?c:b("LSMessagingThreadAttributionType.bs").unknown,f=b("SkytaleDBHook.bs").useHook(void 0),h=b("MWLSActor.bs").useActor(void 0),i=d===!1;return g.useCallback(function(a){return function(c,d,g){var j=b("MWThread_DEPRECATED.bs").toThreadKey(a),k=d!==void 0?b("bs_caml_option").some(b("LSDict").fromObject({mention_offsets:d.map(function(a){return String(a.offset)}).join(","),mention_lengths:d.map(function(a){return String(a.length)}).join(","),mention_ids:d.map(function(a){return a.id}).join(","),mention_types:d.length!==0?d.map(function(a){return a.type}).join(","):void 0})):void 0,l=b("LSThreadAttributionStore.bs").getSource(e,b("bs_int64").to_string(j));d=b("LSTransaction.bs").run(f,function(a){return b("LSMailboxOptimisticSendMessageStoredProcedure")(h,j,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,c,c,!1,void 0,void 0,void 0,void 0,l,void 0,void 0,b("bs_caml_option").option_get(b("MWLSSendMessageUtils.bs").getReplySourceId(g)),b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,k!==void 0?b("bs_caml_option").valFromOption(k):void 0,i,!0,void 0,b("LS.bs").make(a))},"readWrite");b("promiseDone")(d,function(a){return b("MWLSLogSend.bs").logSent(g!==void 0)},void 0)}},[f,h,i])}f.useSendTextMessage=a}),null);
__d("TetraMWChatComposerIcons.bs",["ix","MWChatChatButtonColorConstants.bs","React","TetraIcon.react","bs_caml_option","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={icon:{display:"a8c37x1j",transitionDuration:"ms05siws",transitionProperty:"hr662l2t",transitionTimingFunction:"b7h9ocf4"},notRotated:{transform:"tftn3vyl"},rotated:{transform:"nrzfhe1q"}};function a(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e={d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fillRule:"nonzero"};d!==void 0&&(e.fill=b("bs_caml_option").valFromOption(d));return i.jsx("svg",{children:i.jsx("path",e),className:(h||(h=b("stylex")))(j.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:String(c)+"px",width:String(c)+"px",viewBox:"0 0 16 16",x:"0px",y:"0px"})}a={make:a};function c(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e={d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z"};d!==void 0&&(e.fill=b("bs_caml_option").valFromOption(d));var f={d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fillRule:"nonzero"};d!==void 0&&(f.fill=b("bs_caml_option").valFromOption(d));return i.jsx("svg",{children:i.jsxs("g",{children:[i.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),i.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),i.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),i.jsx("path",e),i.jsx("path",f)],fillRule:"evenodd"}),className:(h||(h=b("stylex")))(j.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a),height:String(c)+"px",width:String(c)+"px",viewBox:"0 0 17 16",x:"0px",y:"0px"})}c={make:c};function d(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f=d===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey):void 0,g={d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z"};e!==void 0&&(g.className=b("bs_caml_option").valFromOption(e));d!==void 0&&(g.fill=b("bs_caml_option").valFromOption(d));var k={cx:"8.5",cy:"4.5",r:"1.5"};e!==void 0&&(k.className=b("bs_caml_option").valFromOption(e));d!==void 0&&(k.fill=b("bs_caml_option").valFromOption(d));var l={d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z"};e!==void 0&&(l.className=b("bs_caml_option").valFromOption(e));d!==void 0&&(l.fill=b("bs_caml_option").valFromOption(d));e={d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",strokeLinecap:"round",strokeLinejoin:"round"};f!==void 0&&(e.className=b("bs_caml_option").valFromOption(f));d!==void 0&&(e.stroke=b("bs_caml_option").valFromOption(d));return i.jsx("svg",{children:i.jsxs("g",{children:[i.jsx("path",g),i.jsx("circle",k),i.jsx("path",l),i.jsx("path",e)],fill:"none",fillRule:"evenodd"}),className:(h||(h=b("stylex")))(j.icon,a),height:String(c)+"px",width:String(c)+"px",viewBox:"0 -1 17 17"})}d={make:d};function e(a){var c=a.size,d=a.fill;a=a.isRotated;var e={d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12"};d!==void 0&&(e.fill=b("bs_caml_option").valFromOption(d));return i.jsx("svg",{children:i.jsxs("g",{children:[i.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),i.jsx("path",e)],fillRule:"evenodd"}),className:(h||(h=b("stylex")))(j.icon,b("MWChatChatButtonColorConstants.bs").styles.fillGrey,a?j.rotated:j.notRotated),height:String(c)+"px",width:String(c)+"px",viewBox:"0 0 24 24"})}e={make:e};function k(a){var c=a.size,d=a.fill;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var e=d===void 0?(h||(h=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey):void 0,f={d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387"};e!==void 0&&(f.className=b("bs_caml_option").valFromOption(e));d!==void 0&&(f.fill=b("bs_caml_option").valFromOption(d));return i.jsx("svg",{children:i.jsx("g",{children:i.jsx("g",{children:i.jsx("g",{children:i.jsx("g",{children:i.jsx("path",f)}),transform:"translate(709.000000, 314.000000)"}),transform:"translate(-893.000000, -701.000000)"}),fill:"none",fillRule:"evenodd"}),className:(h||(h=b("stylex")))(j.icon,a),height:String(c)+"px",width:String(c)+"px",viewBox:"0 0 38 38"})}k={make:k};function l(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("528566"),20),color:"primary"})}l={make:l};function m(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("481942"),20),color:"primary"})}m={make:m};function n(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("550096"),20),color:"primary"})}n={make:n};function o(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("624149"),20),color:"primary"})}o={make:o};function p(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("577048"),20),color:"primary"})}p={make:p};function q(a){return i.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("480625"),20),color:"primary"})}q={make:q};f.styles=j;f.Gif=a;f.Sticker=c;f.Photo=d;f.MoreActions=e;f.Emoji=k;f.Paperclip=l;f.Pin=m;f.Camera=n;f.Microphone=o;f.Poll=p;f.Currency=q}),null);
__d("LSDisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","JSResource","LSMessagingThreadAttributionType.bs","MWLSThreadDisplayContext.bs","MWThread_DEPRECATED.bs","MWUISendMenuItem.bs","React","TetraButton.react","bs_caml_option","bs_curry","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=a===1?b("LSMessagingThreadAttributionType.bs").messengerInboxInThread:b("LSMessagingThreadAttributionType.bs").unknown;var c=b("bs_curry")._2(b("MWUISendMenuItem.bs").useSendMenuItem,a,void 0),d=b("MWThread_DEPRECATED.bs").useIdExn(void 0);if(typeof d==="string")a=void 0;else{var e=d.NAME;a=e==="User"||e==="Page"?b("bs_caml_option").some(d.VAL):void 0}return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("LSDisabledPageComposer.bs"),popoverProps:{pageId:a,onSelect:function(a){return b("bs_curry")._3(c,d,a.title,a.id)}},align:"middle",children:function(a,c,d,e,f,j,k){return i.jsx("div",{children:i.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._("Menu"),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0}),ref:a,className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya pcgkmkmd qzhwtbm6 j83agx80"})}})}c=a;f.make=c}),null);
__d("MWChatConnectionHook.bs",["Arbiter","FBMqttChannel","MessengerMQTTConnectionEvents","MqttState.bs","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=g.useState(function(){return b("FBMqttChannel").getConnectionState()});var c=a[1];g.useEffect(function(){var a=b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECT,function(a,d){return b("bs_curry")._1(c,function(a){return b("MqttState.bs").connected})}),d=b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_CONNECTING,function(a,d){return b("bs_curry")._1(c,function(a){return b("MqttState.bs").connecting})}),e=b("Arbiter").subscribe(b("MessengerMQTTConnectionEvents").STREAM_DISCONNECT,function(a,d){return b("bs_curry")._1(c,function(a){return b("MqttState.bs").disconnected})});return function(b){a.unsubscribe(),d.unsubscribe(),e.unsubscribe()}},[c]);return a[0]}f.useConnectionStatus=a}),null);
__d("MWChatConnectionStatusCard.bs",["fbt","MWChatConnectionHook.bs","MWTheme.bs","MqttState.bs","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{textAlign:"oqcyycmt",color:"eqrdut5j",fontWeight:"ekzkrbhg",fontSize:"r9r71o1u",display:"a8c37x1j"},mask:{backgroundColor:"nred35xi"}};function k(a,c){return i.jsx("div",{children:a,className:(h||(h=b("stylex")))(j.root,b("MWTheme.bs").isGradient(c)?j.mask:!1)})}function a(a){a=b("MWTheme.bs").useTheme(void 0);var c=b("MWChatConnectionHook.bs").useConnectionStatus(void 0);if(c===b("MqttState.bs").connected)return null;else if(c===b("MqttState.bs").disconnected)return k(g._("Aucune connexion internet"),a);else if(c===b("MqttState.bs").connecting)return k(g._("Connexion..."),a);else return null}c=a;f.styles=j;f.renderStatus=k;f.make=c}),null);
__d("LSAuthorityLevel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).mk(20,0);d=a.mk(40,0);e=a.mk(60,0);b=a.mk(75,0);var g=a.mk(80,0);a=a.mk(100,0);f.optimistic=c;f.clientPartial=d;f.serverPartial=e;f.authoritativePendingReplacement=b;f.authoritative=g;f.clientAuthoritativeDelete=a}),null);
__d("MWLSCreateThread.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSMailboxCreateGroupThreadWithAdminTextStoredProcedure","LSTransaction.bs","LSVec.bs","Promise","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0);return g.useCallback(function(a){return function(d){var e=b("bs_belt_Option").mapWithDefault(d,void 0,function(a){return a.name});return b("LSTransaction.bs").run(c,function(c){return b("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure")(b("LSVec.bs").make(a.map(b("bs_caml_format").caml_int64_of_string)),void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,b("LS.bs").make(c))},"readWrite").then(function(a){var d=a[0];return new(b("Promise"))(function(a,e){e=b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"threads").index("clientThreadKey").asc,{hd:d,tl:0});var f={contents:function(a){}},g=function(c){if(b("bs_caml_int64").eq(c.Z,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(f.contents,void 0);return a(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a)))}};f.contents=b("SortedAsyncIterable.bs").subscribe(e,function(a,b){if(typeof b==="number")return;else return g(b._0)});b("promiseDone")(b("SkytaleDBQuery.bs").firstExn(e),g)})})}},[c])}f.useHook=a}),null);
__d("MWLSMessageForwardParser.bs",["fbt","ix","CometTintedIcon.react","MWLSParserUtils.bs","MessagingAttachmentType.bs","React","bs_belt_Option","bs_caml_array","bs_caml_int64","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={icon:{bottom:"rwy7c4ue","float":"bzsjyuwj",paddingEnd:"ph5uu5jm",height:"cyypbtt7",position:"l9j0dhe7"},text:{color:"pipptul6",fontSize:"e9vueds3",lineHeight:"j5wam9gi",marginBottom:"gjjqq4r6"}};function l(a){return g._("{name} forwarded a message",[g._param("name",a)])}c=g._("Forwarded a message");function m(a){return g._("{name} forwarded an image",[g._param("name",a)])}d=g._("Forwarded an image");function n(a){return g._("{name} forwarded a link",[g._param("name",a)])}e=g._("Forwarded a link");function o(a){return g._("{name} forwarded a video",[g._param("name",a)])}var p=g._("Forwarded a video");function q(a,c,d){if(b("bs_caml_int64").eq(a.message.h,c))return"You";else return d.author}function a(a,c,d){c=q(a,c,d);d=a.attachments;a=d.length;a=a!==1?a!==0?b("bs_caml_array").get(d,0):void 0:d[0];d=b("bs_belt_Option").map(a,function(a){return a.attachment.f});a=d!==void 0?b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").animatedImage)||b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").image)?m(c):b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").animatedImage)&&b("bs_belt_Option").map(a,b("MWLSParserUtils.bs").getXmaType)==="xma_web_url"?n(c):b("bs_caml_int64").eq(d,b("MessagingAttachmentType.bs").video)?o(c):void 0:l(c);return b("bs_belt_Option").map(a,function(a){return j.jsxs("div",{children:[j.jsx("div",{children:j.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("fbicon")._(h("514450"),12)}),className:(i||(i=b("stylex")))(k.icon)}),a],className:i(k.text)})})}f.styles=k;f.textForwardedBySomeone=l;f.textForwardedByUnknown=c;f.imageForwardedBySomeone=m;f.imageForwardedByUnknown=d;f.linkForwardedBySomeone=n;f.linkForwardedByUnknown=e;f.videoForwardedBySomeone=o;f.videoForwardedByUnknown=p;f.getForwarderName=q;f.getGroupTitleForForwardedMessage=a}),null);
__d("MWLSLeaveGroup.bs",["LS.bs","LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWThreadKey.bs","React","SkytaleDBHook.bs","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return g.useCallback(function(a){return function(a){a=b("LSTransaction.bs").run(c,function(a){return b("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(e,b("LSVec.bs").make([d]),b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)}},[c,d,e])}f.useHook=a}),null);
__d("MWLSMediaSendManagerProvider.bs",["MWLSMediaSendManager.bs","React","bs_caml_option","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.children;var c=g.useMemo(function(){return b("MWLSMediaSendManager.bs").make(void 0)},[]),d=g.useContext(b("MWLSMediaSendManager.bs").context);if(d!==void 0)return b("unrecoverableViolation")("You can't nest MWLSMediaSendManager in another MWLSMediaSendManager. This will cause SEVs as things might upload images to the wrong thread","messenger_privacy_web");else return g.createElement(b("MWLSMediaSendManager.bs").context.Provider,{value:b("bs_caml_option").some(c),children:a})}function c(a,b){return{children:a}}d=a;f.makeProps=c;f.make=d}),null);
__d("MWLSReaction.bs",["FBID.bs","SkytaleDB","SkytaleDBExec.bs","SkytaleDBQuery.bs","bs_belt_Option","bs_int64"],(function(a,b,c,d,e,f){"use strict";function g(a,c){return{message_id:a.c,actor_id:b("bs_belt_Option").getExn(b("FBID.bs").ofString(b("bs_int64").to_string(a.d))),reaction:a.e,actor_name:b("bs_belt_Option").mapWithDefault(b("SkytaleDBExec.bs").first(b("SkytaleDBQuery.bs").getKeyRange(c,{hd:a.d,tl:0})),void 0,function(a){var b=a.nickname;if(b!==void 0)return b;else return a.actual_name})}}function a(a,c,d){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(a,"reactions").asc,{hd:c,tl:0}),function(a){return g(a,d)})}f.project=g;f.getForOpen=a}),null);
__d("MWLSMessage.bs",["LSBitFlag.bs","MWLSAttachment.bs","MWLSParticipant.bs","MWLSReaction.bs","SkytaleDB","SkytaleDBExec.bs","SkytaleDBQuery.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";e={a:(d=b("bs_caml_int64")).zero,b:d.zero,c:d.zero,d:void 0,e:"",f:"",g:void 0,h:d.zero,i:void 0,j:!1,k:d.zero,l:d.zero,m:!1,n:void 0,o:void 0,p:void 0,q:void 0,r:void 0,s:void 0,t:void 0,u:void 0,v:void 0,w:void 0,x:void 0,y:void 0,z:void 0,A:void 0,B:void 0,C:void 0,D:void 0,E:void 0,F:void 0,G:void 0,H:void 0,I:void 0,J:!1,K:void 0,L:void 0,M:void 0,N:void 0,O:!1,P:b("LSBitFlag.bs").empty,Q:b("LSBitFlag.bs").empty,R:void 0,S:void 0,T:d.zero,U:void 0,V:d.zero,W:void 0,X:void 0};d=[];var g=[];d={message:e,has_attachment:!1,message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:d,reactions:g,adminMsgCta:void 0};function h(a,c,d,e){var f=a.K,g=a.M;return{message:a,has_attachment:b("SkytaleDBExec.bs").toArray(c).length>0,message_delete_timestamp_ms:void 0,message_expire_timestamp_ms:void 0,message_visible_timespan_ms:void 0,message_remaining_visible_timespan_ms:void 0,attachments:b("SkytaleDBExec.bs").toArray(c),reactions:b("SkytaleDBExec.bs").toArray(d),adminMsgCta:f!==void 0&&g==="admin_msg_web_url"?b("SkytaleDBExec.bs").first(b("SkytaleDBQuery.bs").getKeyRange(e,{hd:f,tl:0})):void 0}}function a(a,c){var d=b("SkytaleDB").table(c,"contacts").asc,e=b("MWLSAttachment.bs").getForOpen(c,a);d=b("MWLSParticipant.bs").getAllInOpenThread(c,d,a);var f=b("MWLSReaction.bs").getForOpen(c,a,d);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages").asc,{hd:a,tl:0}),function(d){var g=d.e;return h(d,b("SkytaleDBQuery.bs").getKeyRange(e,{hd:g,tl:0}),b("SkytaleDBQuery.bs").getKeyRange(f,{hd:g,tl:0}),b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"admin_message_ctas").asc,{hd:a,tl:{hd:g,tl:0}}))})}function c(a,c,d,e){var f=b("SkytaleDB").table(e,"contacts").asc,g=b("MWLSAttachment.bs").getForOpen(e,d);f=b("MWLSParticipant.bs").getAllInOpenThread(e,f,d);var i=b("MWLSReaction.bs").getForOpen(e,d,f);return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").bounds(b("SkytaleDB").table(e,"messages").asc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:d,tl:{hd:a,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:d,tl:{hd:c,tl:0}}}]}),function(a){var c=a.e;return h(a,b("SkytaleDBQuery.bs").getKeyRange(g,{hd:c,tl:0}),b("SkytaleDBQuery.bs").getKeyRange(i,{hd:c,tl:0}),b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(e,"admin_message_ctas").asc,{hd:d,tl:{hd:c,tl:0}}))})}f.emptyMessageRow=e;f.emptyMessage=d;f.projectOpen=h;f.getAllInOpenThread=a;f.getAllInRangeStartingFrom=c}),null);
__d("LSMessageSendStatusV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(4,0);var g=a.mk(5,0);a=a.mk(6,0);f.none=c;f.sendingToServer=d;f.serverReceived=e;f.nonRetriableError=b;f.retriableError=g;f.sentOnly=a}),null);
__d("LSMessageThreadUnsendabilityStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(3,0);var g=a.mk(4,0),h=a.mk(5,0),i=a.mk(6,0),j=a.mk(7,0),k=a.mk(8,0);a=a.mk(9,0);f.canUnsend=c;f.denyForSpecificIds=d;f.denyIfThreadContainsPau=e;f.denyIfThreadContainsWorkUser=b;f.denyIfPageThread=g;f.denyIfMarketplaceThread=h;f.denyIfCannotLoadThread=i;f.denyIfThreadContainsWorkUserFailingKillswitch=j;f.denyIfCanonicalThreadContainsBlockedUsers=k;f.denyIfCannotReplyToViewerThread=a}),null);
__d("LSReplyMessageAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(3,0);var g=a.mk(4,0),h=a.mk(5,0),i=a.mk(6,0),j=a.mk(7,0);a=a.mk(8,0);f.other=c;f.photo=d;f.video=e;f.gif=b;f.sticker=g;f.link=h;f.multiphoto=i;f.permanentRavenPhoto=j;f.permanentRavenVideo=a}),null);
__d("LSReplyMessageStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(3,0);a=a.mk(4,0);f.unknown=c;f.valid=d;f.deleted=e;f.temporaryUnavailable=b;f.expired=a}),null);
__d("MWLSMessageReplyParser.bs",["ix","CometTintedIcon.react","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MWChatTextFormatting","React","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_int64","fbicon","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={titleContainer:{display:"j83agx80",alignItems:"bp9cbjyn",marginBottom:"gjjqq4r6"},text:{paddingStart:"b3onmgus",color:"pipptul6",fontSize:"sq6gx45u",lineHeight:"a3bd9o3v"}};function a(a){a=a.message;var c=a.t,d=c!==void 0?b("bs_caml_int64").eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml_int64").eq(c,b("LSMessageReplySourceTypeV2.bs").story)?b("bs_caml_option").some(b("fbicon")._(g("1289193"),10)):b("bs_caml_int64").eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml_int64").eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml_int64").eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?b("bs_caml_option").some(b("fbicon")._(g("514450"),12)):void 0:void 0;return b("bs_belt_Option").map(a.v,function(a){return i.jsxs("div",{children:[d!==void 0?i.jsx(b("CometTintedIcon.react"),{color:"fds-gray-45",icon:b("bs_caml_option").valFromOption(d)}):null,i.jsx("div",{children:a,className:(h||(h=b("stylex")))(j.text)})],className:h(j.titleContainer)})})}function c(a){a=a.message;var c=a.r;if(c===void 0)return 1;var d=a.G,e=a.H;if(d!==void 0){if(e!==void 0){if(b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").sticker)){var f=a.A,g=a.B;return{TAG:1,_0:{sticker:{accessibilityLabel:b("bs_belt_Option").getWithDefault(a.w,""),frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI2x:void 0,paddedSpriteURI:void 0,spriteURI2x:void 0,spriteURI:void 0,stickerID:b("bs_int64").to_string(e),url:a.z,width:f!==void 0?b("bs_caml_int64").to_int32(f):void 0,height:g!==void 0?b("bs_caml_int64").to_int32(g):void 0},messageID:c}}}f=2}else f=2;if(f===2){if((b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").video))&&b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").story)){g=a.z;if(g!==void 0)return{TAG:5,_0:{previewUrl:g,messageID:c,sourceID:a.r}};else return}if(b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").multiphoto)){f=a.z;return{TAG:2,_0:{previewUrl:f!==void 0?f:(b("recoverableViolation")("Reply to photo has no reply_media_url. MessageID: "+a.e,"messenger_privacy_web"),""),messageID:c}}}if(b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").gif)||b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").link)||b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").video)||b("bs_caml_int64").eq(d,b("LSReplyMessageAttachmentType.bs").other))return{TAG:4,_0:{messageID:c}}}}else{if(e!==void 0)g=2;else{if(b("bs_caml_obj").caml_equal(a.u,b("LSReplyMessageStatus.bs").deleted))return 0;if(b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").message)){f=b("bs_belt_Option").getWithDefault(a.w,"");if(f==="")return{TAG:4,_0:{messageID:c}};else return{TAG:0,_0:{ranges:b("MWChatTextFormatting").getFormattingRanges(b("bs_belt_Option").getWithDefault(a.w,"")),text:b("bs_belt_Option").getWithDefault(a.w,""),messageID:c}}}g=2}if(g===2&&b("bs_caml_obj").caml_equal(a.s,b("LSMessageReplySourceType.bs").story))return 1}b("recoverableViolation")("Unknown combination of attachment type and attachment_id. Attachmnet type: "+(b("bs_belt_Option").mapWithDefault(d,"no attachment type",b("bs_int64").to_string)+("Id present?: "+(b("bs_belt_Option").isSome(e)?"true":"false"))),"messenger_privacy_web")}f.styles=j;f.getGroupTitleForReply=a;f.getMessageReplyContent=c}),null);
__d("MessageProfileRangeType.bs",["MessageProfileRangeType"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return b("MessageProfileRangeType").PROFILE;else if(a==="thread")return b("MessageProfileRangeType").THREAD;else if(a==="thread_active")return b("MessageProfileRangeType").THREAD_ACTIVE;else return b("MessageProfileRangeType").NONE}f.ofString=a}),null);
__d("MWLSMessageParser.bs",["fbt","FBID.bs","GenderConst","JSMap.bs","LSContactGender.bs","LSMessageSendStatusV2.bs","LSMessageThreadUnsendabilityStatus.bs","MWChatMessage.bs","MWLSAttachmentParser.bs","MWLSMessageReplyParser.bs","MWLSParserUtils.bs","MessageProfileRangeType","MessageProfileRangeType.bs","XCometProfileControllerRouteBuilder","bs_array","bs_belt_Option","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_int64","bs_js_dict","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return b("bs_int64").compare(a,c)===0}function c(a){return b("bs_caml_int64").eq(a.message.l,b("LSMessageSendStatusV2.bs").sentOnly)}function h(a){if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").sendingToServer))return 1;else if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").sentOnly))return 2;else if(b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").nonRetriableError)||b("bs_caml_int64").eq(a,b("LSMessageSendStatusV2.bs").retriableError))return 4;else return 0}function i(a,c){return Array.from(a.values()).reduce(function(a,d){d=b("bs_caml_int64").neq(d.contact_id,c)?d.read_watermark_timestamp_ms:b("bs_caml_int64").zero;if(b("bs_caml_int64").gt(a,d))return a;else return d},b("bs_caml_int64").zero)}function j(a,c){return Array.from(a.values()).reduce(function(a,d){d=b("bs_caml_int64").neq(d.contact_id,c)?d.delivered_watermark_timestamp_ms:b("bs_caml_int64").zero;if(b("bs_caml_int64").gt(a,d))return a;else return d},b("bs_caml_int64").zero)}function k(a,c,d,e){c=b("JSMap.bs").getOrMake(a.message.e,function(a){return[]},c);var f=c.length>0;d=b("bs_caml_int64").lt(a.message.b,d);if(f)return{_0:c};else if(d)return 0;else if(b("bs_caml_int64").ge(e,a.message.b))return 3;else return h(a.message.l)}function l(a){if(a.length>0)return b("bs_caml_option").some(a.reduce(function(a,c){var d=c.reaction,e=b("bs_js_dict").get(a,d);e=e!==void 0?(e.push([c.actor_id,c.actor_name]),e):[[c.actor_id,c.actor_name]];a[d]=e;return a},{}))}function m(a){if(b("bs_caml_int64").eq(a,b("LSContactGender.bs").female))return b("GenderConst").FEMALE_SINGULAR;else if(b("bs_caml_int64").eq(a,b("LSContactGender.bs").male))return b("GenderConst").MALE_SINGULAR;else if(b("bs_caml_int64").eq(a,b("LSContactGender.bs").neuter))return b("GenderConst").NEUTER_SINGULAR;else return b("GenderConst").NOT_A_PERSON}function n(a,c,d,e,f,h,i){var j=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.message.h));d=d.get(j);d=d==null?void 0:b("bs_caml_option").some(d);var n=a.message.l,o=a.message.p,p=a.message.o,q=a.message.n,r=a.message.q;if(o!==void 0)if(p!==void 0)if(q!==void 0)if(r!==void 0){o=o.split(",");var s=p.split(","),t=q.split(","),u=r.split(",");p=o.reduce(function(a,c,d){var e=b("MessageProfileRangeType.bs").ofString(b("bs_caml_array").get(u,d));e===b("MessageProfileRangeType").THREAD||e===b("MessageProfileRangeType").THREAD_ACTIVE?a.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(t,d)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(s,d)),entity:{__typename:"Profile",uri:"/messages/t/"+c,id:b("FBID.bs").ofStringExn(c)}}):e===b("MessageProfileRangeType").PROFILE&&a.push({offset:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(t,d)),length:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(s,d)),entity:{__typename:"Profile",uri:"/"+c,id:b("FBID.bs").ofStringExn(c)}});return a},[])}else p=[];else p=[];else p=[];else p=[];if(c!==void 0){q=c.L;r=q!==void 0?b("bs_caml_int64").eq(q,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend):!0}else r=!0;o=b("bs_belt_Option").mapWithDefault(a.message.N,!0,function(a){return b("bs_caml_int64").eq(a,b("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});c=a.reactions.find(function(a){return b("bs_int64").to_string(i)===a.actor_id});return{messageID:b("bs_caml_int64").eq(n,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml_int64").eq(n,b("LSMessageSendStatusV2.bs").sentOnly)?{TAG:1,_0:{threadId:a.message.a,messageId:a.message.e,timestamp:a.message.b}}:{TAG:0,_0:{threadId:a.message.a,offlineThreadingId:a.message.f}},reactions:l(a.reactions),author:b("bs_belt_Option").mapWithDefault(d,g._("Utilisateur de Facebook"),function(a){return a.name}),authorFbid:j,authorParticipantId:b("bs_int64").to_string(a.message.h),authorGender:m(b("bs_belt_Option").mapWithDefault(d,b("LSContactGender.bs").unknown,function(a){return a.gender})),authorPictureUrl:b("bs_belt_Option").map(d,function(a){return a.profile_picture_url}),authorProfileUrl:b("gkx")("1630108")?b("XCometProfileControllerRouteBuilder").buildURL({id:j}):void 0,text:a.message.g,ranges:p,status:k(a,h,e,f),timestamp:b("bs_caml_int64").to_float(a.message.b),isForwarded:b("MWLSParserUtils.bs").isForwarded(a),canRemoveGlobally:r&&o,selectedReaction:c!==void 0?c.reaction:void 0}}function o(a,c){a=a.message.g;if(a!==void 0&&a!=="")if(b("MWChatMessage.bs").isEmojiOnlyMessage(a))return{text:a,ranges:[],isForwarded:c.isForwarded,isEmojiOnly:!0};else return{text:a,ranges:b("bs_array").concat({hd:c.ranges,tl:{hd:b("MWChatMessage.bs").findRanges(a),tl:0}}),isForwarded:c.isForwarded,isEmojiOnly:!1}}function p(a,c,d,e,f,g,h,i){h=n(i,h,c,d,e,f,a);c=h.messageID;d=h.authorParticipantId;e=h.status;f=h.timestamp;a=h.canRemoveGlobally;c={messageID:c,isSaved:!1,isPinned:!1,author:d,authorGender:b("GenderConst").MALE_SINGULAR,status:e,timestamp:f,canRemoveGlobally:a};d=h.reactions;e=h.selectedReaction;f={reactions:d,selectedReaction:e};if(i.message.m)a={TAG:1,_0:c,_1:{removedTimestamp:h.timestamp,authorName:h.author}};else{d=o(i,h);e=i.has_attachment||i.message.i!==void 0;if(d!==void 0)if(e){var j=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(i,h,g);a=j!==void 0?{TAG:0,_0:c,_1:f,_2:{TAG:1,_0:j,_1:d}}:{TAG:2,_0:c}}else a={TAG:0,_0:c,_1:f,_2:{TAG:0,_0:d}};else if(e){j=b("MWLSAttachmentParser.bs").parseMessageWithAttachments(i,h,g);a=j!==void 0?{TAG:0,_0:c,_1:f,_2:{TAG:1,_0:j,_1:void 0}}:{TAG:2,_0:c}}else a={TAG:2,_0:c}}return[a,c]}function d(a,c,d,e,f){var g=i(c,a),h=j(c,a);return function(i){var j=p(a,c,g,h,d,e,f,i),k=j[0];if(!b("MWLSParserUtils.bs").isReplyToSomething(i))return{TAG:0,_0:k};switch(k.TAG|0){case 0:case 1:break;case 2:return{TAG:0,_0:k}}var l=b("MWLSMessageReplyParser.bs").getMessageReplyContent(i);if(l===void 0)return{TAG:0,_0:{TAG:2,_0:j[1]}};j=i.message.x;if(j!==void 0&&b("bs_caml_int64").eq(j,a))return{TAG:2,_0:l,_1:k};else return{TAG:1,_0:l,_1:k}}}f.idsAreSame=a;f.isBlocked=c;f.getGutterStatusForSendStatus=h;f.getlastReadTimestampMsExclViewer=i;f.getDeliveredWatermarkTimestampMsExclViewer=j;f.getGutterItemStatus=k;f.groupReactionsByEmoji=l;f.contactGenderToGenderConst=m;f.parseCommonProps=n;f.parseBody=o;f.parseMessageContent=p;f.makeParser=d}),null);
__d("MWLSMessageGroupsParser.bs",["invariant","FBID.bs","GenderConst","JSMap.bs","MWLSAttachmentParser.bs","MWLSMessageForwardParser.bs","MWLSMessageParser.bs","MWLSMessageReplyParser.bs","MWLSParserUtils.bs","MercuryThreadlistConstants","MessagingThreadType.bs","bs_belt_Option","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c){for(var d=0,e=a.length;d<e;++d)c.push(b("bs_caml_array").get(a,d));return c}function i(a,c){var d=b("bs_caml_int64").eq(a.message.h,c.contact_id);a=b("bs_caml_int64").le(a.message.b,c.read_watermark_timestamp_ms);if(d)return!0;else return a}function a(a,c,d){var e=Array.from(a.values()).filter(function(a){return b("bs_caml_int64").neq(a.contact_id,d)}),f=new Map();c.forEach(function(a){if(!b("MWLSMessageParser.bs").isBlocked(a)){e.forEach(function(c){var d=b("bs_int64").to_string(c.contact_id),e=f.get(d);if(e==null)if(i(a,c)){f.set(d,a);return}else return;else if(i(a,c)&&b("bs_caml_int64").gt(a.message.b,e.message.b)){f.set(d,a);return}else return});return}});var g=new Map();Array.from(f.entries()).forEach(function(c){var d=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(a.get(b("FBID.bs").ofStringExn(c[0]))));b("JSMap.bs").getOrMake(c[1].message.e,function(a){return[]},g).push({imageSrc:d.profile_picture_url,name:b("bs_belt_Option").getWithDefault(d.nickname,d.name),id:b("bs_int64").to_string(d.contact_id),gender:b("GenderConst").NOT_A_PERSON,timestamp:b("bs_caml_int64").to_float(d.read_action_timestamp_ms)})});return g}var j=1e3*60*60;function k(a){return b("bs_belt_Option").mapWithDefault(a.message.g,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function l(a){if(b("MWLSParserUtils.bs").isReplyToSomething(a)||a.has_attachment||k(a))return!0;else return a.message.j}function m(a,c,d){if(c===void 0)return!0;var e=b("bs_caml_int64").to_float(a.message.b)-b("bs_caml_int64").to_float(c.message.b)>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,f=b("MWLSParserUtils.bs").isForwarded(a),g=b("bs_int64").compare(a.message.h,c.message.h)===0;d=d!==void 0?b("bs_caml_int64").to_float(a.message.b)>d&&b("bs_caml_int64").to_float(c.message.b)<=d:!1;if(!g||e||f||l(a)||l(c))return!0;else return d}function n(a,c,d){a=b("bs_caml_int64").to_float(a.message.b);c=b("bs_belt_Option").mapWithDefault(c,0,function(a){return b("bs_caml_int64").to_float(a.message.b)});c=a-c>j;if(c)return h([{TAG:0,_0:a}],d);else return d}function o(a,c,d,e,f){if(c!==void 0&&e!==void 0&&b("bs_caml_int64").to_float(a.message.b)>e&&b("bs_caml_int64").to_float(c.message.b)<=e)return h([{TAG:2,_0:f}],d);else return d}function p(a,c,d,e,f){if(b("MWLSParserUtils.bs").isReplyToSomething(a))return b("MWLSMessageReplyParser.bs").getGroupTitleForReply(a);else if(b("MWLSParserUtils.bs").isForwarded(a))return b("MWLSMessageForwardParser.bs").getGroupTitleForForwardedMessage(a,d,c);else if(f&&!e)return b("bs_caml_option").some(c.author);else return}function q(a,c,d,e,f,g,h,i,j){j=a.map(b("bs_curry").__1(j));c=b("MWLSMessageParser.bs").parseCommonProps(b("bs_caml_array").get(a,0),void 0,c,d,e,f,g);d=p(b("bs_caml_array").get(a,0),c,g,h,i===b("MessagingThreadType.bs").group);return h?{TAG:4,_0:j,_1:d}:{TAG:3,_0:j,_1:d,_2:c.authorPictureUrl,_3:c.authorProfileUrl,_4:c.author,_5:b("bs_caml_option").some(c.authorFbid)}}function r(a,c,d,e,f,g){var h=a.has_attachment||a.message.i!==void 0;c=b("MWLSMessageParser.bs").parseCommonProps(a,void 0,c,d,e,f,b("bs_caml_int64").zero);d=b("bs_belt_Option").getWithDefault(a.message.g,"");e=[];f={text:d,ranges:e,isForwarded:!1,isEmojiOnly:!1};d=h?b("MWLSAttachmentParser.bs").parseMessageWithAttachments(a,c,g):void 0;return{TAG:1,_0:{TAG:0,_0:{messageID:c.messageID,isSaved:!1,isPinned:!1,author:c.authorParticipantId,authorGender:c.authorGender,status:c.status,timestamp:c.timestamp,canRemoveGlobally:c.canRemoveGlobally},_1:{reactions:void 0,selectedReaction:void 0},_2:d!==void 0?{TAG:1,_0:d,_1:f}:{TAG:0,_0:f}},_1:a.adminMsgCta}}function s(a,c,d,e,f,h,i){i.length>0||g(0,20093);var j=b("bs_caml_array").get(i,0),k=b("bs_caml_int64").eq(j.message.h,a),l=b("MWLSMessageParser.bs").getlastReadTimestampMsExclViewer(c,a),m=b("MWLSMessageParser.bs").getDeliveredWatermarkTimestampMsExclViewer(c,a);if(j.message.j)return r(j,c,l,m,d,h);else return q(i,c,l,m,d,a,k,f,e)}function c(a,b,c,d,e,f,g,i,j){var k=function(a){return s(d,b,c,f,e,j,a)};return a.reduce(function(b,c,d){var e=m(c,b.prev,g),f=d===(a.length-1|0);d===0&&(b.messageItems=n(c,b.prev,b.messageItems));if(b.currGroup.length>0&&e){d=k(b.currGroup);b.messageItems=d!==void 0?h([d],b.messageItems):b.messageItems;b.currGroup=[];b.messageItems=n(c,b.prev,b.messageItems);b.messageItems=o(c,b.prev,b.messageItems,g,i)}b.currGroup=h([c],b.currGroup);if(f){e=k(b.currGroup);b.messageItems=e!==void 0?h([e],b.messageItems):b.messageItems}return{prev:c,currGroup:b.currGroup,messageItems:b.messageItems}},{prev:void 0,currGroup:[],messageItems:[]}).messageItems}f.concat=h;f.getSeenHeads=a;f.dateBreakThresholdSec=j;f.isLongText=k;f.shouldBeStandalone=l;f.isInDifferentGroup=m;f.maybeAddDateBreakForNextGroup=n;f.maybeAddUnreadIndicatorForNextGroup=o;f.getGroupTitle=p;f.groupUserMessages=q;f.parseAdminMessage=r;f.makeGroupParser=s;f.parse=c}),null);
__d("MWLSRepliedToMessage.bs",["CancellablePromise.bs","CancellationToken.bs","FBID.bs","MWLSActor.bs","MWLSMessage.bs","MWLSMessageParser.bs","MWLSParticipant.bs","MWLSThreadDisplayContext.bs","Promise","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,c){return b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("MWLSMessage.bs").getAllInOpenThread(a.threadId,c),{hd:a.timestamp,tl:{hd:a.messageId,tl:0}})).then(function(a){if(a!==void 0)return b("SkytaleDBQuery.bs").toArray(b("MWLSParticipant.bs").getAllInOpenThread(c,b("SkytaleDB").table(c,"contacts").asc,a.message.a)).then(function(c){c=c.reduce(function(a,c){return a.set(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.contact_id)),c)},new Map());return b("Promise").resolve([a,c])});else return b("Promise").resolve([a,new Map()])})}function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0);a=g.useState(function(){});var f=a[1],i=g.useCallback(function(a){return b("bs_curry")._1(f,function(a){})},[f]),j=g.useCallback(function(a){var g=b("CancellationToken.bs").make(void 0);if(typeof a==="number")return;if(!a.TAG)return;g=b("CancellablePromise.bs").ignoreFailed(void 0,b("CancellablePromise.bs").then_(g,function(a){var c=a[1],g=a[0];if(g!==void 0){a=b("MWLSMessageParser.bs").parseMessageContent(d,c,b("MWLSMessageParser.bs").getlastReadTimestampMsExclViewer(c,d),b("MWLSMessageParser.bs").getDeliveredWatermarkTimestampMsExclViewer(c,d),new Map(),e,void 0,g);var h=a[0];c=b("FBID.bs").ofString(b("bs_int64").to_string(g.message.h));if(c!==void 0){var i=b("bs_caml_option").valFromOption(c);b("bs_curry")._1(f,function(a){return{content:h,fromViewer:b("bs_caml_int64").eq(g.message.h,d),authorID:i}})}else b("recoverableViolation")("Encountered message author id which is not a fbid "+b("bs_int64").to_string(g.message.h),"messenger_privacy_web")}else b("recoverableViolation")("Tried to reply to a message that does not exist","messenger_privacy_web");return b("Promise").resolve(void 0)},h(a._0,c)));b("promiseDone")(g,void 0,void 0)},[c,f,d,e]);return[a[0],j,i]}f.useCurrentlyRepliedToMessage=a}),null);
__d("MWUIRepliedToMessage.bs",["cr:1456296"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1456296").useCurrentlyRepliedToMessage;f.$MWLSRepliedToMessage$OR$MWMSRepliedToMessage$requireCond=b("cr:1456296");f.useCurrentlyRepliedToMessage=a}),null);
__d("MWLSFetchMessagesPage.bs",["LS.bs","LSMailboxIssueMessagesRangeQueryStoredProcedure","LSTransaction.bs","MWThreadKey.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return g.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return(a!==void 0?window.Promise.resolve(a):b("SkytaleDBQuery.bs").first(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages_ranges_v2__generated").desc,{hd:d,tl:0}))).then(function(a){if(a!==void 0)return b("LSMailboxIssueMessagesRangeQueryStoredProcedure")(d,a.b,e,b("LS.bs").make(c));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[c,d,a])}f.useFetchMessagesPage=a}),null);
__d("MWLSLoadOpenThreadMessages.bs",["LSMessagingThreadTypeUtil.bs","MWLSActor.bs","MWLSCurrentThreadParticipants.bs","MWLSMessage.bs","MWLSMessageGroupsParser.bs","MWLSMessageParser.bs","MWLSThreadDisplayContext.bs","MWThread_DEPRECATED.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","SortedAsyncIterable.bs","bs_caml_format","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWThread_DEPRECATED.bs").useIdExn(void 0),h=b("MWThread_DEPRECATED.bs").toThreadKey(f),i=b("LSMessagingThreadTypeUtil.bs").ofThreadId(f),j=b("bs_int64").to_string(h),k=b("MWLSActor.bs").useActor(void 0),l=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(e,"messages_ranges_v2__generated").desc,{hd:h,tl:0}),function(a){return a.b})},[e,j])),m=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){if(l!==void 0)return b("MWLSMessage.bs").getAllInRangeStartingFrom(l,b("bs_caml_int64").mk(1316134911,2328),b("bs_caml_format").caml_int64_of_string(j),e);else return b("SortedAsyncIterable.bs").empty(void 0)},[j,JSON.stringify(l),e])),n=b("MWLSCurrentThreadParticipants.bs").useMWLSParticipantsMap(void 0),o=b("MWLSThreadDisplayContext.bs").useHook(void 0);return g.useMemo(function(){var e=b("MWLSMessageGroupsParser.bs").getSeenHeads(n,m,k);return b("MWLSMessageGroupsParser.bs").parse(m,n,e,k,i,b("MWLSMessageParser.bs").makeParser(k,n,e,o,d),a,c,o)},[m,n,JSON.stringify(k),i,o])}f.useMessageItems=a}),null);
__d("MWUILoadThreadMessages.bs",["cr:1455907"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1455907").useMessageItems;f.$MWLSLoadOpenThreadMessages$OR$MWMSLoadThreadMessages$requireCond=b("cr:1455907");f.useMessageItems=a}),null);
__d("MWChatLoadMoreItemsIncrementally.bs",["LSMailboxMessagesRangeQueryDirection.bs","React","bs_belt_Array","bs_caml_int64","bs_curry","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d,e,f,h){a=a!==void 0?a:!1;var i=c!==void 0?c:!0;c=d!==void 0?d:0;var j=e.length,k=typeof c==="number"?!1:c._0>=200;d=g.useState(function(){if(k)return j;else if(i)if(window.innerHeight<1200)return 15;else return 30;else return 10});var l=d[1],m=d[0];c=g.useMemo(function(){return b("bs_belt_Array").sliceToEnd(e,-m|0)},[e,m]);d=g.useCallback(function(a){b("bs_caml_int64").neq(a,b("LSMailboxMessagesRangeQueryDirection.bs").before)&&b("unrecoverableViolation")("Message fetch direction must be 'before'","messenger_web_product");if((m+15|0)<=j)return b("bs_curry")._1(l,function(a){return m+15|0});else{m<(j+15|0)&&b("bs_curry")._1(l,function(a){return j+15|0});return b("bs_curry")._1(f,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},[j,m,l,f]);if(a)return[e,f,h];else return[c,d,h||m<j]}function c(a,b,c,d,e,f){return[d,e,f]}d=b("gkx")("1224637")&&!b("gkx")("1630108");e=!d&&b("gkx")("1776660")?a:c;d=15;a=10;c=15;var h=30,i=1200,j=200;f.pageSize=d;f.initialCountSmall=a;f.initialCountDefault=c;f.initialCountTall=h;f.tallWindowHeight=i;f.minScrollPosToMountAll=j;f.useLoadMore=e}),null);
__d("MWLSGetParticipantFbids.bs",["FBID.bs","LSMessagingThreadTypeUtil.bs","MWLSParticipant.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuerySubscriptionHook.bs","SortedAsyncIterable.bs","bs_curry","bs_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWUIChatTabState.bs").useTab(void 0);a=b("MWUIChatTabState.bs").useTokenProvider(void 0);var e=g.useMemo(function(){if(!d)return b("SortedAsyncIterable.bs").empty(void 0);var a=d._0,e=b("MWThread_DEPRECATED.bs").toThreadKey(a);a=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a);var f=b("SkytaleDB").table(c,"contacts").asc;if(b("LSMessagingThreadTypeUtil.bs").isSecure(a))return b("MWLSParticipant.bs").getAllInSecureThread(c,f,e);else return b("MWLSParticipant.bs").getAllInOpenThread(c,f,e)},[c,d]);e=b("SkytaleDBQuerySubscriptionHook.bs").useArray(e);if(d)return e.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contact_id))});else return b("bs_curry")._1(a,void 0)}f.useHook=a}),null);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","React","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=function(a){return b("bs_curry")._1(c,d)};var e=d.image_url;return g.jsx("div",{children:g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:d.title,imageUrl:e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e)):void 0})})}c=a;f.make=c}),null);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h="en-US";function i(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=b("CometRelay").useRelayEnvironment();return function(c){var d=b("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var b=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;b&&d&&a&&c(i(b,d,a,h))}});b("promiseDone")(d)}};f.useUserBirthdayDataQuery=a;var j=g!==void 0?g:g=b("MWChatUserBirthdayQuery.graphql")}),null);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),f=g.useState(function(){}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})})},[a,e,h]);if(f===void 0)return null;a=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:a,data:i,image_url:j,payload:d,title:f};a=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:f})}c=a;f.make=c}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){var a=b("CometRelay").useRelayEnvironment();return function(c){var d=b("CometRelay").fetchQuery(a,h,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var b=a.find(function(a){return a.is_primary});b!=null?c(b.display_email):c(a[0].display_email)}});b("promiseDone")(d)}};f.useUserEmailDataQuery=a;var h=g!==void 0?g:g=b("MWChatUserEmailQuery.graphql")}),null);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserEmailQuery").useUserEmailDataQuery(),f=g.useState(function(){}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})})},[a,e,h]);if(f===void 0)return null;a=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:a,data:i,image_url:j,payload:d,title:f};a=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:f})}c=a;f.make=c}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){var a=b("CometRelay").useRelayEnvironment();return function(c){var d=b("CometRelay").fetchQuery(a,h,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var b=a.find(function(a){return a.is_preferred});if(b!=null){c((b=b.phone_number)==null?void 0:b.universal_number)}else{c((b=a[0].phone_number)==null?void 0:b.universal_number)}}});b("promiseDone")(d)}};f.useUserPhoneNumberDataQuery=a;var h=g!==void 0?g:g=b("MWChatUserPhoneNumberQuery.graphql")}),null);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),f=g.useState(function(){}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})})},[a,e,h]);if(f===void 0)return null;a=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:a,data:i,image_url:j,payload:d,title:f};a=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:f})}c=a;f.make=c}),null);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){var a=b("CometRelay").useRelayEnvironment();return function(c){var d=b("CometRelay").fetchQuery(a,h,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&c(a)});b("promiseDone")(d)}};f.useUserProfileStateDataQuery=a;c=function(){var a=b("CometRelay").useRelayEnvironment();return function(c){var d=b("CometRelay").fetchQuery(a,h,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&c(a)});b("promiseDone")(d)}};f.useUserProfileZipCodeDataQuery=c;var h=g!==void 0?g:g=b("MWChatUserProfileLocationQuery.graphql")}),null);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),f=g.useState(function(){}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})})},[a,e,h]);if(f===void 0)return null;a=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:a,data:i,image_url:j,payload:d,title:f};a=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:f})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","React","bs_curry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.onSend,d=a.quickReply;a=a.userID;var e=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),f=g.useState(function(){}),h=f[1];f=f[0];g.useEffect(function(){e(function(a){return b("bs_curry")._1(h,function(b){return a})})},[a,e,h]);if(f===void 0)return null;a=d.content_type;var i=d.data,j=d.image_url;d=d.payload;var k={content_type:a,data:i,image_url:j,payload:d,title:f};a=function(a){return b("bs_curry")._1(c,k)};return g.jsx(b("MWChatBusinessQuickReply.bs").make,{onClick:a,text:f})}c=a;f.make=c}),null);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MWTheme.bs","MessengerWebEvent","MessengerWebStgTypedLoggerLite.bs","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={mask:{backgroundColor:"nred35xi"},container:{position:"l9j0dhe7",width:"k4urcfbm"},pillContainer:{backgroundColor:"nred35xi",display:"j83agx80",flexDirection:"btwxx1t3",flexWrap:"owycx6da",paddingTop:"jwdofwj8",paddingEnd:"dflh9lhu",paddingBottom:"osnr6wyh",paddingStart:"scb9dxdr"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=b("MWTheme.bs").useTheme(void 0);h.useEffect(function(){b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e})},[e]);return h.jsx("div",{children:h.jsx(b("CometScrollableArea.react"),{horizontal:!0,children:h.jsx("div",{children:c.map(function(a,c){var e=b("CurrentUser").getID(),f=a.content_type;switch(f){case"text":return h.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a},String(c));case"user_birthday":return h.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_email":return h.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_phone_number":return h.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_state":return h.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e},String(c));case"user_zip_code":return h.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e},String(c));default:return null}}),className:(g||(g=b("stylex")))(i.pillContainer)})}),className:g(i.container,b("MWTheme.bs").isGradient(a)?i.mask:!1)})}c=a;f.styles=i;f.make=c}),null);
__d("MWLSQuickReplies.bs",["FBID.bs","LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSThreadAttributionStore.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWLSActor.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","bs_caml_option","bs_int64","bs_js_null_undefined","bs_pervasives","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.lsSource,d=a.lastMessageId,e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),h=b("MWLSActor.bs").useActor(void 0);a=b("SkytaleDBQuerySubscriptionHook.bs").useArray(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(e,"quick_reply_ctas").asc,{hd:f,tl:{hd:d,tl:0}}),function(a){var c=a.g,d;switch(c){case"quick_reply_email":d="user_email";break;case"quick_reply_phone":d="user_phone_number";break;case"quick_reply_text":d="text";break;default:d=b("bs_pervasives").failwith("Unexpeced quick-reply type")}return{content_type:d,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.f)),payload:b("bs_caml_option").some(a.h),title:a.e}})},[e,d,f]));if(a.length>0)return g.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a,onSend:function(a){var d=b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(f)),g=b("LSTransaction.bs").run(e,function(c){var e=a.payload;if(e!==void 0){e=b("bs_caml_option").valFromOption(e);var g=e==null?void 0:b("bs_caml_option").some(e);e=e==null?void 0:g}else e=void 0;return b("LSMailboxOptimisticSendMessageStoredProcedure")(h,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,d,void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,!0,!0,void 0,b("LS.bs").make(c)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(g,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(h))});else return null}function a(a){a=a.lsSource;var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages").desc,{hd:d,tl:0}),function(a){return[a.J,a.e]})},[c,d])),[!1,""]);if(e[0])return g.jsx(h,{lsSource:a,lastMessageId:e[1]});else return null}c=a;f.make=c}),null);
__d("MWChatTypingIndicators.bs",["CometTooltip.react","MWChatBubbleSolid.bs","MWChatProfile.bs","MWChatTypingIndicator.bs","MWTheme.bs","MWUILoadTypingParticipants.bs","React","bs_caml_option","bs_curry","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"},rootMask:{paddingTop:"jb3vyjys",paddingBottom:"qt6c0cv9"},profile:{flexShrink:"pfnyh3mw",alignItems:"aovydwv3",display:"j83agx80"},solid:{marginStart:"h676nmdw",marginEnd:"oi9244e8",marginBottom:"arzshmzb"},mask:{backgroundColor:"nred35xi"},verticalSep:{width:"c9rrlmt1",backgroundColor:"nred35xi",flexShrink:"pfnyh3mw"},flexibleSep:{backgroundColor:"nred35xi",flexGrow:"buofh1pr"},topSep:{height:"am38r5jf",flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},bottomSep:{height:"mw227v9j",flexShrink:"pfnyh3mw",backgroundColor:"nred35xi"},bubbleContainer:{backgroundColor:"nred35xi"}};function a(a){a=b("bs_curry")._1(b("MWUILoadTypingParticipants.bs").useHook,void 0);var c=b("MWTheme.bs").useTheme(void 0),d=b("MWTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.topSep)}):null,e=b("MWTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.bottomSep)}):null,f=b("MWTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.verticalSep)}):null,j=b("MWTheme.bs").isGradient(c)?h.jsx("div",{className:(g||(g=b("stylex")))(i.flexibleSep)}):null;return a.map(function(a){var k=a.name,l={size:28,alt:k};a.profileImage!==void 0&&(l.src=b("bs_caml_option").valFromOption(a.profileImage));return h.jsxs(h.Fragment,{children:[d,h.jsxs("div",{children:[f,h.jsx("div",{children:h.jsx(b("CometTooltip.react"),{tooltip:k,align:"middle",position:"start",children:h.jsx(b("MWChatProfile.bs").make,l)}),className:(g||(g=b("stylex")))(i.profile,b("MWTheme.bs").isGradient(c)?i.mask:i.solid)}),f,h.jsx("div",{children:h.jsx(b("MWChatBubbleSolid.bs").make,{content:h.jsx(b("MWChatTypingIndicator.bs").make,{}),first:!0,last:!0,outgoing:!1}),className:g(i.bubbleContainer)}),j],className:g(i.root,b("MWTheme.bs").isGradient(c)?i.rootMask:!1)}),e]},a.participantId)})}c=a;f.styles=i;f.make=c}),null);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometRow.react","CometRowItem.react","JSResource","React","TetraButton.react","TetraText.react","TetraishSkittleIcon.react","bs_curry","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={button:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"},imageRow:{paddingTop:"jwdofwj8"},card:{width:"k4urcfbm",position:"pmk7jnqg",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",boxShadow:"rlauoc8d"}};function a(a){var c,d,e=a.onView;a=a.onDismiss;var f=g._("Comment fonctionne le retrait de message"),l=g._("Si les messages retir\u00e9s ne respectent pas les Standards de la communaut\u00e9, ils peuvent quand m\u00eame \u00eatre inclus dans un signalement.");return j.jsxs("div",{children:[j.jsxs(c=b("CometRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(d=b("CometRowItem.react"),{xstyle:k.imageRow,children:j.jsx(b("TetraishSkittleIcon.react"),{color:"gray",size:36,icon:b("fbicon")._(h("685851"),16)})}),j.jsxs(d,{expanding:!0,children:[j.jsx(c,{paddingHorizontal:0,paddingTop:0,children:j.jsx(d,{children:j.jsx(b("TetraText.react"),{color:"primary",type:"headline4",children:f})})}),j.jsx(c,{paddingHorizontal:0,paddingTop:8,children:j.jsx(d,{children:j.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:l})})})]})]}),j.jsxs(c,{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(d,{xstyle:k.button,children:j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){return j.jsx(b("TetraButton.react"),{label:g._("En savoir plus"),type:"secondary",onPress:function(c){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(e,void 0)}})}})}),j.jsx(d,{xstyle:k.button,children:j.jsx(b("TetraButton.react"),{label:g._("OK"),type:"secondary",onPress:a})})]})],className:(i||(i=b("stylex")))(k.card)})}c=a;f.styles=k;f.make=c}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","React","RelayHooks","promiseDone","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("useMessengerUnsendNUXQuery.graphql");function a(a){var c=b("RelayHooks").useRelayEnvironment(),d=h.useCallback(function(d){b("promiseDone")(b("CometRelay").fetchQuery(c,i,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;d(a)},null)},[c,a]),e=h.useCallback(function(){b("CometDismissFBNuxMutation").commit(c,a)},[c,a]),f=h.useCallback(function(){b("CometLogImpressionFBNuxMutation").commit(c,a)},[c,a]);return[d,e,f]}}),null);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWLSActor.bs","MWThreadKey.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml_int64","bs_curry","useMessengerUnsendNUX"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){return Date.now()-b("bs_caml_int64").to_float(b("bs_belt_Option").getWithDefault(a.X,b("bs_caml_int64").zero))<=1e4}function a(a){var c=b("MWLSActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("SkytaleDBHook.bs").useHook(void 0);a=g.useState(function(){return!1});var f=a[1],i=a[0],j=g.useRef(!1),k=g.useRef(!1),l=g.useRef(void 0);a=b("useMessengerUnsendNUX")(8568);var m=a[2],n=a[1],o=a[0],p=g.useCallback(function(a){a=l.current;if(a!==void 0){b("bs_curry")._1(a,void 0);l.current=void 0;return}},[]);a=g.useCallback(function(a){k.current=!0;b("bs_curry")._1(n,void 0);b("bs_curry")._1(p,void 0);return b("bs_curry")._1(f,function(a){return!1})},[]);var q=g.useCallback(function(a){var c=!i&&!j.current;if(c&&h(a)){j.current=!0;return b("bs_curry")._1(o,function(a){j.current=!1;if(a)return b("bs_curry")._1(f,function(a){return!0});else{b("bs_curry")._1(p,void 0);k.current=!0;return}})}},[c,i]);g.useEffect(function(){if(k.current)return;else{l.current=b("SortedAsyncIterable.bs").subscribe(b("SkytaleDBQuery.bs").filter(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(e,"messages").asc,{hd:d,tl:0}),function(a){if(a.m)return b("bs_caml_int64").neq(a.h,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(q,c._0)});return function(a){b("bs_curry")._1(p,void 0);if(i&&!k.current)return b("bs_curry")._1(m,void 0)}}},[i,q,d,p]);if(i)return g.jsx(b("MWChatUnsendNUXReceiverBanner.bs").make,{onView:a,onDismiss:a});else return null}c=8568;d=1e4;e=a;f.cNUX_ID=c;f.cTEN_SECONDS=d;f.isMessageUnsentInLastTenSeconds=h;f.make=e}),null);
__d("MWComposerXacDisclosureLoader.bs",["LSAuthorityLevel.bs","MWComposerXacDisclosureRelay.react","MWLSThreadHasInstagramUsers.bs","MWThreadKey.bs","React","SkytaleDB","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs","bs_belt_Option","bs_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.size;var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=JSON.stringify(d),f=b("bs_belt_Option").isSome(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").filter(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_int64").compare(a.Z,b("LSAuthorityLevel.bs").authoritative)<0})},[e,c])));e=b("bs_belt_Option").isSome(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("MWLSThreadHasInstagramUsers.bs").query(c,d)},[e,c])));if(e)return g.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:f,size:a});else return null}c=a;f.make=c}),null);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);c=a;e.exports=c}),null);